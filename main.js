(()=>{"use strict";const e=e=>({name:e=e,dueDate:"",priority:"",projectId:"",notes:"",id:Date.now()}),t=(()=>{let e=[];return{addTask:t=>{e.push(t)},getTasks:()=>e,updateTask:t=>{for(let a=0;a<e.length;a++)if(e[a].id===t.id)return void e.splice(a,1,t)},deleteTask:t=>{for(let a=0;a<e.length;a++)if(e[a].id===t)return void e.splice(a,1)},sortByDate:e=>e.sort(((e,t)=>e.dueDate<t.dueDate?-1:e.dueDate>t.dueDate?1:0)),sortByName:e=>e.sort(((e,t)=>{const a=e.name.toUpperCase(),n=t.name.toUpperCase();return a<n?-1:a>n?1:0}))}})(),a=e=>({name:e=e,taskIds:[],id:Date.now()}),n=(()=>{let e=[];return{addProject:t=>{e.push(t)},getProjects:()=>e,updateProject:t=>{for(let a=0;a<e.length;a++)if(e[a].id===t.id)return void e.splice(a,1,t)},deleteProject:t=>{for(let a=0;a<e.length;a++)if(e[a].id===t)return void e.splice(a,1)},sortByName:e=>e.sort(((e,t)=>{const a=e.name.toUpperCase(),n=t.name.toUpperCase();return a<n?-1:a>n?1:0})),getProjectById:t=>{for(let a=0;a<e.length;a++)if(e[a].id===t)return e[a]}}})(),d=a("Write script");n.addProject(d);const o=e("Buy binder"),c=e("Do research");o.projectId=d.id,c.projectId=d.id,c.dueDate=new Date(Date.now()),t.addTask(o),t.addTask(c),d.taskIds.push(o.id,c.id),setTimeout((()=>{const d=a("Do homework");n.addProject(d);const o=e("Write English essay"),c=e("Study math exam");o.projectId=d.id,c.projectId=d.id,o.dueDate=new Date(Date.now()),t.addTask(o),t.addTask(c),d.taskIds.push(o.id,c.id)}),10);const s=e=>{const t=document.createElement("header"),a=document.createElement("i");a.className="far fa-check-circle",t.appendChild(a);const n=document.createElement("h1");n.textContent="My Todo",t.appendChild(n);const d=document.createElement("div");d.id="side-bar";const o=document.createElement("ul");o.id="category-btns",d.appendChild(o);const c=document.createElement("h2");c.textContent="Projects",d.appendChild(c);const s=document.createElement("ul");s.id="projects",d.appendChild(s);const l=document.createElement("div");l.id="add-project-btn";const r=document.createElement("i");r.className="fas fa-plus";const i=document.createElement("span");i.textContent="Add project",l.appendChild(r),l.appendChild(i),d.appendChild(l);const p=document.createElement("div");p.id="content-area",e.appendChild(t),e.appendChild(d),e.appendChild(p)},l=(e,t)=>{t.map((t=>{const a=document.createElement("li");if(t.iconClass){const e=document.createElement("i");e.className=t.iconClass,a.appendChild(e)}const n=document.createElement("span");n.textContent=t.label,a.appendChild(n),e.appendChild(a)}))},r=(e,t,a)=>{t.map((t=>{const n=document.createElement("div");n.className="name-wrapper";const d=document.createElement("i");d.className="fas fa-tasks",n.appendChild(d);const o=document.createElement("h2");o.textContent=t.name,n.appendChild(o);const c=document.createElement("ul");a.filter((e=>e.projectId===t.id)).map((e=>{const t=document.createElement("li"),a=document.createElement("span");a.className="check-circle",t.appendChild(a);const n=document.createElement("span");n.className="task-label",n.textContent=e.name,t.appendChild(n);const d=document.createElement("div");d.className="priority-level";const o=document.createElement("i");o.className="priority-flag fab fa-font-awesome-flag",d.appendChild(o),t.appendChild(d);const s=document.createElement("i");s.className="far fa-edit edit-icon",t.appendChild(s),c.appendChild(t)})),e.appendChild(n),e.appendChild(c)}))},i=()=>{const e=document.getElementById("main-container");s(e)},p=()=>{const e=document.getElementById("projects"),t=n.sortByName(n.getProjects());let a=[];t.length>0&&(t.map((e=>{const t={label:e.name,iconClass:"fas fa-folder-open"};a.push(t)})),l(e,a))},m=()=>{const e=document.getElementById("category-btns");l(e,[{label:"All tasks",iconClass:"fas fa-inbox"},{label:"Today",iconClass:"fas fa-calendar-day"},{label:"Next 7 days",iconClass:"fas fa-calendar-week"}])},u=()=>{const e=document.getElementById("content-area"),a=new Date(Date.now()).toDateString(),d=t.getTasks().filter((e=>""!==e.dueDate&&e.dueDate.toDateString()===a)),o=d.reduce(((e,t)=>{const a=n.getProjectById(t.projectId);return e.push(a),e}),[]);r(e,o,d)};window.onload=e=>{i(),m(),setTimeout((()=>{p(),u()}),11)}})();