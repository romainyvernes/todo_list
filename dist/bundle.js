/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var t={756:(t,e,n)=>{"use strict";n.d(e,{Z:()=>f});var r=n(15),i=n.n(r),o=n(645),a=n.n(o),s=n(667),u=n.n(s),c=new URL(n(476),n.b),h=a()(i());h.push([t.id,"@import url(https://fonts.googleapis.com/css2?family=Sulphur+Point:wght@400;700&display=swap);"]);var l=u()(c);h.push([t.id,"*,\n*:before,\n*:after {\n  box-sizing: border-box;\n}\n\n/*\n * Backgrounds\n */\n\n.primary-bg {\n    background: rgb(20, 47, 105);\n}\n\n.primary-bg-hovered:hover {\n    background: rgb(22, 62, 148);\n}\n\n.secondary-bg {\n    background: rgb(35, 163, 248);\n}\n\n.secondary-bg-hovered:hover {\n    background: rgba(35, 163, 248, 0.8);\n}\n\n.neutral-bg {\n    background: #fff;\n}\n\n/*\n * Buttons, links, and inputs\n */\n\nbutton, a, input {\n    font-family: inherit;\n    font-size: inherit;\n    color: inherit;\n    background: transparent;\n    border: none;\n    outline: none;\n    text-decoration: none;\n}\n\nbutton, a {\n    cursor: pointer;\n}\n\n.site-btn {\n    display: flex;\n    align-items: center;\n    padding: 0.6em 1em;\n}\n\n.site-btn:hover {\n    cursor: pointer;\n}\n\n/*\n * Navigation lists\n */\n\nul {\n    list-style: none;\n}\n\n/*\n * Fonts\n */\n\n/* set website default font family and color */\nbody {\n    font-family: 'Sulphur Point', sans-serif;\n    color: #fff;\n    white-space: nowrap;\n}\n\n/*\n * Effects\n */\n\n.hide {\n    display: none;\n}\n\n.fade-out {\n    animation: 350ms fadeout;\n}\n\n@keyframes fadeout {\n    to {\n        opacity: 0;\n    }\n}\n\n.rounded-corners {\n    border-radius: 5px;\n}\n\n.shrink-on-click:active {\n    transform: scale(0.8);\n}\n\n/*\n * Containers\n */\n\n.left,\n.right {\n    display: flex;\n    align-items: center;\n}\n\n/*\n * Page header\n */\n\n.primary-header {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 0.5em 2em;\n    font-size: 0.9em;\n}\n\n.primary-header .left i {\n    font-size: 1.8em;\n}\n\nh1 {\n    margin-left: 0.5em;\n    font-size: 2.5em;\n}\n\n#profile-pic {\n    height: 20px;\n    width: 20px;\n    background-size: cover;\n    border-radius: 50%;\n}\n\n#user-name {\n    margin: 0 1.2em 0 0.5em;\n}\n\n#hamburger-logo {\n    margin-left: 0.5em;\n    font-size: 1.5em;\n}\n\n/*\n * Main page area\n */\n\nmain {\n    height: 100vh;\n    display: flex;\n}\n\n/*\n * Side bar\n */\n\n#side-bar {\n    flex-basis: 280px;\n    padding: 2em 1em;\n    overflow-y: scroll;\n    font-size: 1.1em;\n}\n\n/* container for projects heading and list of projects in side bar */\n.projects {\n    margin-top: 2em;\n}\n\n/* h2 element for list of projects */\n.projects h2 {\n    margin-bottom: 0.5em;\n    color: #000;\n    font-weight: 700;\n    font-size: 1.3em;\n}\n\n/* shrinks all icons in side bar */\n#side-bar i {\n    font-size: 0.7em;\n}\n\n/* spacing between first icon and heading of every button in side bar */\n#side-bar .site-btn {\n    gap: 0.7em;\n}\n\n/* adds spacing below every clickable button in side bar */\n#side-bar li {\n    margin-bottom: 0.7em;\n}\n\n/* creates ease-out effect when projects are deleted from side bar */\n#projects li {\n    transition: opacity 0.3s;\n}\n\n/* move trash icon all the way to the right of container */\n.delete-project {\n    margin-left: auto;\n    transition: transform 0.3s;\n}\n\n.delete-project:hover {\n    color: rgb(177, 2, 2);\n    transform: scale(1.2);\n}\n\n/* use 3 selectors to counter gap property defined on site buttons in \nside-bar */\n#side-bar div#add-project-input {\n    gap: 0.5em;\n    padding-right: 0.7em;\n}\n\n#add-project-container {\n    width: 100%;\n}\n\n/* input element within container to add new project */\n#add-project-input input {\n    flex-grow: 1;\n    font-size: 0.9em;\n}\n\n/* validation and cancel buttons to add new projects */\n#add-project-input button {\n    padding: 0;\n}\n\n/*\n * Content area\n */\n\n#content-area {\n    max-width: 1000px;\n    margin: 0 auto;\n    flex-grow: 1;\n    padding: 1.5em;\n    overflow: auto;\n    background: url("+l+') center/50vh no-repeat;\n}\n\n/* header at the top of content area section */\n#content-area > header {\n    display: flex;\n    justify-content: space-between;\n}\n\n/* applies uniform font size for icons and h2 elements in header of content\narea */\n#content-area h2,\n#content-area header i {\n    font-size: 2em;\n}\n\n/* container for projects and their respective tasks in content area section */\n#content-area article {\n    margin: 0.7em 0 3em 0;\n}\n\n/* container for project name and add task button within article elements */\n.project-header {\n    display: flex;\n    justify-content: space-between;\n}\n\n/* container for project name and icon */\n.name-wrapper {\n    display: flex;\n    align-items: center;\n    gap: 0.5em;\n}\n\n/* applies to project names when they are part of an article element */\n.project-header .name-wrapper {\n    font-size: 1.4em;\n}\n\n/* button to add tasks within each project */\n.task-add-btn {\n    height: 45px;\n    width: 45px;\n    border-radius: 50%;\n    font-size: 1.8em;\n    border: 0.1em solid rgb(35, 163, 248);\n    transition: transform 0.4s;\n}\n\n.task-add-btn:hover {\n    transform: rotate(90deg) scale(1.2);\n}\n\n/* lists of tasks within each project */\n#content-area ul {\n    margin-top: 1em;\n}\n\n/* create right indentation for all task-related containers in content area */\n#content-area ul,\n#new-task-container {\n    margin-right: 3em;\n}\n\n/* common features applicable to task containers when task is either displayed\nor is being edited */\n.task-wrapper {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    margin: 0.8em 0;\n    color: black;\n    padding: 0.7em 1em;\n}\n\n/* hide name of task when took long */\n.task-wrapper .left {\n    overflow: hidden;\n}\n\n/* right side of task wrapper */\n.task-wrapper .right {\n    gap: 1em;\n}\n\n/* name of task when task is displayed */\n.task-label {\n    margin-left: 1em;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n\n/* features specific to task containers when a task is being edited */\n.edit-mode {\n    padding: 0.5em 1em;\n}\n\n/* set common border style to all input elements and clear button on edit mode */\n.edit-mode input,\n#new-task-date-reset {\n    border: 1px solid grey;\n}\n\n#new-task-name {\n    padding: 0.2em 0.3em;\n}\n\n#new-task-due-date {\n    padding: 0 0.5em;\n}\n\n#new-task-date-reset {\n    margin-left: 0.5em;\n    padding: 0 0.4em;\n}\n\n#new-task-date-reset:hover {\n    background: rgba(0, 0, 0, 0.5);\n    color: #fff;\n}\n\n/* container for flag icons */\n#new-task-priority-wrapper {\n    /* set height equal to container height instead of content height to fix \n    jumping effect that occurs when container height briefly changes upon \n    priority change */\n    align-self: stretch;\n    display: flex;\n    align-items: center;\n}\n\n/* hide default radio input */\ninput[type="radio"] {\n    display: none;\n}\n\n/* when one of the radio input elements is selected, slightly increase the size\nof its corresponding flag */\ninput[type="radio"]:checked + i {\n    font-size: 1.2em;\n}\n\n/* space out flags and smooth flag size change */\n#new-task-priority-wrapper i {\n    margin: 0 0.2em;\n    transition: font-size 0.2s;\n}\n\n/* container for both circle and check mark */\n.bullet-point {\n    position: relative;\n}\n\n/* circle-shaped span element */\n.check-circle {\n    border: 1px solid black;\n    height: 12px;\n    width: 12px;\n    border-radius: 50%;\n    display: inline-block;\n}\n\n/* check mark to indicate a task is completed */\n.check-mark {\n    font-size: 0.8em;\n    position: absolute;\n    left: 1px;\n    top: -1px;\n    opacity: 0;\n}\n\n.check-mark:hover {\n    opacity: 1;\n}\n\n.bullet-point:hover ~ .task-label {\n    text-decoration: line-through;\n    text-decoration-thickness: 0.2em;\n}\n\n.low-priority {\n    color: green;\n}\n\n.medium-priority {\n    color: orange;\n}\n\n.high-priority {\n    color: red;\n}\n\n.task-edit-btn {\n    color: rgb(35, 163, 248);\n}\n\n/*\n * Responsiveness\n */\n\n/* tablet display */\n@media (max-width: 1023px) {\n    main {\n        position: relative;\n    }\n    \n    /* repositions side-bar to the right of page\'s main element, and on top of\n    all other elements */\n    #side-bar {\n        z-index: 5;\n        position: absolute;\n        right: 0;\n        top: 0;\n        transition: 0.3s;\n        width: 0;\n        padding: 2em 0;\n    }\n\n    #side-bar.slide-in {\n        width: 280px;\n        padding: 2em 1em;\n    }\n    \n    /* ensure hamburger */\n    #hamburger-logo {\n        display: block;\n    }\n}\n\n/* standard mobile display */\n@media (max-width: 767px) {\n    body {\n        font-size: 0.9em;\n    }\n\n    h1 {\n        margin-left: 0.25em;\n    }\n    \n    .primary-header {\n        padding: 1em;\n    }\n\n    #content-area {\n        background-size: contain;\n    }\n\n    /* let tasks take up 100 percent of window width */\n    #content-area ul,\n    #new-task-container {\n        margin-right: 0;\n    }\n\n    /* remove excessive padding on the right of task wrapper */\n    .task-wrapper {\n        padding-right: 0.5em;\n    }\n\n    /* hide elements considered unnecessary on smaller displays */\n    .regular-display {\n        display: none;\n    }\n\n    /* hide hamburger logo to free up space when user is not logged in */\n    .sign-out-btn.hide + #hamburger-logo {\n        display: none;\n    }\n\n    .task-label {\n        margin-left: 0.5em;\n    }\n\n    .edit-mode {\n        gap: 0.5em;\n    }\n\n    .edit-mode button {\n        padding: 0 0.25em;\n    }\n\n    #new-task-name {\n        margin-right: auto;\n        width: 100%;\n        max-width: 250px;\n    }\n\n    /* remove default border */\n    #new-task-due-date {\n        border: none;\n    }\n\n    /* remove display of current selected date */\n    #new-task-due-date::-webkit-datetime-edit {\n        display: none;\n    }\n\n    #new-task-due-date::-webkit-calendar-picker-indicator {\n        margin: 0;\n    }\n}\n\n/* small mobile display */\n@media (max-width: 319px) {\n    /* hide due date and flag */\n    .task-date,\n    .priority-level {\n        display: none;\n    }\n\n    .primary-header .site-btn {\n        padding: 0.2em;\n    }\n}',"",{version:3,sources:["webpack://./src/styles/main.css"],names:[],mappings:"AAAA;;;EAGE,sBAAsB;AACxB;;AAEA;;EAEE;;AAEF;IACI,4BAA4B;AAChC;;AAEA;IACI,4BAA4B;AAChC;;AAEA;IACI,6BAA6B;AACjC;;AAEA;IACI,mCAAmC;AACvC;;AAEA;IACI,gBAAgB;AACpB;;AAEA;;EAEE;;AAEF;IACI,oBAAoB;IACpB,kBAAkB;IAClB,cAAc;IACd,uBAAuB;IACvB,YAAY;IACZ,aAAa;IACb,qBAAqB;AACzB;;AAEA;IACI,eAAe;AACnB;;AAEA;IACI,aAAa;IACb,mBAAmB;IACnB,kBAAkB;AACtB;;AAEA;IACI,eAAe;AACnB;;AAEA;;EAEE;;AAEF;IACI,gBAAgB;AACpB;;AAEA;;EAEE;;AAIF,8CAA8C;AAC9C;IACI,wCAAwC;IACxC,WAAW;IACX,mBAAmB;AACvB;;AAEA;;EAEE;;AAEF;IACI,aAAa;AACjB;;AAEA;IACI,wBAAwB;AAC5B;;AAEA;IACI;QACI,UAAU;IACd;AACJ;;AAEA;IACI,kBAAkB;AACtB;;AAEA;IACI,qBAAqB;AACzB;;AAEA;;EAEE;;AAEF;;IAEI,aAAa;IACb,mBAAmB;AACvB;;AAEA;;EAEE;;AAEF;IACI,aAAa;IACb,mBAAmB;IACnB,8BAA8B;IAC9B,kBAAkB;IAClB,gBAAgB;AACpB;;AAEA;IACI,gBAAgB;AACpB;;AAEA;IACI,kBAAkB;IAClB,gBAAgB;AACpB;;AAEA;IACI,YAAY;IACZ,WAAW;IACX,sBAAsB;IACtB,kBAAkB;AACtB;;AAEA;IACI,uBAAuB;AAC3B;;AAEA;IACI,kBAAkB;IAClB,gBAAgB;AACpB;;AAEA;;EAEE;;AAEF;IACI,aAAa;IACb,aAAa;AACjB;;AAEA;;EAEE;;AAEF;IACI,iBAAiB;IACjB,gBAAgB;IAChB,kBAAkB;IAClB,gBAAgB;AACpB;;AAEA,oEAAoE;AACpE;IACI,eAAe;AACnB;;AAEA,oCAAoC;AACpC;IACI,oBAAoB;IACpB,WAAW;IACX,gBAAgB;IAChB,gBAAgB;AACpB;;AAEA,kCAAkC;AAClC;IACI,gBAAgB;AACpB;;AAEA,uEAAuE;AACvE;IACI,UAAU;AACd;;AAEA,0DAA0D;AAC1D;IACI,oBAAoB;AACxB;;AAEA,oEAAoE;AACpE;IACI,wBAAwB;AAC5B;;AAEA,0DAA0D;AAC1D;IACI,iBAAiB;IACjB,0BAA0B;AAC9B;;AAEA;IACI,qBAAqB;IACrB,qBAAqB;AACzB;;AAEA;UACU;AACV;IACI,UAAU;IACV,oBAAoB;AACxB;;AAEA;IACI,WAAW;AACf;;AAEA,sDAAsD;AACtD;IACI,YAAY;IACZ,gBAAgB;AACpB;;AAEA,sDAAsD;AACtD;IACI,UAAU;AACd;;AAEA;;EAEE;;AAEF;IACI,iBAAiB;IACjB,cAAc;IACd,YAAY;IACZ,cAAc;IACd,cAAc;IACd,yEAA8E;AAClF;;AAEA,8CAA8C;AAC9C;IACI,aAAa;IACb,8BAA8B;AAClC;;AAEA;MACM;AACN;;IAEI,cAAc;AAClB;;AAEA,8EAA8E;AAC9E;IACI,qBAAqB;AACzB;;AAEA,2EAA2E;AAC3E;IACI,aAAa;IACb,8BAA8B;AAClC;;AAEA,wCAAwC;AACxC;IACI,aAAa;IACb,mBAAmB;IACnB,UAAU;AACd;;AAEA,sEAAsE;AACtE;IACI,gBAAgB;AACpB;;AAEA,4CAA4C;AAC5C;IACI,YAAY;IACZ,WAAW;IACX,kBAAkB;IAClB,gBAAgB;IAChB,qCAAqC;IACrC,0BAA0B;AAC9B;;AAEA;IACI,mCAAmC;AACvC;;AAEA,uCAAuC;AACvC;IACI,eAAe;AACnB;;AAEA,6EAA6E;AAC7E;;IAEI,iBAAiB;AACrB;;AAEA;oBACoB;AACpB;IACI,aAAa;IACb,mBAAmB;IACnB,8BAA8B;IAC9B,eAAe;IACf,YAAY;IACZ,kBAAkB;AACtB;;AAEA,qCAAqC;AACrC;IACI,gBAAgB;AACpB;;AAEA,+BAA+B;AAC/B;IACI,QAAQ;AACZ;;AAEA,wCAAwC;AACxC;IACI,gBAAgB;IAChB,gBAAgB;IAChB,uBAAuB;AAC3B;;AAEA,qEAAqE;AACrE;IACI,kBAAkB;AACtB;;AAEA,gFAAgF;AAChF;;IAEI,sBAAsB;AAC1B;;AAEA;IACI,oBAAoB;AACxB;;AAEA;IACI,gBAAgB;AACpB;;AAEA;IACI,kBAAkB;IAClB,gBAAgB;AACpB;;AAEA;IACI,8BAA8B;IAC9B,WAAW;AACf;;AAEA,6BAA6B;AAC7B;IACI;;qBAEiB;IACjB,mBAAmB;IACnB,aAAa;IACb,mBAAmB;AACvB;;AAEA,6BAA6B;AAC7B;IACI,aAAa;AACjB;;AAEA;2BAC2B;AAC3B;IACI,gBAAgB;AACpB;;AAEA,gDAAgD;AAChD;IACI,eAAe;IACf,0BAA0B;AAC9B;;AAEA,6CAA6C;AAC7C;IACI,kBAAkB;AACtB;;AAEA,+BAA+B;AAC/B;IACI,uBAAuB;IACvB,YAAY;IACZ,WAAW;IACX,kBAAkB;IAClB,qBAAqB;AACzB;;AAEA,+CAA+C;AAC/C;IACI,gBAAgB;IAChB,kBAAkB;IAClB,SAAS;IACT,SAAS;IACT,UAAU;AACd;;AAEA;IACI,UAAU;AACd;;AAEA;IACI,6BAA6B;IAC7B,gCAAgC;AACpC;;AAEA;IACI,YAAY;AAChB;;AAEA;IACI,aAAa;AACjB;;AAEA;IACI,UAAU;AACd;;AAEA;IACI,wBAAwB;AAC5B;;AAEA;;EAEE;;AAEF,mBAAmB;AACnB;IACI;QACI,kBAAkB;IACtB;;IAEA;wBACoB;IACpB;QACI,UAAU;QACV,kBAAkB;QAClB,QAAQ;QACR,MAAM;QACN,gBAAgB;QAChB,QAAQ;QACR,cAAc;IAClB;;IAEA;QACI,YAAY;QACZ,gBAAgB;IACpB;;IAEA,qBAAqB;IACrB;QACI,cAAc;IAClB;AACJ;;AAEA,4BAA4B;AAC5B;IACI;QACI,gBAAgB;IACpB;;IAEA;QACI,mBAAmB;IACvB;;IAEA;QACI,YAAY;IAChB;;IAEA;QACI,wBAAwB;IAC5B;;IAEA,kDAAkD;IAClD;;QAEI,eAAe;IACnB;;IAEA,0DAA0D;IAC1D;QACI,oBAAoB;IACxB;;IAEA,6DAA6D;IAC7D;QACI,aAAa;IACjB;;IAEA,oEAAoE;IACpE;QACI,aAAa;IACjB;;IAEA;QACI,kBAAkB;IACtB;;IAEA;QACI,UAAU;IACd;;IAEA;QACI,iBAAiB;IACrB;;IAEA;QACI,kBAAkB;QAClB,WAAW;QACX,gBAAgB;IACpB;;IAEA,0BAA0B;IAC1B;QACI,YAAY;IAChB;;IAEA,4CAA4C;IAC5C;QACI,aAAa;IACjB;;IAEA;QACI,SAAS;IACb;AACJ;;AAEA,yBAAyB;AACzB;IACI,2BAA2B;IAC3B;;QAEI,aAAa;IACjB;;IAEA;QACI,cAAc;IAClB;AACJ",sourcesContent:["*,\n*:before,\n*:after {\n  box-sizing: border-box;\n}\n\n/*\n * Backgrounds\n */\n\n.primary-bg {\n    background: rgb(20, 47, 105);\n}\n\n.primary-bg-hovered:hover {\n    background: rgb(22, 62, 148);\n}\n\n.secondary-bg {\n    background: rgb(35, 163, 248);\n}\n\n.secondary-bg-hovered:hover {\n    background: rgba(35, 163, 248, 0.8);\n}\n\n.neutral-bg {\n    background: #fff;\n}\n\n/*\n * Buttons, links, and inputs\n */\n\nbutton, a, input {\n    font-family: inherit;\n    font-size: inherit;\n    color: inherit;\n    background: transparent;\n    border: none;\n    outline: none;\n    text-decoration: none;\n}\n\nbutton, a {\n    cursor: pointer;\n}\n\n.site-btn {\n    display: flex;\n    align-items: center;\n    padding: 0.6em 1em;\n}\n\n.site-btn:hover {\n    cursor: pointer;\n}\n\n/*\n * Navigation lists\n */\n\nul {\n    list-style: none;\n}\n\n/*\n * Fonts\n */\n\n@import url('https://fonts.googleapis.com/css2?family=Sulphur+Point:wght@400;700&display=swap');\n\n/* set website default font family and color */\nbody {\n    font-family: 'Sulphur Point', sans-serif;\n    color: #fff;\n    white-space: nowrap;\n}\n\n/*\n * Effects\n */\n\n.hide {\n    display: none;\n}\n\n.fade-out {\n    animation: 350ms fadeout;\n}\n\n@keyframes fadeout {\n    to {\n        opacity: 0;\n    }\n}\n\n.rounded-corners {\n    border-radius: 5px;\n}\n\n.shrink-on-click:active {\n    transform: scale(0.8);\n}\n\n/*\n * Containers\n */\n\n.left,\n.right {\n    display: flex;\n    align-items: center;\n}\n\n/*\n * Page header\n */\n\n.primary-header {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 0.5em 2em;\n    font-size: 0.9em;\n}\n\n.primary-header .left i {\n    font-size: 1.8em;\n}\n\nh1 {\n    margin-left: 0.5em;\n    font-size: 2.5em;\n}\n\n#profile-pic {\n    height: 20px;\n    width: 20px;\n    background-size: cover;\n    border-radius: 50%;\n}\n\n#user-name {\n    margin: 0 1.2em 0 0.5em;\n}\n\n#hamburger-logo {\n    margin-left: 0.5em;\n    font-size: 1.5em;\n}\n\n/*\n * Main page area\n */\n\nmain {\n    height: 100vh;\n    display: flex;\n}\n\n/*\n * Side bar\n */\n\n#side-bar {\n    flex-basis: 280px;\n    padding: 2em 1em;\n    overflow-y: scroll;\n    font-size: 1.1em;\n}\n\n/* container for projects heading and list of projects in side bar */\n.projects {\n    margin-top: 2em;\n}\n\n/* h2 element for list of projects */\n.projects h2 {\n    margin-bottom: 0.5em;\n    color: #000;\n    font-weight: 700;\n    font-size: 1.3em;\n}\n\n/* shrinks all icons in side bar */\n#side-bar i {\n    font-size: 0.7em;\n}\n\n/* spacing between first icon and heading of every button in side bar */\n#side-bar .site-btn {\n    gap: 0.7em;\n}\n\n/* adds spacing below every clickable button in side bar */\n#side-bar li {\n    margin-bottom: 0.7em;\n}\n\n/* creates ease-out effect when projects are deleted from side bar */\n#projects li {\n    transition: opacity 0.3s;\n}\n\n/* move trash icon all the way to the right of container */\n.delete-project {\n    margin-left: auto;\n    transition: transform 0.3s;\n}\n\n.delete-project:hover {\n    color: rgb(177, 2, 2);\n    transform: scale(1.2);\n}\n\n/* use 3 selectors to counter gap property defined on site buttons in \nside-bar */\n#side-bar div#add-project-input {\n    gap: 0.5em;\n    padding-right: 0.7em;\n}\n\n#add-project-container {\n    width: 100%;\n}\n\n/* input element within container to add new project */\n#add-project-input input {\n    flex-grow: 1;\n    font-size: 0.9em;\n}\n\n/* validation and cancel buttons to add new projects */\n#add-project-input button {\n    padding: 0;\n}\n\n/*\n * Content area\n */\n\n#content-area {\n    max-width: 1000px;\n    margin: 0 auto;\n    flex-grow: 1;\n    padding: 1.5em;\n    overflow: auto;\n    background: url('../assets/images/background-logo.jpeg') center/50vh no-repeat;\n}\n\n/* header at the top of content area section */\n#content-area > header {\n    display: flex;\n    justify-content: space-between;\n}\n\n/* applies uniform font size for icons and h2 elements in header of content\narea */\n#content-area h2,\n#content-area header i {\n    font-size: 2em;\n}\n\n/* container for projects and their respective tasks in content area section */\n#content-area article {\n    margin: 0.7em 0 3em 0;\n}\n\n/* container for project name and add task button within article elements */\n.project-header {\n    display: flex;\n    justify-content: space-between;\n}\n\n/* container for project name and icon */\n.name-wrapper {\n    display: flex;\n    align-items: center;\n    gap: 0.5em;\n}\n\n/* applies to project names when they are part of an article element */\n.project-header .name-wrapper {\n    font-size: 1.4em;\n}\n\n/* button to add tasks within each project */\n.task-add-btn {\n    height: 45px;\n    width: 45px;\n    border-radius: 50%;\n    font-size: 1.8em;\n    border: 0.1em solid rgb(35, 163, 248);\n    transition: transform 0.4s;\n}\n\n.task-add-btn:hover {\n    transform: rotate(90deg) scale(1.2);\n}\n\n/* lists of tasks within each project */\n#content-area ul {\n    margin-top: 1em;\n}\n\n/* create right indentation for all task-related containers in content area */\n#content-area ul,\n#new-task-container {\n    margin-right: 3em;\n}\n\n/* common features applicable to task containers when task is either displayed\nor is being edited */\n.task-wrapper {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    margin: 0.8em 0;\n    color: black;\n    padding: 0.7em 1em;\n}\n\n/* hide name of task when took long */\n.task-wrapper .left {\n    overflow: hidden;\n}\n\n/* right side of task wrapper */\n.task-wrapper .right {\n    gap: 1em;\n}\n\n/* name of task when task is displayed */\n.task-label {\n    margin-left: 1em;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n\n/* features specific to task containers when a task is being edited */\n.edit-mode {\n    padding: 0.5em 1em;\n}\n\n/* set common border style to all input elements and clear button on edit mode */\n.edit-mode input,\n#new-task-date-reset {\n    border: 1px solid grey;\n}\n\n#new-task-name {\n    padding: 0.2em 0.3em;\n}\n\n#new-task-due-date {\n    padding: 0 0.5em;\n}\n\n#new-task-date-reset {\n    margin-left: 0.5em;\n    padding: 0 0.4em;\n}\n\n#new-task-date-reset:hover {\n    background: rgba(0, 0, 0, 0.5);\n    color: #fff;\n}\n\n/* container for flag icons */\n#new-task-priority-wrapper {\n    /* set height equal to container height instead of content height to fix \n    jumping effect that occurs when container height briefly changes upon \n    priority change */\n    align-self: stretch;\n    display: flex;\n    align-items: center;\n}\n\n/* hide default radio input */\ninput[type=\"radio\"] {\n    display: none;\n}\n\n/* when one of the radio input elements is selected, slightly increase the size\nof its corresponding flag */\ninput[type=\"radio\"]:checked + i {\n    font-size: 1.2em;\n}\n\n/* space out flags and smooth flag size change */\n#new-task-priority-wrapper i {\n    margin: 0 0.2em;\n    transition: font-size 0.2s;\n}\n\n/* container for both circle and check mark */\n.bullet-point {\n    position: relative;\n}\n\n/* circle-shaped span element */\n.check-circle {\n    border: 1px solid black;\n    height: 12px;\n    width: 12px;\n    border-radius: 50%;\n    display: inline-block;\n}\n\n/* check mark to indicate a task is completed */\n.check-mark {\n    font-size: 0.8em;\n    position: absolute;\n    left: 1px;\n    top: -1px;\n    opacity: 0;\n}\n\n.check-mark:hover {\n    opacity: 1;\n}\n\n.bullet-point:hover ~ .task-label {\n    text-decoration: line-through;\n    text-decoration-thickness: 0.2em;\n}\n\n.low-priority {\n    color: green;\n}\n\n.medium-priority {\n    color: orange;\n}\n\n.high-priority {\n    color: red;\n}\n\n.task-edit-btn {\n    color: rgb(35, 163, 248);\n}\n\n/*\n * Responsiveness\n */\n\n/* tablet display */\n@media (max-width: 1023px) {\n    main {\n        position: relative;\n    }\n    \n    /* repositions side-bar to the right of page's main element, and on top of\n    all other elements */\n    #side-bar {\n        z-index: 5;\n        position: absolute;\n        right: 0;\n        top: 0;\n        transition: 0.3s;\n        width: 0;\n        padding: 2em 0;\n    }\n\n    #side-bar.slide-in {\n        width: 280px;\n        padding: 2em 1em;\n    }\n    \n    /* ensure hamburger */\n    #hamburger-logo {\n        display: block;\n    }\n}\n\n/* standard mobile display */\n@media (max-width: 767px) {\n    body {\n        font-size: 0.9em;\n    }\n\n    h1 {\n        margin-left: 0.25em;\n    }\n    \n    .primary-header {\n        padding: 1em;\n    }\n\n    #content-area {\n        background-size: contain;\n    }\n\n    /* let tasks take up 100 percent of window width */\n    #content-area ul,\n    #new-task-container {\n        margin-right: 0;\n    }\n\n    /* remove excessive padding on the right of task wrapper */\n    .task-wrapper {\n        padding-right: 0.5em;\n    }\n\n    /* hide elements considered unnecessary on smaller displays */\n    .regular-display {\n        display: none;\n    }\n\n    /* hide hamburger logo to free up space when user is not logged in */\n    .sign-out-btn.hide + #hamburger-logo {\n        display: none;\n    }\n\n    .task-label {\n        margin-left: 0.5em;\n    }\n\n    .edit-mode {\n        gap: 0.5em;\n    }\n\n    .edit-mode button {\n        padding: 0 0.25em;\n    }\n\n    #new-task-name {\n        margin-right: auto;\n        width: 100%;\n        max-width: 250px;\n    }\n\n    /* remove default border */\n    #new-task-due-date {\n        border: none;\n    }\n\n    /* remove display of current selected date */\n    #new-task-due-date::-webkit-datetime-edit {\n        display: none;\n    }\n\n    #new-task-due-date::-webkit-calendar-picker-indicator {\n        margin: 0;\n    }\n}\n\n/* small mobile display */\n@media (max-width: 319px) {\n    /* hide due date and flag */\n    .task-date,\n    .priority-level {\n        display: none;\n    }\n\n    .primary-header .site-btn {\n        padding: 0.2em;\n    }\n}"],sourceRoot:""}]);const f=h},434:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(15),i=n.n(r),o=n(645),a=n.n(o)()(i());a.push([t.id,"/* http://meyerweb.com/eric/tools/css/reset/ \n   v2.0 | 20110126\n   License: none (public domain)\n*/\n\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed, \nfigure, figcaption, footer, header, hgroup, \nmenu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tfont-size: 100%;\n\tfont: inherit;\n\tvertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure, \nfooter, header, hgroup, menu, nav, section {\n\tdisplay: block;\n}\nbody {\n\tline-height: 1;\n}\nol, ul {\n\tlist-style: none;\n}\nblockquote, q {\n\tquotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n\tcontent: '';\n\tcontent: none;\n}\ntable {\n\tborder-collapse: collapse;\n\tborder-spacing: 0;\n}","",{version:3,sources:["webpack://./src/styles/reset.css"],names:[],mappings:"AAAA;;;CAGC;;AAED;;;;;;;;;;;;;CAaC,SAAS;CACT,UAAU;CACV,SAAS;CACT,eAAe;CACf,aAAa;CACb,wBAAwB;AACzB;AACA,gDAAgD;AAChD;;CAEC,cAAc;AACf;AACA;CACC,cAAc;AACf;AACA;CACC,gBAAgB;AACjB;AACA;CACC,YAAY;AACb;AACA;;CAEC,WAAW;CACX,aAAa;AACd;AACA;CACC,yBAAyB;CACzB,iBAAiB;AAClB",sourcesContent:["/* http://meyerweb.com/eric/tools/css/reset/ \n   v2.0 | 20110126\n   License: none (public domain)\n*/\n\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed, \nfigure, figcaption, footer, header, hgroup, \nmenu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tfont-size: 100%;\n\tfont: inherit;\n\tvertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure, \nfooter, header, hgroup, menu, nav, section {\n\tdisplay: block;\n}\nbody {\n\tline-height: 1;\n}\nol, ul {\n\tlist-style: none;\n}\nblockquote, q {\n\tquotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n\tcontent: '';\n\tcontent: none;\n}\ntable {\n\tborder-collapse: collapse;\n\tborder-spacing: 0;\n}"],sourceRoot:""}]);const s=a},645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<t.length;s++){var u=[].concat(t[s]);r&&i[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),e.push(u))}},e}},15:t=>{"use strict";function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}t.exports=function(t){var n,r,i=(r=4,function(t){if(Array.isArray(t))return t}(n=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(n,r)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=i[1],a=i[3];if(!a)return o;if("function"==typeof btoa){var s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),c="/*# ".concat(u," */"),h=a.sources.map((function(t){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(t," */")}));return[o].concat(h).concat([c]).join("\n")}return[o].join("\n")}},667:t=>{"use strict";t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},676:function(t,e){!function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function r(t,e,r){var i,o=new Promise((function(o,a){n(i=t[e].apply(t,r)).then(o,a)}));return o.request=i,o}function i(t,e,n){var i=r(t,e,n);return i.then((function(t){if(t)return new h(t,i.request)}))}function o(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function a(t,e,n,i){i.forEach((function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})}))}function s(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function u(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})}))}function c(t){this._index=t}function h(t,e){this._cursor=t,this._request=e}function l(t){this._store=t}function f(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function d(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new f(n)}function p(t){this._db=t}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(h,"_cursor",["direction","key","primaryKey","value"]),a(h,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(h.prototype[t]=function(){var e=this,r=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,r),n(e._request).then((function(t){if(t)return new h(t,e._request)}))}))})})),l.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},l.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(l,"_store",["name","keyPath","indexNames","autoIncrement"]),a(l,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(l,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(l,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new l(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),s(f,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new l(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[l,c].forEach((function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,l].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(i){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)}))}))})})),t.openDb=function(t,e,n){var i=r(indexedDB,"open",[t,e]),o=i.request;return o&&(o.onupgradeneeded=function(t){n&&n(new d(o.result,t.oldVersion,o.transaction))}),i.then((function(t){return new p(t)}))},t.deleteDb=function(t){return r(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)},379:t=>{"use strict";var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var o={},a=[],s=0;s<t.length;s++){var u=t[s],c=r.base?u[0]+r.base:u[0],h=o[c]||0,l="".concat(c," ").concat(h);o[c]=h+1;var f=n(l),d={css:u[1],media:u[2],sourceMap:u[3]};-1!==f?(e[f].references++,e[f].updater(d)):e.push({identifier:l,updater:i(d,r),references:1}),a.push(l)}return a}function i(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n.update(t=e)}else n.remove()}}t.exports=function(t,i){var o=r(t=t||[],i=i||{});return function(t){t=t||[];for(var a=0;a<o.length;a++){var s=n(o[a]);e[s].references--}for(var u=r(t,i),c=0;c<o.length;c++){var h=n(o[c]);0===e[h].references&&(e[h].updater(),e.splice(h,1))}o=u}}},569:t=>{"use strict";var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e),e}},565:(t,e,n)=>{"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:t=>{"use strict";t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r=n.css,i=n.media,o=n.sourceMap;i?t.setAttribute("media",i):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(r,t)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},476:(t,e,n)=>{"use strict";t.exports=n.p+"7e8d8bc1435fe4ae098c.jpeg"}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={id:r,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}n.m=t,n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");r.length&&(t=r[r.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),n.b=document.baseURI||self.location.href,(()=>{"use strict";var t=n(379),e=n.n(t),r=n(795),i=n.n(r),o=n(569),a=n.n(o),s=n(565),u=n.n(s),c=n(216),h=n.n(c),l=n(589),f=n.n(l),d=n(434),p={};p.styleTagTransform=f(),p.setAttributes=u(),p.insert=a().bind(null,"head"),p.domAPI=i(),p.insertStyleElement=h(),e()(d.Z,p),d.Z&&d.Z.locals&&d.Z.locals;var m=n(756),g={};function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){b(t,e,n[e])}))}return t}function A(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}g.styleTagTransform=f(),g.setAttributes=u(),g.insert=a().bind(null,"head"),g.domAPI=i(),g.insertStyleElement=h(),e()(m.Z,g),m.Z&&m.Z.locals&&m.Z.locals;var I=function(){},E={},T={},C={mark:I,measure:I};try{"undefined"!=typeof window&&(E=window),"undefined"!=typeof document&&(T=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&(C=performance)}catch(xy){}var k=(E.navigator||{}).userAgent,S=void 0===k?"":k,_=E,N=T,D=C,x=(_.document,!!N.documentElement&&!!N.head&&"function"==typeof N.addEventListener&&"function"==typeof N.createElement),O=(~S.indexOf("MSIE")||S.indexOf("Trident/"),"svg-inline--fa"),P=[1,2,3,4,5,6,7,8,9,10],R=P.concat([11,12,13,14,15,16,17,18,19,20]),L={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},M=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",L.GROUP,L.SWAP_OPACITY,L.PRIMARY,L.SECONDARY].concat(P.map((function(t){return"".concat(t,"x")}))).concat(R.map((function(t){return"w-".concat(t)}))),_.FontAwesomeConfig||{});N&&"function"==typeof N.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(t){var e=A(t,2),n=e[0],r=e[1],i=function(t){return""===t||"false"!==t&&("true"===t||t)}(function(t){var e=N.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(n));null!=i&&(M[r]=i)}));var B=w({},{familyPrefix:"fa",replacementClass:O,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},M);B.autoReplaceSvg||(B.observeMutations=!1);var j=w({},B);_.FontAwesomeConfig=j;var F=_||{};F.___FONT_AWESOME___||(F.___FONT_AWESOME___={}),F.___FONT_AWESOME___.styles||(F.___FONT_AWESOME___.styles={}),F.___FONT_AWESOME___.hooks||(F.___FONT_AWESOME___.hooks={}),F.___FONT_AWESOME___.shims||(F.___FONT_AWESOME___.shims=[]);var U=F.___FONT_AWESOME___,V=[];x&&((N.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(N.readyState)||N.addEventListener("DOMContentLoaded",(function t(){N.removeEventListener("DOMContentLoaded",t),V.map((function(t){return t()}))})));var q,z="pending",H="settled",K="fulfilled",G="rejected",W=function(){},Q=void 0!==n.g&&void 0!==n.g.process&&"function"==typeof n.g.process.emit,Y="undefined"==typeof setImmediate?setTimeout:setImmediate,X=[];function $(){for(var t=0;t<X.length;t++)X[t][0](X[t][1]);X=[],q=!1}function J(t,e){X.push([t,e]),q||(q=!0,Y($,0))}function Z(t){var e=t.owner,n=e._state,r=e._data,i=t[n],o=t.then;if("function"==typeof i){n=K;try{r=i(r)}catch(t){rt(o,t)}}tt(o,r)||(n===K&&et(o,r),n===G&&rt(o,r))}function tt(t,e){var n;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"===v(e))){var r=e.then;if("function"==typeof r)return r.call(e,(function(r){n||(n=!0,e===r?nt(t,r):et(t,r))}),(function(e){n||(n=!0,rt(t,e))})),!0}}catch(e){return n||rt(t,e),!0}return!1}function et(t,e){t!==e&&tt(t,e)||nt(t,e)}function nt(t,e){t._state===z&&(t._state=H,t._data=e,J(ot,t))}function rt(t,e){t._state===z&&(t._state=H,t._data=e,J(at,t))}function it(t){t._then=t._then.forEach(Z)}function ot(t){t._state=K,it(t)}function at(t){t._state=G,it(t),!t._handled&&Q&&n.g.process.emit("unhandledRejection",t._data,t)}function st(t){n.g.process.emit("rejectionHandled",t)}function ut(t){if("function"!=typeof t)throw new TypeError("Promise resolver "+t+" is not a function");if(this instanceof ut==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(t,e){function n(t){rt(e,t)}try{t((function(t){et(e,t)}),n)}catch(t){n(t)}}(t,this)}ut.prototype={constructor:ut,_state:z,_then:null,_data:void 0,_handled:!1,then:function(t,e){var n={owner:this,then:new this.constructor(W),fulfilled:t,rejected:e};return!e&&!t||this._handled||(this._handled=!0,this._state===G&&Q&&J(st,this)),this._state===K||this._state===G?J(Z,n):this._then.push(n),n.then},catch:function(t){return this.then(null,t)}},ut.all=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.all().");return new ut((function(e,n){var r=[],i=0;function o(t){return i++,function(n){r[t]=n,--i||e(r)}}for(var a,s=0;s<t.length;s++)(a=t[s])&&"function"==typeof a.then?a.then(o(s),n):r[s]=a;i||e(r)}))},ut.race=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.race().");return new ut((function(e,n){for(var r,i=0;i<t.length;i++)(r=t[i])&&"function"==typeof r.then?r.then(e,n):e(r)}))},ut.resolve=function(t){return t&&"object"===v(t)&&t.constructor===ut?t:new ut((function(e){e(t)}))},ut.reject=function(t){return new ut((function(e,n){n(t)}))};var ct={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function ht(){for(var t=12,e="";t-- >0;)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return e}function lt(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ft(t){return Object.keys(t||{}).reduce((function(e,n){return e+"".concat(n,": ").concat(t[n],";")}),"")}function dt(t){return t.size!==ct.size||t.x!==ct.x||t.y!==ct.y||t.rotate!==ct.rotate||t.flipX||t.flipY}function pt(t){var e=t.transform,n=t.containerWidth,r=t.iconWidth,i={transform:"translate(".concat(n/2," 256)")},o="translate(".concat(32*e.x,", ").concat(32*e.y,") "),a="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),s="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(o," ").concat(a," ").concat(s)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}var mt={x:0,y:0,width:"100%",height:"100%"};function gt(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function vt(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,o=t.iconName,a=t.transform,s=t.symbol,u=t.title,c=t.maskId,h=t.titleId,l=t.extra,f=t.watchable,d=void 0!==f&&f,p=r.found?r:n,m=p.width,g=p.height,v="fak"===i,y=v?"":"fa-w-".concat(Math.ceil(m/g*16)),b=[j.replacementClass,o?"".concat(j.familyPrefix,"-").concat(o):"",y].filter((function(t){return-1===l.classes.indexOf(t)})).filter((function(t){return""!==t||!!t})).concat(l.classes).join(" "),A={children:[],attributes:w({},l.attributes,{"data-prefix":i,"data-icon":o,class:b,role:l.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(g)})},I=v&&!~l.classes.indexOf("fa-fw")?{width:"".concat(m/g*16*.0625,"em")}:{};d&&(A.attributes["data-fa-i2svg"]=""),u&&A.children.push({tag:"title",attributes:{id:A.attributes["aria-labelledby"]||"title-".concat(h||ht())},children:[u]});var E=w({},A,{prefix:i,iconName:o,main:n,mask:r,maskId:c,transform:a,symbol:s,styles:w({},I,l.styles)}),T=r.found&&n.found?function(t){var e,n=t.children,r=t.attributes,i=t.main,o=t.mask,a=t.maskId,s=t.transform,u=i.width,c=i.icon,h=o.width,l=o.icon,f=pt({transform:s,containerWidth:h,iconWidth:u}),d={tag:"rect",attributes:w({},mt,{fill:"white"})},p=c.children?{children:c.children.map(gt)}:{},m={tag:"g",attributes:w({},f.inner),children:[gt(w({tag:c.tag,attributes:w({},c.attributes,f.path)},p))]},g={tag:"g",attributes:w({},f.outer),children:[m]},v="mask-".concat(a||ht()),y="clip-".concat(a||ht()),b={tag:"mask",attributes:w({},mt,{id:v,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[d,g]},A={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:(e=l,"g"===e.tag?e.children:[e])},b]};return n.push(A,{tag:"rect",attributes:w({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(v,")")},mt)}),{children:n,attributes:r}}(E):function(t){var e=t.children,n=t.attributes,r=t.main,i=t.transform,o=ft(t.styles);if(o.length>0&&(n.style=o),dt(i)){var a=pt({transform:i,containerWidth:r.width,iconWidth:r.width});e.push({tag:"g",attributes:w({},a.outer),children:[{tag:"g",attributes:w({},a.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:w({},r.icon.attributes,a.path)}]}]})}else e.push(r.icon);return{children:e,attributes:n}}(E),C=T.children,k=T.attributes;return E.children=C,E.attributes=k,s?function(t){var e=t.prefix,n=t.iconName,r=t.children,i=t.attributes,o=t.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:w({},i,{id:!0===o?"".concat(e,"-").concat(j.familyPrefix,"-").concat(n):o}),children:r}]}]}(E):function(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,o=t.styles,a=t.transform;if(dt(a)&&n.found&&!r.found){var s={x:n.width/n.height/2,y:.5};i.style=ft(w({},o,{"transform-origin":"".concat(s.x+a.x/16,"em ").concat(s.y+a.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(E)}var yt=(j.measurePerformance&&D&&D.mark&&D.measure,function(t,e,n,r){var i,o,a,s=Object.keys(t),u=s.length,c=void 0!==r?function(t,e){return function(n,r,i,o){return t.call(e,n,r,i,o)}}(e,r):e;for(void 0===n?(i=1,a=t[s[0]]):(i=0,a=n);i<u;i++)a=c(a,t[o=s[i]],o,t);return a});function bt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipHooks,i=void 0!==r&&r,o=Object.keys(e).reduce((function(t,n){var r=e[n];return r.icon?t[r.iconName]=r.icon:t[n]=r,t}),{});"function"!=typeof U.hooks.addPack||i?U.styles[t]=w({},U.styles[t]||{},o):U.hooks.addPack(t,o),"fas"===t&&bt("fa",e)}var wt=U.styles,At=U.shims,It=function(){var t=function(t){return yt(wt,(function(e,n,r){return e[r]=yt(n,t,{}),e}),{})};t((function(t,e,n){return e[3]&&(t[e[3]]=n),t})),t((function(t,e,n){var r=e[2];return t[n]=n,r.forEach((function(e){t[e]=n})),t}));var e="far"in wt;yt(At,(function(t,n){var r=n[0],i=n[1],o=n[2];return"far"!==i||e||(i="fas"),t[r]={prefix:i,iconName:o},t}),{})};function Et(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}function Tt(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,i=t.children,o=void 0===i?[]:i;return"string"==typeof t?lt(t):"<".concat(e," ").concat(function(t){return Object.keys(t||{}).reduce((function(e,n){return e+"".concat(n,'="').concat(lt(t[n]),'" ')}),"").trim()}(r),">").concat(o.map(Tt).join(""),"</").concat(e,">")}function Ct(t){this.name="MissingIcon",this.message=t||"Icon unavailable",this.stack=(new Error).stack}It(),U.styles,Ct.prototype=Object.create(Error.prototype),Ct.prototype.constructor=Ct;var kt={fill:"currentColor"},St={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},_t=(w({},kt,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),w({},St,{attributeName:"opacity"}));function Nt(t){var e=t[0],n=t[1],r=A(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(j.familyPrefix,"-").concat(L.GROUP)},children:[{tag:"path",attributes:{class:"".concat(j.familyPrefix,"-").concat(L.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(j.familyPrefix,"-").concat(L.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}function Dt(){j.autoAddCss&&!Lt&&(function(t){if(t&&x){var e=N.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=N.head.childNodes,r=null,i=n.length-1;i>-1;i--){var o=n[i],a=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=o)}N.head.insertBefore(e,r)}}(function(){var t="fa",e=O,n=j.familyPrefix,r=j.replacementClass,i='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if(n!==t||r!==e){var o=new RegExp("\\.".concat(t,"\\-"),"g"),a=new RegExp("\\--".concat(t,"\\-"),"g"),s=new RegExp("\\.".concat(e),"g");i=i.replace(o,".".concat(n,"-")).replace(a,"--".concat(n,"-")).replace(s,".".concat(r))}return i}()),Lt=!0)}function xt(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map((function(t){return Tt(t)}))}}),Object.defineProperty(t,"node",{get:function(){if(x){var e=N.createElement("div");return e.innerHTML=t.html,e.children}}}),t}function Ot(t){var e=t.prefix,n=void 0===e?"fa":e,r=t.iconName;if(r)return Et(Rt.definitions,n,r)||Et(U.styles,n,r)}w({},kt,{cx:"256",cy:"364",r:"28"}),w({},St,{attributeName:"r",values:"28;14;28;28;14;28;"}),w({},_t,{values:"1;0;1;1;0;1;"}),w({},kt,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),w({},_t,{values:"1;0;0;0;0;1;"}),w({},kt,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),w({},_t,{values:"0;0;1;1;0;0;"}),U.styles,U.styles;var Pt,Rt=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.definitions={}}var e,n;return e=t,(n=[{key:"add",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(e){t.definitions[e]=w({},t.definitions[e]||{},i[e]),bt(e,i[e]),It()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,e){var n=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(n).map((function(e){var r=n[e],i=r.prefix,o=r.iconName,a=r.icon;t[i]||(t[i]={}),t[i][o]=a})),t}}])&&y(e.prototype,n),t}()),Lt=!1,Mt=(Pt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.transform,r=void 0===n?ct:n,i=e.symbol,o=void 0!==i&&i,a=e.mask,s=void 0===a?null:a,u=e.maskId,c=void 0===u?null:u,h=e.title,l=void 0===h?null:h,f=e.titleId,d=void 0===f?null:f,p=e.classes,m=void 0===p?[]:p,g=e.attributes,v=void 0===g?{}:g,y=e.styles,b=void 0===y?{}:y;if(t){var A=t.prefix,I=t.iconName,E=t.icon;return xt(w({type:"icon"},t),(function(){return Dt(),j.autoA11y&&(l?v["aria-labelledby"]="".concat(j.replacementClass,"-title-").concat(d||ht()):(v["aria-hidden"]="true",v.focusable="false")),vt({icons:{main:Nt(E),mask:s?Nt(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:A,iconName:I,transform:w({},ct,r),symbol:o,title:l,maskId:c,titleId:d,extra:{attributes:v,styles:b,classes:m}})}))}},function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(t||{}).icon?t:Ot(t||{}),r=e.mask;return r&&(r=(r||{}).icon?r:Ot(r||{})),Pt(n,w({},e,{mask:r}))});function Bt(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function jt(t){Bt(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||"object"==typeof t&&"[object Date]"===e?new Date(t.getTime()):"number"==typeof t||"[object Number]"===e?new Date(t):("string"!=typeof t&&"[object String]"!==e||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function Ft(t){Bt(1,arguments);var e=jt(t);return!isNaN(e)}Rt.add({prefix:"far",iconName:"check-circle",icon:[512,512,[],"f058","M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 48c110.532 0 200 89.451 200 200 0 110.532-89.451 200-200 200-110.532 0-200-89.451-200-200 0-110.532 89.451-200 200-200m140.204 130.267l-22.536-22.718c-4.667-4.705-12.265-4.736-16.97-.068L215.346 303.697l-59.792-60.277c-4.667-4.705-12.265-4.736-16.97-.069l-22.719 22.536c-4.705 4.667-4.736 12.265-.068 16.971l90.781 91.516c4.667 4.705 12.265 4.736 16.97.068l172.589-171.204c4.704-4.668 4.734-12.266.067-16.971z"]},{prefix:"fas",iconName:"bars",icon:[448,512,[],"f0c9","M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"]},{prefix:"fas",iconName:"plus",icon:[448,512,[],"f067","M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"]},{prefix:"fas",iconName:"check",icon:[512,512,[],"f00c","M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"]},{prefix:"fas",iconName:"times",icon:[352,512,[],"f00d","M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"]},{prefix:"fas",iconName:"tasks",icon:[512,512,[],"f0ae","M139.61 35.5a12 12 0 0 0-17 0L58.93 98.81l-22.7-22.12a12 12 0 0 0-17 0L3.53 92.41a12 12 0 0 0 0 17l47.59 47.4a12.78 12.78 0 0 0 17.61 0l15.59-15.62L156.52 69a12.09 12.09 0 0 0 .09-17zm0 159.19a12 12 0 0 0-17 0l-63.68 63.72-22.7-22.1a12 12 0 0 0-17 0L3.53 252a12 12 0 0 0 0 17L51 316.5a12.77 12.77 0 0 0 17.6 0l15.7-15.69 72.2-72.22a12 12 0 0 0 .09-16.9zM64 368c-26.49 0-48.59 21.5-48.59 48S37.53 464 64 464a48 48 0 0 0 0-96zm432 16H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"]},{prefix:"fas",iconName:"flag",icon:[512,512,[],"f024","M349.565 98.783C295.978 98.783 251.721 64 184.348 64c-24.955 0-47.309 4.384-68.045 12.013a55.947 55.947 0 0 0 3.586-23.562C118.117 24.015 94.806 1.206 66.338.048 34.345-1.254 8 24.296 8 56c0 19.026 9.497 35.825 24 45.945V488c0 13.255 10.745 24 24 24h16c13.255 0 24-10.745 24-24v-94.4c28.311-12.064 63.582-22.122 114.435-22.122 53.588 0 97.844 34.783 165.217 34.783 48.169 0 86.667-16.294 122.505-40.858C506.84 359.452 512 349.571 512 339.045v-243.1c0-23.393-24.269-38.87-45.485-29.016-34.338 15.948-76.454 31.854-116.95 31.854z"]},{prefix:"far",iconName:"edit",icon:[576,512,[],"f044","M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"]},{prefix:"fas",iconName:"inbox",icon:[576,512,[],"f01c","M567.938 243.908L462.25 85.374A48.003 48.003 0 0 0 422.311 64H153.689a48 48 0 0 0-39.938 21.374L8.062 243.908A47.994 47.994 0 0 0 0 270.533V400c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V270.533a47.994 47.994 0 0 0-8.062-26.625zM162.252 128h251.497l85.333 128H376l-32 64H232l-32-64H76.918l85.334-128z"]},{prefix:"fas",iconName:"calendar-day",icon:[448,512,[],"f783","M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm64-192c0-8.8 7.2-16 16-16h96c8.8 0 16 7.2 16 16v96c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16v-96zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"]},{prefix:"fas",iconName:"calendar-week",icon:[448,512,[],"f784","M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm64-192c0-8.8 7.2-16 16-16h288c8.8 0 16 7.2 16 16v64c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16v-64zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"]},{prefix:"fas",iconName:"folder-open",icon:[576,512,[],"f07c","M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z"]},{prefix:"fas",iconName:"trash-alt",icon:[448,512,[],"f2ed","M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"]});var Ut={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Vt(t){return function(e){var n=e||{},r=n.width?String(n.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}var qt,zt={date:Vt({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Vt({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Vt({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Ht={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Kt(t){return function(e,n){var r,i=n||{};if("formatting"===(i.context?String(i.context):"standalone")&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,a=i.width?String(i.width):o;r=t.formattingValues[a]||t.formattingValues[o]}else{var s=t.defaultWidth,u=i.width?String(i.width):t.defaultWidth;r=t.values[u]||t.values[s]}return r[t.argumentCallback?t.argumentCallback(e):e]}}function Gt(t){return function(e,n){var r=String(e),i=n||{},o=i.width,a=o&&t.matchPatterns[o]||t.matchPatterns[t.defaultMatchWidth],s=r.match(a);if(!s)return null;var u,c=s[0],h=o&&t.parsePatterns[o]||t.parsePatterns[t.defaultParseWidth];return u="[object Array]"===Object.prototype.toString.call(h)?function(t,e){for(var n=0;n<t.length;n++)if(t[n].test(c))return n}(h):function(t,e){for(var n in t)if(t.hasOwnProperty(n)&&t[n].test(c))return n}(h),u=t.valueCallback?t.valueCallback(u):u,{value:u=i.valueCallback?i.valueCallback(u):u,rest:r.slice(c.length)}}}const Wt={code:"en-US",formatDistance:function(t,e,n){var r;return n=n||{},r="string"==typeof Ut[t]?Ut[t]:1===e?Ut[t].one:Ut[t].other.replace("{{count}}",e),n.addSuffix?n.comparison>0?"in "+r:r+" ago":r},formatLong:zt,formatRelative:function(t,e,n,r){return Ht[t]},localize:{ordinalNumber:function(t,e){var n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:Kt({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Kt({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(t){return Number(t)-1}}),month:Kt({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Kt({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Kt({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(qt={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(t){return parseInt(t,10)}},function(t,e){var n=String(t),r=e||{},i=n.match(qt.matchPattern);if(!i)return null;var o=i[0],a=n.match(qt.parsePattern);if(!a)return null;var s=qt.valueCallback?qt.valueCallback(a[0]):a[0];return{value:s=r.valueCallback?r.valueCallback(s):s,rest:n.slice(o.length)}}),era:Gt({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Gt({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Gt({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Gt({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Gt({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function Qt(t){if(null===t||!0===t||!1===t)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Yt(t,e){Bt(2,arguments);var n=jt(t).getTime(),r=Qt(e);return new Date(n+r)}function Xt(t,e){Bt(2,arguments);var n=Qt(e);return Yt(t,-n)}function $t(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}const Jt=function(t,e){var n=t.getUTCFullYear(),r=n>0?n:1-n;return $t("yy"===e?r%100:r,e.length)},Zt=function(t,e){var n=t.getUTCMonth();return"M"===e?String(n+1):$t(n+1,2)},te=function(t,e){return $t(t.getUTCDate(),e.length)},ee=function(t,e){return $t(t.getUTCHours()%12||12,e.length)},ne=function(t,e){return $t(t.getUTCHours(),e.length)},re=function(t,e){return $t(t.getUTCMinutes(),e.length)},ie=function(t,e){return $t(t.getUTCSeconds(),e.length)},oe=function(t,e){var n=e.length,r=t.getUTCMilliseconds();return $t(Math.floor(r*Math.pow(10,n-3)),e.length)};var ae=864e5;function se(t){Bt(1,arguments);var e=1,n=jt(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function ue(t){Bt(1,arguments);var e=jt(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=se(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var a=se(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function ce(t){Bt(1,arguments);var e=ue(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=se(n);return r}var he=6048e5;function le(t,e){Bt(1,arguments);var n=e||{},r=n.locale,i=r&&r.options&&r.options.weekStartsOn,o=null==i?0:Qt(i),a=null==n.weekStartsOn?o:Qt(n.weekStartsOn);if(!(a>=0&&a<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=jt(t),u=s.getUTCDay(),c=(u<a?7:0)+u-a;return s.setUTCDate(s.getUTCDate()-c),s.setUTCHours(0,0,0,0),s}function fe(t,e){Bt(1,arguments);var n=jt(t,e),r=n.getUTCFullYear(),i=e||{},o=i.locale,a=o&&o.options&&o.options.firstWeekContainsDate,s=null==a?1:Qt(a),u=null==i.firstWeekContainsDate?s:Qt(i.firstWeekContainsDate);if(!(u>=1&&u<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var c=new Date(0);c.setUTCFullYear(r+1,0,u),c.setUTCHours(0,0,0,0);var h=le(c,e),l=new Date(0);l.setUTCFullYear(r,0,u),l.setUTCHours(0,0,0,0);var f=le(l,e);return n.getTime()>=h.getTime()?r+1:n.getTime()>=f.getTime()?r:r-1}function de(t,e){Bt(1,arguments);var n=e||{},r=n.locale,i=r&&r.options&&r.options.firstWeekContainsDate,o=null==i?1:Qt(i),a=null==n.firstWeekContainsDate?o:Qt(n.firstWeekContainsDate),s=fe(t,e),u=new Date(0);u.setUTCFullYear(s,0,a),u.setUTCHours(0,0,0,0);var c=le(u,e);return c}var pe=6048e5;function me(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),o=r%60;if(0===o)return n+String(i);var a=e||"";return n+String(i)+a+$t(o,2)}function ge(t,e){return t%60==0?(t>0?"-":"+")+$t(Math.abs(t)/60,2):ve(t,e)}function ve(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t);return r+$t(Math.floor(i/60),2)+n+$t(i%60,2)}const ye={G:function(t,e,n){var r=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if("yo"===e){var r=t.getUTCFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Jt(t,e)},Y:function(t,e,n,r){var i=fe(t,r),o=i>0?i:1-i;return"YY"===e?$t(o%100,2):"Yo"===e?n.ordinalNumber(o,{unit:"year"}):$t(o,e.length)},R:function(t,e){return $t(ue(t),e.length)},u:function(t,e){return $t(t.getUTCFullYear(),e.length)},Q:function(t,e,n){var r=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return $t(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){var r=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return $t(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){var r=t.getUTCMonth();switch(e){case"M":case"MM":return Zt(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){var r=t.getUTCMonth();switch(e){case"L":return String(r+1);case"LL":return $t(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){var i=function(t,e){Bt(1,arguments);var n=jt(t),r=le(n,e).getTime()-de(n,e).getTime();return Math.round(r/pe)+1}(t,r);return"wo"===e?n.ordinalNumber(i,{unit:"week"}):$t(i,e.length)},I:function(t,e,n){var r=function(t){Bt(1,arguments);var e=jt(t),n=se(e).getTime()-ce(e).getTime();return Math.round(n/he)+1}(t);return"Io"===e?n.ordinalNumber(r,{unit:"week"}):$t(r,e.length)},d:function(t,e,n){return"do"===e?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):te(t,e)},D:function(t,e,n){var r=function(t){Bt(1,arguments);var e=jt(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/ae)+1}(t);return"Do"===e?n.ordinalNumber(r,{unit:"dayOfYear"}):$t(r,e.length)},E:function(t,e,n){var r=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){var i=t.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return $t(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){var i=t.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return $t(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){var r=t.getUTCDay(),i=0===r?7:r;switch(e){case"i":return String(i);case"ii":return $t(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){var r,i=t.getUTCHours();switch(r=12===i?"noon":0===i?"midnight":i/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){var r,i=t.getUTCHours();switch(r=i>=17?"evening":i>=12?"afternoon":i>=4?"morning":"night",e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){if("ho"===e){var r=t.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ee(t,e)},H:function(t,e,n){return"Ho"===e?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):ne(t,e)},K:function(t,e,n){var r=t.getUTCHours()%12;return"Ko"===e?n.ordinalNumber(r,{unit:"hour"}):$t(r,e.length)},k:function(t,e,n){var r=t.getUTCHours();return 0===r&&(r=24),"ko"===e?n.ordinalNumber(r,{unit:"hour"}):$t(r,e.length)},m:function(t,e,n){return"mo"===e?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):re(t,e)},s:function(t,e,n){return"so"===e?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):ie(t,e)},S:function(t,e){return oe(t,e)},X:function(t,e,n,r){var i=(r._originalDate||t).getTimezoneOffset();if(0===i)return"Z";switch(e){case"X":return ge(i);case"XXXX":case"XX":return ve(i);case"XXXXX":case"XXX":default:return ve(i,":")}},x:function(t,e,n,r){var i=(r._originalDate||t).getTimezoneOffset();switch(e){case"x":return ge(i);case"xxxx":case"xx":return ve(i);case"xxxxx":case"xxx":default:return ve(i,":")}},O:function(t,e,n,r){var i=(r._originalDate||t).getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+me(i,":");case"OOOO":default:return"GMT"+ve(i,":")}},z:function(t,e,n,r){var i=(r._originalDate||t).getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+me(i,":");case"zzzz":default:return"GMT"+ve(i,":")}},t:function(t,e,n,r){var i=r._originalDate||t;return $t(Math.floor(i.getTime()/1e3),e.length)},T:function(t,e,n,r){return $t((r._originalDate||t).getTime(),e.length)}};function be(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}}function we(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}}const Ae={p:we,P:function(t,e){var n,r=t.match(/(P+)(p+)?/),i=r[1],o=r[2];if(!o)return be(t,e);switch(i){case"P":n=e.dateTime({width:"short"});break;case"PP":n=e.dateTime({width:"medium"});break;case"PPP":n=e.dateTime({width:"long"});break;case"PPPP":default:n=e.dateTime({width:"full"})}return n.replace("{{date}}",be(i,e)).replace("{{time}}",we(o,e))}};function Ie(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}var Ee=["D","DD"],Te=["YY","YYYY"];function Ce(t){return-1!==Ee.indexOf(t)}function ke(t){return-1!==Te.indexOf(t)}function Se(t,e,n){if("YYYY"===t)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("YY"===t)throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("D"===t)throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("DD"===t)throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"))}var _e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ne=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,De=/^'([^]*?)'?$/,xe=/''/g,Oe=/[a-zA-Z]/;function Pe(t,e,n){Bt(2,arguments);var r=String(e),i=n||{},o=i.locale||Wt,a=o.options&&o.options.firstWeekContainsDate,s=null==a?1:Qt(a),u=null==i.firstWeekContainsDate?s:Qt(i.firstWeekContainsDate);if(!(u>=1&&u<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var c=o.options&&o.options.weekStartsOn,h=null==c?0:Qt(c),l=null==i.weekStartsOn?h:Qt(i.weekStartsOn);if(!(l>=0&&l<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!o.localize)throw new RangeError("locale must contain localize property");if(!o.formatLong)throw new RangeError("locale must contain formatLong property");var f=jt(t);if(!Ft(f))throw new RangeError("Invalid time value");var d=Ie(f),p=Xt(f,d),m={firstWeekContainsDate:u,weekStartsOn:l,locale:o,_originalDate:f},g=r.match(Ne).map((function(t){var e=t[0];return"p"===e||"P"===e?(0,Ae[e])(t,o.formatLong,m):t})).join("").match(_e).map((function(n){if("''"===n)return"'";var r=n[0];if("'"===r)return Re(n);var a=ye[r];if(a)return!i.useAdditionalWeekYearTokens&&ke(n)&&Se(n,e,t),!i.useAdditionalDayOfYearTokens&&Ce(n)&&Se(n,e,t),a(p,n,o.localize,m);if(r.match(Oe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+r+"`");return n})).join("");return g}function Re(t){return t.match(De)[1].replace(xe,"'")}const Le=(()=>{const t=(t,n)=>{n.map((n=>{e(t,n)}))},e=(t,e)=>{t.classList.remove("edit-mode");const n=document.createElement("div");n.className="left";const r=document.createElement("div");r.className="bullet-point";const i=document.createElement("span");i.className="check-circle";const o=document.createElement("i");o.className="check-mark",o.innerHTML=Mt({prefix:"fas",iconName:"check"}).html,o.dataset.taskId=e.id,r.appendChild(i),r.appendChild(o);const a=document.createElement("p");a.className="task-label",a.textContent=e.name,n.appendChild(r),n.appendChild(a);const s=document.createElement("div");s.className="right";const u=document.createElement("p");u.className="task-date",""!==e.dueDate?u.textContent=Pe(e.dueDate,"MM/dd/yyyy"):u.textContent="no due date";const c=document.createElement("div");c.className="priority-level";const h=document.createElement("i");h.className=`${e.priority}-priority`,h.innerHTML=Mt({prefix:"fas",iconName:"flag"}).html,c.appendChild(h);const l=document.createElement("button");l.type="button",l.className="task-edit-btn",l.dataset.taskId=e.id;const f=document.createElement("i");if(f.innerHTML=Mt({prefix:"far",iconName:"edit"}).html,l.appendChild(f),s.appendChild(u),s.appendChild(c),s.appendChild(l),t.matches("li"))t.removeAttribute("id"),t.appendChild(n),t.appendChild(s);else{const r=document.createElement("li");r.dataset.taskId=e.id,r.className="task-wrapper neutral-bg rounded-corners",r.appendChild(n),r.appendChild(s),t.appendChild(r)}},n=(t,e=null)=>{e&&(t.id="edit-task-container"),t.classList.add("edit-mode");const n=document.createElement("input");n.className="rounded-corners",n.id="new-task-name",n.type="text",n.placeholder="Enter task name here",n.maxLength="40",e&&(n.value=e.name);const r=document.createElement("div"),i=document.createElement("input");i.className="rounded-corners",i.id="new-task-due-date",i.type="date",e&&""!==e.dueDate?i.value=Pe(e.dueDate,"yyyy-MM-dd"):i.value="";const o=document.createElement("button");o.className="rounded-corners regular-display",o.type="button",o.id="new-task-date-reset",o.textContent="Clear",r.appendChild(i),r.appendChild(o);const a=document.createElement("div");a.id="new-task-priority-wrapper",["low","medium","high"].map(((t,n)=>{const r=document.createElement("label"),i=document.createElement("input");i.type="radio",i.name="priority",i.value=t,e&&e.priority===t&&(i.checked=!0),0!==n||e||(i.checked=!0);const o=document.createElement("i");o.className=`${t}-priority`,o.innerHTML=Mt({prefix:"fas",iconName:"flag"}).html,r.appendChild(i),r.appendChild(o),a.appendChild(r)}));const s=document.createElement("div"),u=document.createElement("button");u.className="shrink-on-click",u.type="button",u.id="new-task-validate";const c=document.createElement("i");c.innerHTML=Mt({prefix:"fas",iconName:"check"}).html,u.appendChild(c);const h=document.createElement("button");h.className="shrink-on-click",h.type="button",h.id="new-task-cancel";const l=document.createElement("i");l.innerHTML=Mt({prefix:"fas",iconName:"times"}).html,h.appendChild(l),s.appendChild(u),s.appendChild(h),t.appendChild(n),t.appendChild(r),t.appendChild(a),t.appendChild(s)},r=t=>{t.remove()};return{renderMain:t=>{const e=document.createElement("header");e.className="primary-header secondary-bg";const n=document.createElement("div");n.className="left";const r=document.createElement("i");r.innerHTML=Mt({prefix:"far",iconName:"check-circle"}).html;const i=document.createElement("h1");i.textContent="MyTodo",n.appendChild(r),n.appendChild(i);const o=document.createElement("div");o.className="right";const a=document.createElement("button");a.className="auth-btn sign-in-btn site-btn primary-bg rounded-corners primary-bg-hovered",a.textContent="Sign in with Google";const s=document.createElement("div");s.className="auth-btn hide sign-out-btn site-btn primary-bg rounded-corners primary-bg-hovered";const u=document.createElement("span");u.className="regular-display",u.id="profile-pic";const c=document.createElement("p");c.className="regular-display",c.id="user-name";const h=document.createElement("button");h.textContent="Sign out",s.appendChild(u),s.appendChild(c),s.appendChild(h);const l=document.createElement("button");l.className="hide",l.id="hamburger-logo";const f=document.createElement("i");f.innerHTML=Mt({prefix:"fas",iconName:"bars"}).html,l.appendChild(f),o.appendChild(a),o.appendChild(s),o.appendChild(l),e.appendChild(n),e.appendChild(o);const d=document.createElement("main");d.className="primary-bg";const p=document.createElement("aside");p.className="neutral-bg",p.id="side-bar";const m=document.createElement("section"),g=document.createElement("ul");g.id="category-btns",m.appendChild(g);const v=document.createElement("section");v.className="projects";const y=document.createElement("h2");y.textContent="Projects";const b=document.createElement("ul");b.id="projects";const w=document.createElement("button");w.className="primary-bg site-btn rounded-corners primary-bg-hovered",w.id="add-project-container";const A=document.createElement("i");A.innerHTML=Mt({prefix:"fas",iconName:"plus"}).html;const I=document.createElement("span");I.textContent="Add new project",w.appendChild(A),w.appendChild(I);const E=document.createElement("div");E.className="hide site-btn primary-bg rounded-corners",E.id="add-project-input";const T=document.createElement("input");T.type="text",T.placeholder="Enter project name",T.maxLength="30";const C=document.createElement("button");C.className="shrink-on-click",C.type="button",C.id="project-validate";const k=document.createElement("i");k.innerHTML=Mt({prefix:"fas",iconName:"check"}).html,C.appendChild(k);const S=document.createElement("button");S.className="shrink-on-click",S.type="button",S.id="project-cancel";const _=document.createElement("i");_.innerHTML=Mt({prefix:"fas",iconName:"times"}).html,S.appendChild(_),E.appendChild(T),E.appendChild(C),E.appendChild(S),v.appendChild(y),v.appendChild(b),v.appendChild(w),v.appendChild(E),p.appendChild(m),p.appendChild(v);const N=document.createElement("section");N.id="content-area",d.appendChild(p),d.appendChild(N),t.appendChild(e),t.appendChild(d)},populateSideBar:(t,e)=>{e.map((e=>{const n=document.createElement("li");n.className="rounded-corners";const r=document.createElement("a");if(r.className="site-btn",r.href="#",e.projectId&&(n.dataset.projectId=e.projectId),e.icon1Class){const t=document.createElement("i");t.innerHTML=e.icon1Class,r.appendChild(t)}if(e.icon2Class){n.classList.add("primary-bg","primary-bg-hovered");const t=document.createElement("h3");t.textContent=e.label;const i=document.createElement("button");i.className="delete-project",i.dataset.projectId=e.projectId;const o=document.createElement("i");o.innerHTML=e.icon2Class,i.appendChild(o),r.appendChild(t),r.appendChild(i)}else{n.classList.add("secondary-bg","secondary-bg-hovered");const t=document.createElement("h2");t.textContent=e.label,r.appendChild(t)}n.appendChild(r),t.appendChild(n)}))},renderContentArea:(e,n,r,i=null)=>{const o=document.createElement("header");if(i){const t=document.createElement("h2");t.id="content-label",t.textContent=i,o.appendChild(t),e.appendChild(o)}n.map((n=>{const a=document.createElement("div");a.className="name-wrapper";const s=document.createElement("i");s.innerHTML=Mt({prefix:"fas",iconName:"tasks"}).html,a.appendChild(s);const u=document.createElement("button");u.type="button",u.className="task-add-btn primary-bg",u.textContent="+",u.dataset.projectId=n.id;const c=document.createElement("ul");c.dataset.projectId=n.id;const h=r.filter((t=>t.projectId===n.id));if(t(c,h),i){const t=document.createElement("div");t.className="project-header";const r=document.createElement("h3");r.textContent=n.name,a.appendChild(r),t.appendChild(a),t.appendChild(u);const i=document.createElement("article");i.appendChild(t),i.appendChild(c),e.appendChild(i)}else{const t=document.createElement("h2");t.textContent=n.name,a.appendChild(t),o.appendChild(a),o.appendChild(u),e.appendChild(o),e.appendChild(c)}}))},showProjectInput:()=>{document.getElementById("add-project-input").classList.remove("hide")},showAddProjectBtn:()=>{document.getElementById("add-project-container").classList.remove("hide")},hideProjectInput:()=>{document.getElementById("add-project-input").classList.add("hide")},hideAddProjectBtn:()=>{document.getElementById("add-project-container").classList.add("hide")},createNewTask:(t,e)=>{const r=document.createElement("div");r.className="neutral-bg rounded-corners task-wrapper",r.id="new-task-container",r.dataset.projectId=e,n(r),t.after(r)},renderTask:e,renderTaskList:t,renderNewTask:n,clearContainer:t=>{let e=t.firstElementChild;for(;e;)e.remove(),e=t.firstElementChild},deleteElement:r,fadeOut:(t,e)=>{t.classList.add("fade-out"),setTimeout((()=>{r(t)}),e)}}})();var Me=function(){return(Me=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.create,Object.create;var Be=function(t,e){return(Be=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},je=function(){return(je=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.create,Object.create;var Fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=o>>2,l=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(f=64)),r.push(n[h],n[l],n[f],n[d])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var h=a<<4&240|s>>2;if(r.push(h),64!==u){var l=s<<6&192|u;r.push(l)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function Ue(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=Ue(t[n],e[n]));return t}var Ve=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function qe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ze(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(t){return!1}}function He(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Ke(){return"indexedDB"in self&&null!=indexedDB}function Ge(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}}))}function We(){return!(!navigator||!navigator.cookieEnabled)}var Qe=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,Ye.prototype.create),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Be(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(Error),Ye=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?Xe(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new Qe(i,s,r);return u},t}();function Xe(t,e){return t.replace($e,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var $e=/\{\$([^}]+)}/g;function Je(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ze(t,e){var n=new tn(t,e);return n.subscribe.bind(n)}!function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],h=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++)r<40?r<20?(o=h^u&(c^h),a=1518500249):(o=u^c^h,a=1859775393):r<60?(o=u&c|h&(u|c),a=2400959708):(o=u^c^h,a=3395469782),i=(s<<5|s>>>27)+o+l+a+n[r]&4294967295,l=h,h=c,c=4294967295&(u<<30|u>>>2),u=s,s=i;this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t}}();var tn=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=en),void 0===r.error&&(r.error=en),void 0===r.complete&&(r.complete=en);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function en(){}function nn(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function rn(t){return t&&t._delegate?t._delegate:t}function on(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function an(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function sn(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create,Object.create;var un,cn=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),hn="[DEFAULT]",ln=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new Ve;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(t){if(r)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:hn})}catch(t){}try{for(var r=on(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=an(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:u});s.resolve(c)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=hn),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}(this,void 0,void 0,(function(){var t;return function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(sn(sn([],an(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),an(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=hn),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var r=t.options,i=void 0===r?{}:r,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:i});try{for(var s=on(this.instancesDeferred.entries()),u=s.next();!u.done;u=s.next()){var c=an(u.value,2),h=c[0],l=c[1];o===this.normalizeInstanceIdentifier(h)&&l.resolve(a)}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return a},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,r,i=this.onInitCallbacks.get(e);if(i)try{for(var o=on(i),a=o.next();!a.done;a=o.next()){var s=a.value;try{s(t,e)}catch(t){}}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===hn?void 0:e),options:i}),this.instances.set(n,o),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(t){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=hn),this.component?this.component.multipleInstances?t:hn:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),fn=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new ln(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();function dn(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var pn,mn=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(pn||(pn={}));var gn,vn={debug:pn.DEBUG,verbose:pn.VERBOSE,info:pn.INFO,warn:pn.WARN,error:pn.ERROR,silent:pn.SILENT},yn=pn.INFO,bn=((un={})[pn.DEBUG]="log",un[pn.VERBOSE]="log",un[pn.INFO]="info",un[pn.WARN]="warn",un[pn.ERROR]="error",un),wn=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=bn[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,dn(["["+i+"]  "+t.name+":"],n))}},An=function(){function t(t){this.name=t,this._logLevel=yn,this._logHandler=wn,this._userLogHandler=null,mn.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in pn))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?vn[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,dn([this,pn.DEBUG],t)),this._logHandler.apply(this,dn([this,pn.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,dn([this,pn.VERBOSE],t)),this._logHandler.apply(this,dn([this,pn.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,dn([this,pn.INFO],t)),this._logHandler.apply(this,dn([this,pn.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,dn([this,pn.WARN],t)),this._logHandler.apply(this,dn([this,pn.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,dn([this,pn.ERROR],t)),this._logHandler.apply(this,dn([this,pn.ERROR],t))},t}();function In(t){mn.forEach((function(e){e.setLogLevel(t)}))}var En,Tn=((gn={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",gn["bad-app-name"]="Illegal App name: '{$appName}",gn["duplicate-app"]="Firebase App named '{$appName}' already exists",gn["app-deleted"]="Firebase App named '{$appName}' already deleted",gn["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",gn["invalid-log-argument"]="First argument to `onLog` must be null or a function.",gn),Cn=new Ye("app","Firebase",Tn),kn="@firebase/app",Sn="[DEFAULT]",_n=((En={})[kn]="fire-core",En["@firebase/analytics"]="fire-analytics",En["@firebase/app-check"]="fire-app-check",En["@firebase/auth"]="fire-auth",En["@firebase/database"]="fire-rtdb",En["@firebase/functions"]="fire-fn",En["@firebase/installations"]="fire-iid",En["@firebase/messaging"]="fire-fcm",En["@firebase/performance"]="fire-perf",En["@firebase/remote-config"]="fire-rc",En["@firebase/storage"]="fire-gcs",En["@firebase/firestore"]="fire-fst",En["fire-js"]="fire-js",En["firebase-wrapper"]="fire-js-all",En),Nn=new An("@firebase/app"),Dn=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Ue(void 0,t),this.container=new fn(e.name),this._addComponent(new cn("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){var n;void 0===e&&(e=Sn),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=Sn),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){Nn.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Cn.create("app-deleted",{appName:this.name_})},t}();Dn.prototype.name&&Dn.prototype.options||Dn.prototype.delete||console.log("dc");var xn=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=Sn);var a=o.name;if("string"!=typeof a||!a)throw Cn.create("bad-app-name",{appName:String(a)});if(Je(e,a))throw Cn.create("duplicate-app",{appName:a});var s=new t(n,o,r);return e[a]=s,s},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=_n[t])&&void 0!==r?r:t;n&&(i+="-"+n);var a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return a&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void Nn.warn(u.join(" "))}o(new cn(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:In,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw Cn.create("invalid-log-argument");!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=vn[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:pn[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=mn;r<i.length;r++)n(i[r])}(t,e)},apps:null,SDK_VERSION:"8.8.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!Je(e,t=t||Sn))throw Cn.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return Nn.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var s=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw Cn.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Ue(s,o.serviceProps),r[a]=s,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var u=0,c=Object.keys(e);u<c.length;u++){var h=c[u];e[h]._addComponent(o)}return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(Dn);return e.INTERNAL=Me(Me({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Ue(e,t)},createSubscribe:Ze,ErrorFactory:Ye,deepExtend:Ue}),e}(),On=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if("object"==typeof self&&self.self===self&&void 0!==self.firebase){Nn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Pn=self.firebase.SDK_VERSION;Pn&&Pn.indexOf("LITE")>=0&&Nn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Rn=xn.initializeApp;xn.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ze()&&Nn.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Rn.apply(void 0,t)};var Ln=xn;!function(t,e){t.INTERNAL.registerComponent(new cn("platform-logger",(function(t){return new On(t)}),"PRIVATE")),t.registerVersion(kn,"0.6.29",void 0),t.registerVersion("fire-js","")}(Ln);const Mn=Ln;var Bn="8.9.1";Mn.registerVersion("firebase",Bn,"app"),Mn.SDK_VERSION=Bn;var jn=function(){return(jn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Fn(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function Un(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create,Object.create;var Vn=function(){return(Vn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function qn(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function zn(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function Hn(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}Object.create,Object.create;var Kn,Gn=n(676),Wn="w:0.4.31",Qn=((Kn={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Kn["not-registered"]="Firebase Installation is not registered.",Kn["installation-not-found"]="Firebase Installation not found.",Kn["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Kn["app-offline"]="Could not process request. Application offline.",Kn["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Kn),Yn=new Ye("installations","Installations",Qn);function Xn(t){return t instanceof Qe&&t.code.includes("request-failed")}function $n(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function Jn(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function Zn(t,e){return qn(this,void 0,void 0,(function(){var n,r;return zn(this,(function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,Yn.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function tr(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function er(t,e){var n=e.refreshToken,r=tr(t);return r.append("Authorization",function(t){return"FIS_v2 "+t}(n)),r}function nr(t){return qn(this,void 0,void 0,(function(){var e;return zn(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}}))}))}function rr(t,e){var n=e.fid;return qn(this,void 0,void 0,(function(){var e,r,i,o,a,s;return zn(this,(function(u){switch(u.label){case 0:return e=$n(t),r=tr(t),i={fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:Wn},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,nr((function(){return fetch(e,o)}))];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return[2,{fid:(s=u.sent()).fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:Jn(s.authToken)}];case 3:return[4,Zn("Create Installation",a)];case 4:throw u.sent()}}))}))}function ir(t){return new Promise((function(e){setTimeout(e,t)}))}function or(t){return btoa(String.fromCharCode.apply(String,function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}([],function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(t)))).replace(/\+/g,"-").replace(/\//g,"_")}var ar=/^[cdef][\w-]{21}$/;function sr(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return or(t).substr(0,22)}(t);return ar.test(e)?e:""}catch(t){return""}}function ur(t){return t.appName+"!"+t.appId}var cr=new Map;function hr(t,e){var n=ur(t);lr(n,e),function(t,e){var n=dr();n&&n.postMessage({key:t,fid:e}),pr()}(n,e)}function lr(t,e){var n,r,i=cr.get(t);if(i)try{for(var o=Hn(i),a=o.next();!a.done;a=o.next())(0,a.value)(e)}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var fr=null;function dr(){return!fr&&"BroadcastChannel"in self&&((fr=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){lr(t.data.key,t.data.fid)}),fr}function pr(){0===cr.size&&fr&&(fr.close(),fr=null)}var mr,gr="firebase-installations-store",vr=null;function yr(){return vr||(vr=(0,Gn.openDb)("firebase-installations-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(gr)}}))),vr}function br(t,e){return qn(this,void 0,void 0,(function(){var n,r,i,o,a;return zn(this,(function(s){switch(s.label){case 0:return n=ur(t),[4,yr()];case 1:return r=s.sent(),i=r.transaction(gr,"readwrite"),[4,(o=i.objectStore(gr)).get(n)];case 2:return a=s.sent(),[4,o.put(e,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===e.fid||hr(t,e.fid),[2,e]}}))}))}function wr(t){return qn(this,void 0,void 0,(function(){var e,n,r;return zn(this,(function(i){switch(i.label){case 0:return e=ur(t),[4,yr()];case 1:return n=i.sent(),[4,(r=n.transaction(gr,"readwrite")).objectStore(gr).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function Ar(t,e){return qn(this,void 0,void 0,(function(){var n,r,i,o,a,s;return zn(this,(function(u){switch(u.label){case 0:return n=ur(t),[4,yr()];case 1:return r=u.sent(),i=r.transaction(gr,"readwrite"),[4,(o=i.objectStore(gr)).get(n)];case 2:return a=u.sent(),void 0!==(s=e(a))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||hr(t,s.fid),[2,s]}}))}))}function Ir(t){return qn(this,void 0,void 0,(function(){var e,n,r;return zn(this,(function(i){switch(i.label){case 0:return[4,Ar(t,(function(n){var r=function(t){return Cr(t||{fid:sr(),registrationStatus:0})}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Yn.create("app-offline"))};var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return qn(this,void 0,void 0,(function(){var n,r;return zn(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,rr(t,e)];case 1:return n=i.sent(),[2,br(t,n)];case 2:return Xn(r=i.sent())&&409===r.customData.serverCode?[4,wr(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,br(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Er(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function Er(t){return qn(this,void 0,void 0,(function(){var e,n,r,i;return zn(this,(function(o){switch(o.label){case 0:return[4,Tr(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,ir(100)];case 3:return o.sent(),[4,Tr(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,Ir(t)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,e]}}))}))}function Tr(t){return Ar(t,(function(t){if(!t)throw Yn.create("installation-not-found");return Cr(t)}))}function Cr(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function kr(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return qn(this,void 0,void 0,(function(){var t,i,o,a,s,u;return zn(this,(function(c){switch(c.label){case 0:return t=function(t,e){var n=e.fid;return $n(t)+"/"+n+"/authTokens:generate"}(n,e),i=er(n,e),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={installation:{sdkVersion:Wn}},s={method:"POST",headers:i,body:JSON.stringify(a)},[4,nr((function(){return fetch(t,s)}))];case 1:return(u=c.sent()).ok?[4,u.json()]:[3,3];case 2:return[2,Jn(c.sent())];case 3:return[4,Zn("Generate Auth Token",u)];case 4:throw c.sent()}}))}))}function Sr(t,e){return void 0===e&&(e=!1),qn(this,void 0,void 0,(function(){var n,r,i;return zn(this,(function(o){switch(o.label){case 0:return[4,Ar(t.appConfig,(function(r){if(!Nr(r))throw Yn.create("not-registered");var i,o=r.authToken;if(!e&&(2===(i=o).requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(i)))return r;if(1===o.requestStatus)return n=function(t,e){return qn(this,void 0,void 0,(function(){var n,r;return zn(this,(function(i){switch(i.label){case 0:return[4,_r(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,ir(100)];case 3:return i.sent(),[4,_r(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,Sr(t,e)]:[2,r]}}))}))}(t,e),r;if(!navigator.onLine)throw Yn.create("app-offline");var a=function(t){var e={requestStatus:1,requestTime:Date.now()};return Vn(Vn({},t),{authToken:e})}(r);return n=function(t,e){return qn(this,void 0,void 0,(function(){var n,r,i;return zn(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,kr(t,e)];case 1:return n=o.sent(),i=Vn(Vn({},e),{authToken:n}),[4,br(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!Xn(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,wr(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=Vn(Vn({},e),{authToken:{requestStatus:0}}),[4,br(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(t,a),a}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function _r(t){return Ar(t,(function(t){if(!Nr(t))throw Yn.create("not-registered");var e;return 1===(e=t.authToken).requestStatus&&e.requestTime+1e4<Date.now()?Vn(Vn({},t),{authToken:{requestStatus:0}}):t}))}function Nr(t){return void 0!==t&&2===t.registrationStatus}function Dr(t){return qn(this,void 0,void 0,(function(){var e;return zn(this,(function(n){switch(n.label){case 0:return[4,Ir(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function xr(t,e){return qn(this,void 0,void 0,(function(){var n,r,i,o;return zn(this,(function(a){switch(a.label){case 0:return n=function(t,e){var n=e.fid;return $n(t)+"/"+n}(t,e),r=er(t,e),i={method:"DELETE",headers:r},[4,nr((function(){return fetch(n,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,Zn("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}function Or(t){return Yn.create("missing-app-config-values",{valueName:t})}(mr=Mn).INTERNAL.registerComponent(new cn("installations",(function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw Or("App Configuration");if(!t.name)throw Or("App Name");try{for(var r=Hn(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw Or(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return qn(this,void 0,void 0,(function(){var e,n,r;return zn(this,(function(i){switch(i.label){case 0:return[4,Ir(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):Sr(t).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),qn(this,void 0,void 0,(function(){return zn(this,(function(n){switch(n.label){case 0:return[4,Dr(t.appConfig)];case 1:return n.sent(),[4,Sr(t,e)];case 2:return[2,n.sent().token]}}))}))}(n,t)},delete:function(){return function(t){return qn(this,void 0,void 0,(function(){var e,n;return zn(this,(function(r){switch(r.label){case 0:return[4,Ar(e=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw Yn.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw Yn.create("app-offline");case 3:return[4,xr(e,n)];case 4:return r.sent(),[4,wr(e)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(t){return function(t,e){var n=t.appConfig;return function(t,e){dr();var n=ur(t),r=cr.get(n);r||(r=new Set,cr.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=ur(t),r=cr.get(n);r&&(r.delete(e),0===r.size&&cr.delete(n),pr())}(n,e)}}(n,t)}}}),"PUBLIC")),mr.registerVersion("@firebase/installations","0.4.31");var Pr,Rr,Lr="https://www.googletagmanager.com/gtag/js";!function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"}(Pr||(Pr={})),function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"}(Rr||(Rr={}));var Mr,Br=new An("@firebase/analytics");function jr(t,e,n,r,i,o){return Fn(this,void 0,void 0,(function(){var a,s,u,c;return Un(this,(function(h){switch(h.label){case 0:a=r[i],h.label=1;case 1:return h.trys.push([1,7,,8]),a?[4,e[a]]:[3,3];case 2:return h.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=h.sent(),(u=s.find((function(t){return t.measurementId===i})))?[4,e[u.appId]]:[3,6];case 5:h.sent(),h.label=6;case 6:return[3,8];case 7:return c=h.sent(),Br.error(c),[3,8];case 8:return t(Pr.CONFIG,i,o),[2]}}))}))}function Fr(t,e,n,r,i){return Fn(this,void 0,void 0,(function(){var o,a,s,u,c,h,l,f;return Un(this,(function(d){switch(d.label){case 0:return d.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(s=d.sent(),u=function(t){var n=s.find((function(e){return e.measurementId===t})),r=n&&e[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,h=a;c<h.length&&(l=h[c],"break"!==u(l));c++);d.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return d.sent(),t(Pr.EVENT,r,i||{}),[3,5];case 4:return f=d.sent(),Br.error(f),[3,5];case 5:return[2]}}))}))}var Ur=((Mr={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Mr["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Mr["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Mr["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Mr["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Mr["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Mr["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Mr["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Mr["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',Mr),Vr=new Ye("analytics","Analytics",Ur),qr=new(function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}());function zr(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function Hr(t){var e;return Fn(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Un(this,(function(c){switch(c.label){case 0:return n=t.appId,r=t.apiKey,i={method:"GET",headers:zr(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(a=c.sent()).status||304===a.status)return[3,6];s="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,a.json()];case 3:return u=c.sent(),(null===(e=u.error)||void 0===e?void 0:e.message)&&(s=u.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw Vr.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s});case 6:return[2,a.json()]}}))}))}function Kr(t,e,n,r){var i=e.throttleEndTimeMillis,o=e.backoffCount;return void 0===r&&(r=qr),Fn(this,void 0,void 0,(function(){var e,a,s,u,c,h,l;return Un(this,(function(f){switch(f.label){case 0:e=t.appId,a=t.measurementId,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,Gr(n,i)];case 2:return f.sent(),[3,4];case 3:if(s=f.sent(),a)return Br.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+s.message+"]"),[2,{appId:e,measurementId:a}];throw s;case 4:return f.trys.push([4,6,,7]),[4,Hr(t)];case 5:return u=f.sent(),r.deleteThrottleMetadata(e),[2,u];case 6:if(!function(t){if(!(t instanceof Qe&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c=f.sent())){if(r.deleteThrottleMetadata(e),a)return Br.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:e,measurementId:a}];throw c}return h=503===Number(c.customData.httpStatus)?nn(o,r.intervalMillis,30):nn(o,r.intervalMillis),l={throttleEndTimeMillis:Date.now()+h,backoffCount:o+1},r.setThrottleMetadata(e,l),Br.debug("Calling attemptFetch again in "+h+" millis"),[2,Kr(t,l,n,r)];case 7:return[2]}}))}))}function Gr(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(Vr.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var Wr=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}();var Qr,Yr,Xr={},$r=[],Jr={},Zr="dataLayer",ti="gtag",ei=!1;function ni(t){if(ei)throw Vr.create("already-initialized");t.dataLayerName&&(Zr=t.dataLayerName),t.gtagName&&(ti=t.gtagName)}function ri(t,e){!function(){var t=[];if(He()&&t.push("This is a browser extension environment."),We()||t.push("Cookies are not available."),t.length>0){var e=t.map((function(t,e){return"("+(e+1)+") "+t})).join(" "),n=Vr.create("invalid-analytics-context",{errorInfo:e});Br.warn(n.message)}}();var n=t.options.appId;if(!n)throw Vr.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Vr.create("no-api-key");Br.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Xr[n])throw Vr.create("already-exists",{id:n});if(!ei){!function(t){var e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Zr);var r=function(t,e,n,r,i){var o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(t,e,n,r){return function(i,o,a){return Fn(this,void 0,void 0,(function(){var s;return Un(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==Pr.EVENT?[3,2]:[4,Fr(t,e,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==Pr.CONFIG?[3,4]:[4,jr(t,e,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:t(Pr.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),Br.error(s),[3,7];case 7:return[2]}}))}))}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}(Xr,$r,Jr,Zr,ti),i=r.wrappedGtag,o=r.gtagCore;Yr=i,Qr=o,ei=!0}return Xr[n]=function(t,e,n,r,i,o){return Fn(this,void 0,void 0,(function(){var a,s,u,c,h,l,f;return Un(this,(function(d){switch(d.label){case 0:return(a=function(t,e,n){return void 0===e&&(e=qr),Fn(this,void 0,void 0,(function(){var n,r,i,o,a,s,u=this;return Un(this,(function(c){if(n=t.options,r=n.appId,i=n.apiKey,o=n.measurementId,!r)throw Vr.create("no-app-id");if(!i){if(o)return[2,{measurementId:o,appId:r}];throw Vr.create("no-api-key")}return a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new Wr,setTimeout((function(){return Fn(u,void 0,void 0,(function(){return Un(this,(function(t){return s.abort(),[2]}))}))}),6e4),[2,Kr({appId:r,apiKey:i,measurementId:o},a,s,e)]}))}))}(t)).then((function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&Br.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(t){return Br.error(t)})),e.push(a),s=function(){return Fn(this,void 0,void 0,(function(){var t;return Un(this,(function(e){switch(e.label){case 0:return Ke()?[3,1]:(Br.warn(Vr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,Ge()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),Br.warn(Vr.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(t){return t?r.getId():void 0})),[4,Promise.all([a,s])];case 1:return u=d.sent(),c=u[0],h=u[1],function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(Lr))return r}return null}()||function(t,e){var n=document.createElement("script");n.src=Lr+"?l="+t+"&id="+e,n.async=!0,document.head.appendChild(n)}(o,c.measurementId),i("js",new Date),(f={}).origin="firebase",f.update=!0,l=f,null!=h&&(l.firebase_id=h),i(Pr.CONFIG,c.measurementId,l),[2,c.measurementId]}}))}))}(t,$r,Jr,e,Qr,Zr),{app:t,logEvent:function(t,e,r){(function(t,e,n,r,i){return Fn(this,void 0,void 0,(function(){var o,a;return Un(this,(function(s){switch(s.label){case 0:return i&&i.global?(t(Pr.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=s.sent(),a=jn(jn({},r),{send_to:o}),t(Pr.EVENT,n,a),s.label=3;case 3:return[2]}}))}))})(Yr,Xr[n],t,e,r).catch((function(t){return Br.error(t)}))},setCurrentScreen:function(t,e){(function(t,e,n,r){return Fn(this,void 0,void 0,(function(){var i;return Un(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(Pr.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(Pr.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(Yr,Xr[n],t,e).catch((function(t){return Br.error(t)}))},setUserId:function(t,e){(function(t,e,n,r){return Fn(this,void 0,void 0,(function(){var i;return Un(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(Pr.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(Pr.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(Yr,Xr[n],t,e).catch((function(t){return Br.error(t)}))},setUserProperties:function(t,e){(function(t,e,n,r){return Fn(this,void 0,void 0,(function(){var i,o,a,s,u;return Un(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)s=a[o],i["user_properties."+s]=n[s];return t(Pr.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:u=c.sent(),t(Pr.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(Yr,Xr[n],t,e).catch((function(t){return Br.error(t)}))},setAnalyticsCollectionEnabled:function(t){(function(t,e){return Fn(this,void 0,void 0,(function(){var n;return Un(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}}))}))})(Xr[n],t).catch((function(t){return Br.error(t)}))},INTERNAL:{delete:function(){return delete Xr[n],Promise.resolve()}}}}var ii="analytics";function oi(){return Fn(this,void 0,void 0,(function(){return Un(this,(function(t){switch(t.label){case 0:if(He())return[2,!1];if(!We())return[2,!1];if(!Ke())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Ge()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}}))}))}!function(t){t.INTERNAL.registerComponent(new cn(ii,(function(t){return ri(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:ni,EventName:Rr,isSupported:oi})),t.INTERNAL.registerComponent(new cn("analytics-internal",(function(t){try{return{logEvent:t.getProvider(ii).getImmediate().logEvent}}catch(t){throw Vr.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),t.registerVersion("@firebase/analytics","0.6.17")}(Mn),function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},r=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,t];for(var e=0;e<t.length;++e){var r=t[e];if(r&&r.Math==Math)return r}return globalThis}(this);function i(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function o(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:i(t)}}!function(t,n){if(n){var i=r;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in i||(i[a]={}),i=i[a]}(n=n(o=i[t=t[t.length-1]]))!=o&&null!=n&&e(i,t,{configurable:!0,writable:!0,value:n})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function n(){this.a=null}function i(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var a=r.setTimeout;n.prototype.c=function(t){a(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new n;return e.prototype.s=function(t){var e=this.f();t.Ra(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){o(t)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.Ra(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Ra=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=i,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=o(t),a=r.next();!a.done;a=r.next())i(a.value).Ra(e,n)}))},e.all=function(t){var n=o(t),r=n.next();return r.done?i([]):new e((function(t,e){function o(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,i(r.value).Ra(o(a.length-1),e),r=n.next()}while(!r.done)}))},e}));var a=a||{},s=this||self,u=/^[\w+/_-]+[=]{0,2}$/,c=null;function h(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&u.test(t)?t:""}function l(){}function f(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function d(t){var e=f(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==f(t)}function m(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function g(t){return Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++y)}var v="closure_uid_"+(1e9*Math.random()>>>0),y=0;function b(t,e,n){return t.call.apply(t.bind,arguments)}function w(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function A(t,e,n){return(A=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:w).apply(null,arguments)}function I(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var E=Date.now;function T(t,e){function n(){}n.prototype=e.prototype,t.bb=e.prototype,t.prototype=new n,t.prototype.constructor=t}function C(t){return t}function k(t,e,n){this.code=N+t,this.message=e||D[t]||"",this.a=n||null}function S(t){var e=t&&t.code;return e?new k(e.substring(N.length),t.message,t.serverResponse):null}T(k,Error),k.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},k.prototype.toJSON=function(){return this.w()};var _,N="auth/",D={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},x={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function O(t){for(var e in x)if(x[e].id===t)return{firebaseEndpoint:(t=x[e]).Ua,secureTokenEndpoint:t.$a,identityPlatformEndpoint:t.Xa};return null}function P(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function R(t){if(Error.captureStackTrace)Error.captureStackTrace(this,R);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function L(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");R.call(this,n+t[r])}function M(t,e){throw new L("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function B(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function j(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function F(){this.b=this.a=null}_=O("__EID__")?"__EID__":void 0,T(R,Error),R.prototype.name="CustomError",T(L,R),L.prototype.name="AssertionError",B.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var U=new B((function(){return new q}),(function(t){t.reset()}));function V(){var t=be,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function q(){this.next=this.b=this.a=null}F.prototype.add=function(t,e){var n=U.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},q.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},q.prototype.reset=function(){this.next=this.b=this.a=null};var z=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},H=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},K=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},G=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},W=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function Q(t,e){return 0<=z(t,e)}function Y(t,e){var n;return(n=0<=(e=z(t,e)))&&Array.prototype.splice.call(t,e,1),n}function X(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1).length}))}function $(t){return Array.prototype.concat.apply([],arguments)}function J(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Z,tt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},et=/&/g,nt=/</g,rt=/>/g,it=/"/g,ot=/'/g,at=/\x00/g,st=/[\x00&<>"']/;function ut(t,e){return-1!=t.indexOf(e)}function ct(t,e){return t<e?-1:t>e?1:0}t:{var ht=s.navigator;if(ht){var lt=ht.userAgent;if(lt){Z=lt;break t}}Z=""}function ft(t){return ut(Z,t)}function dt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function pt(t){for(var e in t)return!1;return!0}function mt(t){var e,n={};for(e in t)n[e]=t[e];return n}var gt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<gt.length;o++)n=gt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function yt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break t}}catch(t){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(m(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;M("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function bt(t,e){this.a=t===Et&&e||"",this.b=It}function wt(t){return t instanceof bt&&t.constructor===bt&&t.b===It?t.a:(M("expected object of type Const, got '"+t+"'"),"type_error:Const")}bt.prototype.ta=!0,bt.prototype.sa=function(){return this.a},bt.prototype.toString=function(){return"Const{"+this.a+"}"};var At,It={},Et={};function Tt(){if(void 0===At){var t=null,e=s.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:C,createScript:C,createScriptURL:C})}catch(t){s.console&&s.console.error(t.message)}At=t}else At=t}return At}function Ct(t,e){this.a=e===Dt?t:""}function kt(t){return t instanceof Ct&&t.constructor===Ct?t.a:(M("expected object of type TrustedResourceUrl, got '"+t+"' of type "+f(t)),"type_error:TrustedResourceUrl")}function St(t,e){var n=wt(t);if(!Nt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=Tt();return new Ct(t=e?e.createScriptURL(t):t,Dt)}(t=n.replace(_t,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof bt?wt(t):encodeURIComponent(String(t))})))}Ct.prototype.ta=!0,Ct.prototype.sa=function(){return this.a.toString()},Ct.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var _t=/%{(\w+)}/g,Nt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Dt={};function xt(t,e){this.a=e===jt?t:""}function Ot(t){return t instanceof xt&&t.constructor===xt?t.a:(M("expected object of type SafeUrl, got '"+t+"' of type "+f(t)),"type_error:SafeUrl")}xt.prototype.ta=!0,xt.prototype.sa=function(){return this.a.toString()},xt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Pt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Rt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Lt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Mt(t){if(t instanceof xt)return t;if(t="object"==typeof t&&t.ta?t.sa():String(t),Lt.test(t))t=new xt(t,jt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Rt);t=e&&Pt.test(e[1])?new xt(t,jt):null}return t}function Bt(t){return t instanceof xt?t:(t="object"==typeof t&&t.ta?t.sa():String(t),Lt.test(t)||(t="about:invalid#zClosurez"),new xt(t,jt))}var jt={},Ft=new xt("about:invalid#zClosurez",jt);function Ut(t,e,n){this.a=n===Vt?t:""}Ut.prototype.ta=!0,Ut.prototype.sa=function(){return this.a.toString()},Ut.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Vt={};function qt(t,e,n,r){return t=t instanceof xt?t:Bt(t),e=e||s,n=n instanceof bt?wt(n):n||"",e.open(Ot(t),n,r,void 0)}function zt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ht(t){return st.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(et,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(nt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(rt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(it,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(ot,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(at,"&#0;"))),t}function Kt(t){return Kt[" "](t),t}Kt[" "]=l;var Gt,Wt,Qt=ft("Opera"),Yt=ft("Trident")||ft("MSIE"),Xt=ft("Edge"),$t=Xt||Yt,Jt=ft("Gecko")&&!(ut(Z.toLowerCase(),"webkit")&&!ft("Edge"))&&!(ft("Trident")||ft("MSIE"))&&!ft("Edge"),Zt=ut(Z.toLowerCase(),"webkit")&&!ft("Edge");function te(){var t=s.document;return t?t.documentMode:void 0}t:{var ee="",ne=(Wt=Z,Jt?/rv:([^\);]+)(\)|;)/.exec(Wt):Xt?/Edge\/([\d\.]+)/.exec(Wt):Yt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Wt):Zt?/WebKit\/(\S+)/.exec(Wt):Qt?/(?:Version)[ \/]?(\S+)/.exec(Wt):void 0);if(ne&&(ee=ne?ne[1]:""),Yt){var re=te();if(null!=re&&re>parseFloat(ee)){Gt=String(re);break t}}Gt=ee}var ie,oe={};function ae(t){return function(t,e){var n=oe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=tt(String(Gt)).split("."),r=tt(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=ct(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ct(0==a[2].length,0==s[2].length)||ct(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}s.document&&Yt?ie=te()||parseInt(Gt,10)||void 0:ie=void 0;var se=ie;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Wt){}var ue=!Yt||9<=Number(se);function ce(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function he(t,e){dt(e,(function(e,n){e&&"object"==typeof e&&e.ta&&(e=e.sa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:de.hasOwnProperty(n)?t.setAttribute(de[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var le,fe,de={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function pe(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!d(o)||m(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(m(o)){var a="function"==typeof o.item||"string"==typeof o.item;break t}if(p(o)){a="function"==typeof o.item;break t}}a=!1}H(a?J(o):o,r)}}}function me(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ge(t){s.setTimeout((function(){throw t}),0)}function ve(t,e){fe||function(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);fe=function(){t.then(we)}}else fe=function(){var t=we;!p(s.setImmediate)||s.Window&&s.Window.prototype&&!ft("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(le||(le=function(){var t=s.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ft("Presto")&&(t=function(){var t=me(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=A((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ft("Trident")&&!ft("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Hb;n.Hb=null,t()}},function(t){r.next={Hb:t},r=r.next,e.port2.postMessage(0)}}return function(t){s.setTimeout(t,0)}}()),le(t)):s.setImmediate(t)}}(),ye||(fe(),ye=!0),be.add(t,e)}var ye=!1,be=new F;function we(){for(var t;t=V();){try{t.a.call(t.b)}catch(t){ge(t)}j(U,t)}ye=!1}function Ae(t,e){if(this.a=Ie,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=l)try{var n=this;t.call(e,(function(t){Le(n,Ee,t)}),(function(t){if(!(t instanceof qe))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Le(n,Te,t)}))}catch(t){Le(this,Te,t)}}var Ie=0,Ee=2,Te=3;function Ce(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ce.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var ke=new B((function(){return new Ce}),(function(t){t.reset()}));function Se(t,e,n){var r=ke.get();return r.g=t,r.b=e,r.f=n,r}function _e(t){if(t instanceof Ae)return t;var e=new Ae(l);return Le(e,Ee,t),e}function Ne(t){return new Ae((function(e,n){n(t)}))}function De(t,e,n){Me(t,e,n,null)||ve(I(e,t))}function xe(t){return new Ae((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)De(t[o],I(i,o,!0),I(i,o,!1));else e(r)}))}function Oe(t,e){if(t.a==Ie)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==t&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==Ie&&1==r?Oe(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):je(n),Fe(n,i,Te,e)))}t.c=null}else Le(t,Te,e)}function Pe(t,e){t.b||t.a!=Ee&&t.a!=Te||Be(t),t.f?t.f.next=e:t.b=e,t.f=e}function Re(t,e,n,r){var i=Se(null,null,null);return i.a=new Ae((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof qe?o(e):t(i)}catch(t){o(t)}}:o})),i.a.c=t,Pe(t,i),i.a}function Le(t,e,n){t.a==Ie&&(t===n&&(e=Te,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Me(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Be(t),e!=Te||n instanceof qe||function(t,e){t.g=!0,ve((function(){t.g&&Ve.call(null,e)}))}(t,n)))}function Me(t,e,n,r){if(t instanceof Ae)return Pe(t,Se(e||l,n||null,r)),!0;if(P(t))return t.then(e,n,r),!0;if(m(t))try{var i=t.then;if(p(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,(function(t){a||(a=!0,n.call(i,t))}),o)}catch(t){o(t)}}(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function Be(t){t.h||(t.h=!0,ve(t.gc,t))}function je(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Fe(t,e,n,r){if(n==Te&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ue(e,n,r);else try{e.c?e.g.call(e.f):Ue(e,n,r)}catch(t){Ve.call(null,t)}j(ke,e)}function Ue(t,e,n){e==Ee?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}Ae.prototype.then=function(t,e,n){return Re(this,p(t)?t:null,p(e)?e:null,n)},Ae.prototype.$goog_Thenable=!0,(t=Ae.prototype).oa=function(t,e){return(t=Se(t,t,e)).c=!0,Pe(this,t),this},t.o=function(t,e){return Re(this,null,t,e)},t.cancel=function(t){if(this.a==Ie){var e=new qe(t);ve((function(){Oe(this,e)}),this)}},t.$c=function(t){this.a=Ie,Le(this,Ee,t)},t.ad=function(t){this.a=Ie,Le(this,Te,t)},t.gc=function(){for(var t;t=je(this);)Fe(this,t,this.a,this.i);this.h=!1};var Ve=ge;function qe(t){R.call(this,t)}function ze(){0!=He&&(Ke[g(this)]=this),this.ya=this.ya,this.pa=this.pa}T(qe,R),qe.prototype.name="cancel";var He=0,Ke={};function Ge(t){if(!t.ya&&(t.ya=!0,t.Da(),0!=He)){var e=g(t);if(0!=He&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ke[e]}}ze.prototype.ya=!1,ze.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var We=Object.freeze||function(t){return t},Qe=!Yt||9<=Number(se),Ye=Yt&&!ae("9"),Xe=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",l,e),s.removeEventListener("test",l,e)}catch(t){}return t}();function $e(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Je(t,e){if($e.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Jt){t:{try{Kt(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ze[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}$e.prototype.preventDefault=function(){this.defaultPrevented=!0},T(Je,$e);var Ze=We({2:"touch",3:"pen",4:"mouse"});Je.prototype.preventDefault=function(){Je.bb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ye)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},Je.prototype.g=function(){return this.a};var tn="closure_listenable_"+(1e6*Math.random()|0),en=0;function nn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Wa=i,this.key=++en,this.wa=this.Qa=!1}function rn(t){t.wa=!0,t.listener=null,t.proxy=null,t.src=null,t.Wa=null}function on(t){this.src=t,this.a={},this.b=0}function an(t,e){var n=e.type;n in t.a&&Y(t.a[n],e)&&(rn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function sn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.wa&&o.listener==e&&o.capture==!!n&&o.Wa==r)return i}return-1}on.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=sn(t,e,r,i);return-1<a?(e=t[a],n||(e.Qa=!1)):((e=new nn(e,this.src,o,!!r,i)).Qa=n,t.push(e)),e};var un="closure_lm_"+(1e6*Math.random()|0),cn={};function hn(t,e,n,r,i){if(r&&r.once)fn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else n=An(n),t&&t[tn]?En(t,e,n,m(r)?!!r.capture:!!r,i):ln(t,e,n,!1,r,i)}function ln(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=m(i)?!!i.capture:!!i,s=bn(t);if(s||(t[un]=s=new on(t)),!(n=s.add(e,n,r,a,o)).proxy)if(r=function(){var t=yn,e=Qe?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Xe||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(mn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function fn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)fn(t,e[o],n,r,i);else n=An(n),t&&t[tn]?Tn(t,e,n,m(r)?!!r.capture:!!r,i):ln(t,e,n,!0,r,i)}function dn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)dn(t,e[o],n,r,i);else r=m(r)?!!r.capture:!!r,n=An(n),t&&t[tn]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=sn(o=t.a[e],n,r,i))&&(rn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=bn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=sn(e,n,r,i)),(n=-1<t?e[t]:null)&&pn(n))}function pn(t){if("number"!=typeof t&&t&&!t.wa){var e=t.src;if(e&&e[tn])an(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(mn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=bn(e))?(an(n,t),0==n.b&&(n.src=null,e[un]=null)):rn(t)}}}function mn(t){return t in cn?cn[t]:cn[t]="on"+t}function gn(t,e,n,r){var i=!0;if((t=bn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.wa&&(o=vn(o,r),i=i&&!1!==o)}return i}function vn(t,e){var n=t.listener,r=t.Wa||t.src;return t.Qa&&pn(t),n.call(r,e)}function yn(t,e){if(t.wa)return!0;if(!Qe){if(!e)t:{e=["window","event"];for(var n=s,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Je(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=gn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=gn(r[i],t,!1,e),n=n&&o}return n}return vn(t,new Je(e,this))}function bn(t){return(t=t[un])instanceof on?t:null}var wn="__closure_events_fn_"+(1e9*Math.random()>>>0);function An(t){return p(t)?t:(t[wn]||(t[wn]=function(e){return t.handleEvent(e)}),t[wn])}function In(){ze.call(this),this.v=new on(this),this.bc=this,this.hb=null}function En(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function Tn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function Cn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.wa&&a.capture==n){var s=a.listener,u=a.Wa||a.src;a.Qa&&an(t.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function kn(t,e,n){if(p(t))n&&(t=A(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=A(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function Sn(t){var e=null;return new Ae((function(n,r){-1==(e=kn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw s.clearTimeout(e),t}))}function _n(t){if(t.X&&"function"==typeof t.X)return t.X();if("string"==typeof t)return t.split("");if(d(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Nn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.X||"function"!=typeof t.X){if(d(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Dn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Dn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function xn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];On(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)On(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function On(t,e){return Object.prototype.hasOwnProperty.call(t,e)}T(In,ze),In.prototype[tn]=!0,In.prototype.addEventListener=function(t,e,n,r){hn(this,t,e,n,r)},In.prototype.removeEventListener=function(t,e,n,r){dn(this,t,e,n,r)},In.prototype.dispatchEvent=function(t){var e,n=this.hb;if(n)for(e=[];n;n=n.hb)e.push(n);n=this.bc;var r=t.type||t;if("string"==typeof t)t=new $e(t,n);else if(t instanceof $e)t.target=t.target||n;else{var i=t;vt(t=new $e(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=Cn(a,r,!0,t)&&i}if(i=Cn(a=t.b=n,r,!0,t)&&i,i=Cn(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Cn(a=t.b=e[o],r,!1,t)&&i;return i},In.prototype.Da=function(){if(In.bb.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)rn(n[r]);delete e.a[t],e.b--}}this.hb=null},(t=Dn.prototype).X=function(){xn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return xn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return On(this.b,t)?this.b[t]:e},t.set=function(t,e){On(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Pn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Rn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Rn?(this.i=void 0!==e?e:t.i,Ln(this,t.c),this.l=t.l,this.a=t.a,Bn(this,t.g),this.f=t.f,jn(this,rr(t.b)),this.h=t.h):t&&(n=String(t).match(Pn))?(this.i=!!e,Ln(this,n[1]||"",!0),this.l=zn(n[2]||""),this.a=zn(n[3]||"",!0),Bn(this,n[4]),this.f=zn(n[5]||"",!0),jn(this,n[6]||"",!0),this.h=zn(n[7]||"")):(this.i=!!e,this.b=new $n(null,this.i))}function Ln(t,e,n){t.c=n?zn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Bn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function jn(t,e,n){e instanceof $n?(t.b=e,function(t,e){e&&!t.f&&(Jn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(tr(this,e),nr(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=Hn(e,Yn)),t.b=new $n(e,t.i))}function Fn(t,e,n){t.b.set(e,n)}function Un(t,e){return t.b.get(e)}function Vn(t){return t instanceof Rn?new Rn(t):new Rn(t,void 0)}function qn(t,e,n,r){var i=new Rn(null,void 0);return t&&Ln(i,t),e&&(i.a=e),n&&Bn(i,n),r&&(i.f=r),i}function zn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Hn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Kn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Kn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Rn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Hn(e,Gn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Hn(e,Gn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Hn(n,"/"==n.charAt(0)?Qn:Wn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Hn(n,Xn)),t.join("")},Rn.prototype.resolve=function(t){var e=new Rn(this),n=!!t.c;n?Ln(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Bn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ut(i,"./")||ut(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?jn(e,rr(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Gn=/[#\/\?@]/g,Wn=/[#\?:]/g,Qn=/[#\?]/g,Yn=/[#\?@]/g,Xn=/#/g;function $n(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Jn(t){t.a||(t.a=new Dn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Zn(t){var e=Nn(t);if(void 0===e)throw Error("Keys are undefined");var n=new $n(null,void 0);t=_n(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?nr(n,i,o):n.add(i,o)}return n}function tr(t,e){Jn(t),e=ir(t,e),On(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,On((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&xn(t)))}function er(t,e){return Jn(t),e=ir(t,e),On(t.a.b,e)}function nr(t,e,n){tr(t,e),0<n.length&&(t.c=null,t.a.set(ir(t,e),J(n)),t.b+=n.length)}function rr(t){var e=new $n;return e.c=t.c,t.a&&(e.a=new Dn(t.a),e.b=t.b),e}function ir(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function or(t){var e=[];return sr(new ar,t,e),e.join("")}function ar(){}function sr(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),sr(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&"function"!=typeof(o=e[r])&&(n.push(i),hr(r,n),n.push(":"),sr(t,o,n),i=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":hr(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=$n.prototype).add=function(t,e){Jn(this),this.c=null,t=ir(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Jn(this),this.a.forEach((function(n,r){H(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){Jn(this);for(var t=this.a.X(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.X=function(t){Jn(this);var e=[];if("string"==typeof t)er(this,t)&&(e=$(e,this.a.get(ir(this,t))));else{t=this.a.X();for(var n=0;n<t.length;n++)e=$(e,t[n])}return e},t.set=function(t,e){return Jn(this),this.c=null,er(this,t=ir(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.X(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var ur={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},cr=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function hr(t,e){e.push('"',t.replace(cr,(function(t){var e=ur[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ur[t]=e),e})),'"')}function lr(){var t=xr();return Yt&&!!se&&11==se||/Edge\/\d+/.test(t)}function fr(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function dr(t,e){e=e||s.window;var n="about:blank";t&&(n=Ot(Mt(t)||Ft)),e.location.href=n}function pr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<pr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function mr(t){return!!((t=(t||xr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function gr(t){t=t||s.window;try{t.close()}catch(t){}}function vr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=xr().toLowerCase(),r&&(e.target=r,ut(n,"crios/")&&(e.target="_blank")),_r(xr())==kr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof xt?n:Mt(void 0!==n.href?n.href:String(n))||Ft,n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((ft("iPhone")&&!ft("iPod")&&!ft("iPad")||ft("iPad")||ft("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(yt(a=me(document,"A"),"HTMLAnchorElement"),e=e instanceof xt?e:Bt(e),a.href=Ot(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=qt("",r,n,a),t=Ot(e),a&&($t&&ut(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ht(t)+'">',t=new Ut(t=(r=Tt())?r.createHTML(t):t,null,Vt),r=a.document)&&(r.write(function(t){return t instanceof Ut&&t.constructor===Ut?t.a:(M("expected object of type SafeHtml, got '"+t+"' of type "+f(t)),"type_error:SafeHtml")}(t)),r.close())):(a=qt(e,r,n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(t){}return a}var yr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,br=/^[^@]+@[^@]+$/;function wr(){var t=null;return new Ae((function(e){"complete"==s.document.readyState?e():(t=function(){e()},fn(window,"load",t))})).o((function(e){throw dn(window,"load",t),e}))}function Ar(t){return t=t||xr(),!("file:"!==Mr()&&"ionic:"!==Mr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ir(){var t=s.window;try{return!(!t||t==t.top)}catch(t){return!1}}function Er(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function Tr(){return Mn.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Mn.INTERNAL.hasOwnProperty("node")?"Node":Er()?"Worker":"Browser"}function Cr(){var t=Tr();return"ReactNative"===t||"Node"===t}var kr="Firefox",Sr="Chrome";function _r(t){var e=t.toLowerCase();return ut(e,"opera/")||ut(e,"opr/")||ut(e,"opios/")?"Opera":ut(e,"iemobile")?"IEMobile":ut(e,"msie")||ut(e,"trident/")?"IE":ut(e,"edge/")?"Edge":ut(e,"firefox/")?kr:ut(e,"silk/")?"Silk":ut(e,"blackberry")?"Blackberry":ut(e,"webos")?"Webos":!ut(e,"safari/")||ut(e,"chrome/")||ut(e,"crios/")||ut(e,"android")?!ut(e,"chrome/")&&!ut(e,"crios/")||ut(e,"edge/")?ut(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Sr:"Safari"}var Nr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Dr(t,e){e=e||[];var n,r=[],i={};for(n in Nr)i[Nr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=Tr())?r=_r(i=xr()):"Worker"===r&&(r=_r(i=xr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function xr(){return s.navigator&&s.navigator.userAgent||""}function Or(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Pr(){try{var t=s.localStorage,e=Vr();if(t)return t.setItem(e,"1"),t.removeItem(e),!lr()||!!s.indexedDB}catch(t){return Er()&&!!s.indexedDB}return!1}function Rr(){return(Lr()||"chrome-extension:"===Mr()||Ar())&&!Cr()&&Pr()&&!Er()}function Lr(){return"http:"===Mr()||"https:"===Mr()}function Mr(){return s.location&&s.location.protocol||null}function Br(t){return!mr(t=t||xr())&&_r(t)!=kr}function jr(t){return void 0===t?null:or(t)}function Fr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Ur(t){if(null!==t)return JSON.parse(t)}function Vr(t){return t||Math.floor(1e9*Math.random()).toString()}function qr(t){return"Safari"!=_r(t=t||xr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function zr(){var t=s.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Hr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=xr(),e=Tr(),this.b=mr(t)||"ReactNative"===e}function Kr(){var t=s.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Gr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function Wr(){return!(!Or("fireauth.oauthhelper",s)&&!Or("fireauth.iframe",s))}Hr.prototype.get=function(){var t=s.navigator;return!t||"boolean"!=typeof t.onLine||!Lr()&&"chrome-extension:"!==Mr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Qr,Yr={};function Xr(t){Yr[t]||(Yr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var $r={};Object.defineProperty($r,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty($r,"abcd",{configurable:!0,enumerable:!0,value:2}),Qr=2==$r.abcd}catch(Wt){Qr=!1}function Jr(t,e,n){Qr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Zr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Jr(t,n,e[n])}function ti(t){var e={};return Zr(e,t),e}function ei(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Jr(e,n,ei(t[n]));return e}function ni(t){var e=t&&(t[si]?"phone":null);if(!(e&&t&&t[ai]))throw new k("internal-error","Internal assert: invalid MultiFactorInfo object");Jr(this,"uid",t[ai]),Jr(this,"displayName",t[ii]||null);var n=null;t[oi]&&(n=new Date(t[oi]).toUTCString()),Jr(this,"enrollmentTime",n),Jr(this,"factorId",e)}function ri(t){try{var e=new ui(t)}catch(t){e=null}return e}ni.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ii="displayName",oi="enrolledAt",ai="mfaEnrollmentId",si="phoneInfo";function ui(t){ni.call(this,t),Jr(this,"phoneNumber",t[si])}function ci(t){var e={},n=t[di],r=t[mi],i=t[gi];if(t=ri(t[pi]),!i||i!=li&&i!=fi&&!n||i==fi&&!r||i==hi&&!t)throw Error("Invalid checkActionCode response!");i==fi?(e[yi]=n||null,e[wi]=n||null,e[vi]=r):(e[yi]=r||null,e[wi]=r||null,e[vi]=n||null),e[bi]=t||null,Jr(this,Ii,i),Jr(this,Ai,ei(e))}T(ui,ni),ui.prototype.w=function(){var t=ui.bb.w.call(this);return t.phoneNumber=this.phoneNumber,t};var hi="REVERT_SECOND_FACTOR_ADDITION",li="EMAIL_SIGNIN",fi="VERIFY_AND_CHANGE_EMAIL",di="email",pi="mfaInfo",mi="newEmail",gi="requestType",vi="email",yi="fromEmail",bi="multiFactorInfo",wi="previousEmail",Ai="data",Ii="operation";function Ei(t){var e=Un(t=Vn(t),Ti)||null,n=Un(t,Ci)||null,r=Un(t,_i)||null;if(r=r&&Di[r]||null,!e||!n||!r)throw new k("argument-error",Ti+", "+Ci+"and "+_i+" are required in a valid action code URL.");Zr(this,{apiKey:e,operation:r,code:n,continueUrl:Un(t,ki)||null,languageCode:Un(t,Si)||null,tenantId:Un(t,Ni)||null})}var Ti="apiKey",Ci="oobCode",ki="continueUrl",Si="languageCode",_i="mode",Ni="tenantId",Di={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:hi,signIn:li,verifyAndChangeEmail:fi,verifyEmail:"VERIFY_EMAIL"};function xi(t){try{return new Ei(t)}catch(t){return null}}function Oi(t){var e=t[Bi];if(void 0===e)throw new k("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new k("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Pi];if(n&&"object"==typeof n){e=n[Ui];var r=n[ji];if(n=n[Fi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new k("argument-error",ji+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new k("argument-error",Fi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new k("argument-error",Ui+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new k("missing-android-pkg-name")}}else if(void 0!==n)throw new k("argument-error",Pi+" property must be a non null object when specified.");if(this.f=null,(e=t[Mi])&&"object"==typeof e){if("string"==typeof(e=e[Vi])&&e.length)this.f=e;else if(void 0!==e)throw new k("argument-error",Vi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new k("argument-error",Mi+" property must be a non null object when specified.");if(void 0!==(e=t[Li])&&"boolean"!=typeof e)throw new k("argument-error",Li+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Ri])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new k("argument-error",Ri+" property must be a non empty string when specified.");this.i=t||null}var Pi="android",Ri="dynamicLinkDomain",Li="handleCodeInApp",Mi="iOS",Bi="url",ji="installApp",Fi="minimumVersion",Ui="packageName",Vi="bundleId";function qi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var zi=null;function Hi(t){var e=Gi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Ki(t){try{return new Hi(t)}catch(t){return null}}function Gi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=function(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=zi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!zi){zi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===zi[o]&&(zi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){e.push(t)})),e}(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var a=r[e++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(s>>10)),t[n++]=String.fromCharCode(56320+(1023&s))}else o=r[e++],a=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(t.join(""))}catch(t){}return null}Hi.prototype.T=function(){return this.f},Hi.prototype.l=function(){return this.c},Hi.prototype.toString=function(){return this.h};var Wi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Qi=["client_id","response_type","scope","redirect_uri","state"],Yi={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Qi},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Qi},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Qi},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Wi},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Xi(t){for(var e in Yi)if(Yi[e].fa==t)return Yi[e];return null}function $i(t){var e={};e["facebook.com"]=no,e["google.com"]=io,e["github.com"]=ro,e["twitter.com"]=oo;var n=t&&t[Zi];try{if(n)return e[n]?new e[n](t):new eo(t);if(void 0!==t[Ji])return new to(t)}catch(t){}return null}var Ji="idToken",Zi="providerId";function to(t){var e=t[Zi];if(!e&&t[Ji]){var n=Ki(t[Ji]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Jr(this,"providerId",e),Jr(this,"isNewUser",n)}function eo(t){to.call(this,t),Jr(this,"profile",ei((t=Ur(t.rawUserInfo||"{}"))||{}))}function no(t){if(eo.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function ro(t){if(eo.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Jr(this,"username",this.profile&&this.profile.login||null)}function io(t){if(eo.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function oo(t){if(eo.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Jr(this,"username",t.screenName||null)}function ao(t){var e=Vn(t),n=Un(e,"link"),r=Un(Vn(n),"link");return e=Un(e,"deep_link_id"),Un(Vn(e),"link")||e||r||n||t}function so(t,e){if(!t&&!e)throw new k("internal-error","Internal assert: no raw session string available");if(t&&e)throw new k("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?uo:co}T(eo,to),T(no,eo),T(ro,eo),T(io,eo),T(oo,eo);var uo="enroll",co="signin";function ho(){}function lo(t,e){return t.then((function(t){if(t[Za]){var n=Ki(t[Za]);if(!n||e!=n.i)throw new k("user-mismatch");return t}throw new k("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==N+"user-not-found"?new k("user-mismatch"):t}))}function fo(t,e){if(!e)throw new k("internal-error","failed to construct a credential");this.a=e,Jr(this,"providerId",t),Jr(this,"signInMethod",t)}function po(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function mo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new fo(t.providerId,t.pendingToken)}catch(t){}return null}function go(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Jr(this,"idToken",e.idToken),e.accessToken&&Jr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Jr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new k("internal-error","failed to construct a credential");Jr(this,"accessToken",e.oauthToken),Jr(this,"secret",e.oauthTokenSecret)}Jr(this,"providerId",t),Jr(this,"signInMethod",n)}function vo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Zn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function yo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new go(t.providerId,e,t.signInMethod)}catch(t){}}return null}function bo(t,e){this.Qc=e||[],Zr(this,{providerId:t,isOAuthProvider:!0}),this.Jb={},this.qb=(Xi(t)||{}).Ja||null,this.pb=null}function wo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new k("argument-error",'SAML provider IDs must be prefixed with "saml."');bo.call(this,t,[])}function Ao(t){bo.call(this,t,Qi),this.a=[]}function Io(){Ao.call(this,"facebook.com")}function Eo(t){if(!t)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return m(t)&&(e=t.accessToken),(new Io).credential({accessToken:e})}function To(){Ao.call(this,"github.com")}function Co(t){if(!t)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return m(t)&&(e=t.accessToken),(new To).credential({accessToken:e})}function ko(){Ao.call(this,"google.com"),this.Ca("profile")}function So(t,e){var n=t;return m(t)&&(n=t.idToken,e=t.accessToken),(new ko).credential({idToken:n,accessToken:e})}function _o(){bo.call(this,"twitter.com",Wi)}function No(t,e){var n=t;if(m(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new k("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new go("twitter.com",n,"twitter.com")}function Do(t,e,n){this.a=t,this.f=e,Jr(this,"providerId","password"),Jr(this,"signInMethod",n===Oo.EMAIL_LINK_SIGN_IN_METHOD?Oo.EMAIL_LINK_SIGN_IN_METHOD:Oo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function xo(t){return t&&t.email&&t.password?new Do(t.email,t.password,t.signInMethod):null}function Oo(){Zr(this,{providerId:"password",isOAuthProvider:!1})}function Po(t,e){if(!(e=Ro(e)))throw new k("argument-error","Invalid email link!");return new Do(t,e.code,Oo.EMAIL_LINK_SIGN_IN_METHOD)}function Ro(t){return(t=xi(t=ao(t)))&&t.operation===li?t:null}function Lo(t){if(!(t.fb&&t.eb||t.La&&t.ea))throw new k("internal-error");this.a=t,Jr(this,"providerId","phone"),this.fa="phone",Jr(this,"signInMethod","phone")}function Mo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return H(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Lo(e)}return null}function Bo(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.fb,code:t.a.eb}}function jo(t){try{this.a=t||Mn.auth()}catch(t){throw new k("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Zr(this,{providerId:"phone",isOAuthProvider:!1})}function Fo(t,e){if(!t)throw new k("missing-verification-id");if(!e)throw new k("missing-verification-code");return new Lo({fb:t,eb:e})}function Uo(t){if(t.temporaryProof&&t.phoneNumber)return new Lo({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return So(o,n);case"facebook.com":return Eo(n);case"github.com":return Co(n);case"twitter.com":return No(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new fo(e,a):new go(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new Ao(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function Vo(t){if(!t.isOAuthProvider)throw new k("invalid-oauth-provider")}function qo(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new k("invalid-auth-event");if(this.g&&this.a)throw new k("invalid-auth-event");if(this.g&&!this.f)throw new k("invalid-auth-event")}function zo(t){return(t=t||{}).type?new qo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&S(t.error),t.postBody,t.tenantId):null}function Ho(){this.b=null,this.a=[]}so.prototype.Ha=function(){return this.a?_e(this.a):_e(this.b)},so.prototype.w=function(){return this.type==uo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},ho.prototype.ka=function(){},ho.prototype.b=function(){},ho.prototype.c=function(){},ho.prototype.w=function(){},fo.prototype.ka=function(t){return ws(t,po(this))},fo.prototype.b=function(t,e){var n=po(this);return n.idToken=e,As(t,n)},fo.prototype.c=function(t,e){return lo(Is(t,po(this)),e)},fo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},go.prototype.ka=function(t){return ws(t,vo(this))},go.prototype.b=function(t,e){var n=vo(this);return n.idToken=e,As(t,n)},go.prototype.c=function(t,e){return lo(Is(t,vo(this)),e)},go.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},bo.prototype.Ka=function(t){return this.Jb=mt(t),this},T(wo,bo),T(Ao,bo),Ao.prototype.Ca=function(t){return Q(this.a,t)||this.a.push(t),this},Ao.prototype.Rb=function(){return J(this.a)},Ao.prototype.credential=function(t,e){var n;if(!(n=m(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new k("argument-error","credential failed: must provide the ID token and/or the access token.");return new go(this.providerId,n,this.providerId)},T(Io,Ao),Jr(Io,"PROVIDER_ID","facebook.com"),Jr(Io,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),T(To,Ao),Jr(To,"PROVIDER_ID","github.com"),Jr(To,"GITHUB_SIGN_IN_METHOD","github.com"),T(ko,Ao),Jr(ko,"PROVIDER_ID","google.com"),Jr(ko,"GOOGLE_SIGN_IN_METHOD","google.com"),T(_o,bo),Jr(_o,"PROVIDER_ID","twitter.com"),Jr(_o,"TWITTER_SIGN_IN_METHOD","twitter.com"),Do.prototype.ka=function(t){return this.signInMethod==Oo.EMAIL_LINK_SIGN_IN_METHOD?ru(t,Ds,{email:this.a,oobCode:this.f}):ru(t,Js,{email:this.a,password:this.f})},Do.prototype.b=function(t,e){return this.signInMethod==Oo.EMAIL_LINK_SIGN_IN_METHOD?ru(t,xs,{idToken:e,email:this.a,oobCode:this.f}):ru(t,Hs,{idToken:e,email:this.a,password:this.f})},Do.prototype.c=function(t,e){return lo(this.ka(t),e)},Do.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Zr(Oo,{PROVIDER_ID:"password"}),Zr(Oo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Zr(Oo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Lo.prototype.ka=function(t){return t.gb(Bo(this))},Lo.prototype.b=function(t,e){var n=Bo(this);return n.idToken=e,ru(t,tu,n)},Lo.prototype.c=function(t,e){var n=Bo(this);return n.operation="REAUTH",lo(t=ru(t,eu,n),e)},Lo.prototype.w=function(){var t={providerId:"phone"};return this.a.fb&&(t.verificationId=this.a.fb),this.a.eb&&(t.verificationCode=this.a.eb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},jo.prototype.gb=function(t,e){var n=this.a.a;return _e(e.verify()).then((function(r){if("string"!=typeof r)throw new k("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=m(t)?t.session:null,o=m(t)?t.phoneNumber:t;return(i&&i.type==uo?i.Ha().then((function(t){return function(t,e){return ru(t,Gs,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==co?i.Ha().then((function(e){return function(t,e){return ru(t,Ws,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return ru(t,qs,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new k("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Zr(jo,{PROVIDER_ID:"phone"}),Zr(jo,{PHONE_SIGN_IN_METHOD:"phone"}),qo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},qo.prototype.T=function(){return this.h},qo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Ko,Go=null;function Wo(t){var e="unauthorized-domain",n=void 0,r=Vn(t);t=r.a,"chrome-extension"==(r=r.c)?n=zt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=zt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",k.call(this,e,n)}function Qo(t,e,n){k.call(this,t,n),(t=e||{}).Kb&&Jr(this,"email",t.Kb),t.ea&&Jr(this,"phoneNumber",t.ea),t.credential&&Jr(this,"credential",t.credential),t.$b&&Jr(this,"tenantId",t.$b)}function Yo(t){if(t.code){var e=t.code||"";0==e.indexOf(N)&&(e=e.substring(N.length));var n={credential:Uo(t),$b:t.tenantId};if(t.email)n.Kb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new k(e,t.message||void 0);return new Qo(e,n,t.message)}return null}function Xo(){}function $o(t){return t.c||(t.c=t.b())}function Jo(){}function Zo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function ta(){}function ea(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=A(this.qc,this),this.a.onerror=A(this.Tb,this),this.a.onprogress=A(this.rc,this),this.a.ontimeout=A(this.vc,this)}function na(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function ra(t,e,n){this.reset(t,e,n,void 0,void 0)}function ia(t){this.f=t,this.b=this.c=this.a=null}function oa(t,e){this.name=t,this.value=e}T(Wo,k),T(Qo,k),Qo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&vt(t,e),t},Qo.prototype.toJSON=function(){return this.w()},Xo.prototype.c=null,T(Jo,Xo),Jo.prototype.a=function(){var t=Zo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Jo.prototype.b=function(){var t={};return Zo(this)&&(t[0]=!0,t[1]=!0),t},Ko=new Jo,T(ta,Xo),ta.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new ea;throw Error("Unsupported browser")},ta.prototype.b=function(){return{}},(t=ea.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,na(this,4)},t.Tb=function(){this.status=500,this.response=this.responseText="",na(this,4)},t.vc=function(){this.Tb()},t.rc=function(){this.status=200,na(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ra.prototype.a=null,ra.prototype.reset=function(t,e,n,r,i){r||E(),delete this.a},oa.prototype.toString=function(){return this.name};var aa=new oa("SEVERE",1e3),sa=new oa("WARNING",900),ua=new oa("CONFIG",700),ca=new oa("FINE",500);function ha(t){return t.c?t.c:t.a?ha(t.a):(M("Root logger has no level set."),null)}ia.prototype.log=function(t,e,n){if(t.value>=ha(this).value)for(p(e)&&(e=e()),t=new ra(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var la={},fa=null;function da(t){var e;if(fa||(fa=new ia(""),la[""]=fa,fa.c=ua),!(e=la[t])){e=new ia(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=da(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,la[t]=e}return e}function pa(t,e){t&&t.log(ca,e,void 0)}function ma(t){this.f=t}function ga(t){In.call(this),this.u=t,this.h=void 0,this.readyState=va,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=da("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}T(ma,Xo),ma.prototype.a=function(){return new ga(this.f)},ma.prototype.b=function(t){return function(){return t}}({}),T(ga,In);var va=0;function ya(t){t.c.read().then(t.pc.bind(t)).catch(t.Va.bind(t))}function ba(t){t.readyState=4,t.g=null,t.c=null,t.m=null,wa(t)}function wa(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Aa(t){In.call(this),this.headers=new Dn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Ia,this.u=this.S=!1}(t=ga.prototype).open=function(t,e){if(this.readyState!=va)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,wa(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Va.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ba(this)),this.readyState=va},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,wa(this)),this.a&&(this.readyState=3,wa(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==s.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,ya(this)):t.text().then(this.tc.bind(this),this.Va.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ba(this):wa(this),3==this.readyState&&ya(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,ba(this))},t.sc=function(t){this.a&&(this.response=t,ba(this))},t.Va=function(t){var e=this.i;e&&e.log(sa,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&ba(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(sa,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(sa,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ga.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),T(Aa,In);var Ia="";Aa.prototype.b=da("goog.net.XhrIo");var Ea=/^https?$/i,Ta=["POST","PUT"];function Ca(t){return"content-type"==t.toLowerCase()}function ka(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Sa(t),Na(t)}function Sa(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function _a(t){if(t.c&&void 0!==a)if(t.C[1]&&4==xa(t)&&2==Oa(t))pa(t.b,Pa(t,"Local request error detected and ignored"));else if(t.i&&4==xa(t))kn(t.Wb,0,t);else if(t.dispatchEvent("readystatechange"),4==xa(t)){pa(t.b,Pa(t,"Request complete")),t.c=!1;try{var e,n=Oa(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(Pn)[1]||null;if(!o&&s.self&&s.self.location){var u=s.self.location.protocol;o=u.substr(0,u.length-1)}i=!Ea.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<xa(t)?t.a.statusText:""}catch(e){pa(t.b,"Can not get status: "+e.message),c=""}t.h=c+" ["+Oa(t)+"]",Sa(t)}}finally{Na(t)}}}function Na(t,e){if(t.a){Da(t);var n=t.a,r=t.C[0]?l:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(aa,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function Da(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(s.clearTimeout(t.s),t.s=null)}function xa(t){return t.a?t.a.readyState:0}function Oa(t){try{return 2<xa(t)?t.a.status:-1}catch(t){return-1}}function Pa(t,e){return e+" ["+t.P+" "+t.l+" "+Oa(t)+"]"}function Ra(t){var e=Ka;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function La(t,e,n){t.a=!0,t.c=n,t.f=!e,Fa(t)}function Ma(t){if(t.a){if(!t.v)throw new Ua(t);t.v=!1}}function Ba(t,e,n,r){t.g.push([e,n,r]),t.a&&Fa(t)}function ja(t){return W(t.g,(function(t){return p(t[1])}))}function Fa(t){if(t.h&&t.a&&ja(t)){var e=t.h,n=za[e];n&&(s.clearTimeout(n.a),delete za[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(P(e)||"function"==typeof s.Promise&&e instanceof s.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,ja(t)||(n=!0)}}t.c=e,r&&(u=A(t.m,t,!0),r=A(t.m,t,!1),e instanceof Ra?(Ba(e,u,r),e.C=!0):e.then(u,r)),n&&(e=new qa(e),za[e.a]=e,t.h=e.a)}function Ua(){R.call(this)}function Va(){R.call(this)}function qa(t){this.a=s.setTimeout(A(this.c,this),0),this.b=t}(t=Aa.prototype).Ma=function(){void 0!==a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",pa(this.b,Pa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(pa(this.b,Pa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Na(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Na(this,!0)),Aa.bb.Da.call(this)},t.Wb=function(){this.ya||(this.N||this.i||this.f?_a(this):this.Jc())},t.Jc=function(){_a(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Ia:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(aa,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return pa(this.b,"Can not get response: "+t.message),null}},Ra.prototype.cancel=function(t){if(this.a)this.c instanceof Ra&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Va(this),Ma(this),La(this,!1,t))}},Ra.prototype.m=function(t,e){this.i=!1,La(this,t,e)},Ra.prototype.then=function(t,e,n){var r,i,o=new Ae((function(t,e){r=t,i=e}));return Ba(this,r,(function(t){t instanceof Va?o.cancel():i(t)})),o.then(t,e,n)},Ra.prototype.$goog_Thenable=!0,T(Ua,R),Ua.prototype.message="Deferred has already fired",Ua.prototype.name="AlreadyCalledError",T(Va,R),Va.prototype.message="Deferred was canceled",Va.prototype.name="CanceledError",qa.prototype.c=function(){throw delete za[this.a],this.b};var za={};function Ha(t){var e={},n=e.document||document,r=kt(t).toString(),i=me(document,"SCRIPT"),o={Xb:i,Ma:void 0},a=new Ra(o),u=null,l=null!=e.timeout?e.timeout:5e3;return 0<l&&(u=window.setTimeout((function(){Ga(i,!0);var t=new Ya(Qa,"Timeout reached for loading script "+r);Ma(a),La(a,!1,t)}),l),o.Ma=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ga(i,e.xd||!1,u),Ma(a),La(a,!0,null))},i.onerror=function(){Ga(i,!0,u);var t=new Ya(Wa,"Error while loading script "+r);Ma(a),La(a,!1,t)},vt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),he(i,o),function(t,e){yt(t,"HTMLScriptElement"),t.src=kt(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=s?e=h(e.document):(null===c&&(c=h(s.document)),e=c),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function Ka(){if(this&&this.Xb){var t=this.Xb;t&&"SCRIPT"==t.tagName&&Ga(t,!0,this.Ma)}}function Ga(t,e,n){null!=n&&s.clearTimeout(n),t.onload=l,t.onerror=l,t.onreadystatechange=l,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Wa=0,Qa=1;function Ya(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),R.call(this,n),this.code=t}function Xa(t){this.f=t}function $a(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||ts,this.g=mt(t.secureTokenHeaders||es),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||ns,this.a=mt(t.firebaseHeaders||rs),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Tr(),!(n=s.XMLHttpRequest||n&&Mn.INTERNAL.node&&Mn.INTERNAL.node.XMLHttpRequest)&&!Er())throw new k("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Er()?this.f=new ma(self):Cr()?this.f=new Xa(n):this.f=new ta,this.b=null}T(Ya,R),T(Xa,Xo),Xa.prototype.a=function(){return new this.f},Xa.prototype.b=function(){return{}};var Ja,Za="idToken",ts=new Hr(3e4,6e4),es={"Content-Type":"application/x-www-form-urlencoded"},ns=new Hr(3e4,6e4),rs={"Content-Type":"application/json"};function is(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function os(t,e){e&&(t.l=as("https://securetoken.googleapis.com/v1/token",e),t.h=as("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=as("https://identitytoolkit.googleapis.com/v2/",e))}function as(t,e){return t=Vn(t),e=Vn(e.url),t.f=t.a+t.f,Ln(t,e.c),t.a=e.a,Bn(t,e.g),t.toString()}function ss(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function us(t,e,n,r,i,o,a){(function(){var t=xr();return!((t=_r(t)!=Sr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Yt&&se&&!(9<se))})()||Er()?t=A(t.u,t):(Ja||(Ja=new Ae((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(s[hs]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ba(t,null,e,void 0)}(Ha(St(cs,{onload:hs})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)}))),t=A(t.s,t)),t(e,n,r,i,o,a)}$a.prototype.T=function(){return this.b},$a.prototype.u=function(t,e,n,r,i,o){if(Er()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new k("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new Aa(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}En(a,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return pa(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)})),Tn(a,"ready",(function(){u&&clearTimeout(u),Ge(this)})),Tn(a,"timeout",(function(){u&&clearTimeout(u),Ge(this),e&&e(null)})),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Ko.a(),t.C=t.D?$o(t.D):$o(Ko),t.a.onreadystatechange=A(t.Wb,t);try{pa(t.b,Pa(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(e){return pa(t.b,Pa(t,"Error opening Xhr: "+e.message)),void ka(t,e)}e=r||"";var o=new Dn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(d(t)||"string"==typeof t)H(t,e,void 0);else for(var n=Nn(t),r=_n(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=Ca,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=s.FormData&&e instanceof s.FormData,!Q(Ta,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{Da(t),0<t.g&&(t.u=function(t){return Yt&&ae(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),pa(t.b,Pa(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=A(t.Ma,t)):t.s=kn(t.Ma,t.g,t)),pa(t.b,Pa(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){pa(t.b,Pa(t,"Send error: "+e.message)),ka(t,e)}}(a,t,n,r,i)};var cs=new bt(Et,"https://apis.google.com/js/client.js?onload=%{onload}"),hs="__fcb"+Math.floor(1e6*Math.random()).toString();function ls(t){if("string"!=typeof(t=t.email)||!br.test(t))throw new k("invalid-email")}function fs(t){"email"in t&&ls(t)}function ds(t){if(!t[Za]){if(t.mfaPendingCredential)throw new k("multi-factor-auth-required",null,mt(t));throw new k("internal-error")}}function ps(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new k("internal-error")}else{if(!t.sessionInfo)throw new k("missing-verification-id");if(!t.code)throw new k("missing-verification-code")}}$a.prototype.s=function(t,e,n,r,i){var o=this;Ja.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},$a.prototype.Ab=function(){return ru(this,Ks,{})},$a.prototype.Cb=function(t,e){return ru(this,zs,{idToken:t,email:e})},$a.prototype.Db=function(t,e){return ru(this,Hs,{idToken:t,password:e})};var ms={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function gs(t){if(!t.phoneVerificationInfo)throw new k("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new k("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new k("missing-verification-code")}function vs(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new k("internal-error")}function ys(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&er(t=new $n(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function bs(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Yo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Yo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Yo(t)):t.errorMessage&&(e=iu(t.errorMessage)),e)throw e;ds(t)}function ws(t,e){return e.returnIdpCredential=!0,ru(t,Qs,e)}function As(t,e){return e.returnIdpCredential=!0,ru(t,Xs,e)}function Is(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,ru(t,Ys,e)}function Es(t){if(!t.oobCode)throw new k("invalid-action-code")}(t=$a.prototype).Eb=function(t,e){var n={idToken:t},r=[];return dt(ms,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),ru(this,zs,n)},t.wb=function(t,e){return vt(t={requestType:"PASSWORD_RESET",email:t},e),ru(this,js,t)},t.xb=function(t,e){return vt(t={requestType:"EMAIL_SIGNIN",email:t},e),ru(this,Ls,t)},t.vb=function(t,e){return vt(t={requestType:"VERIFY_EMAIL",idToken:t},e),ru(this,Ms,t)},t.Fb=function(t,e,n){return vt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),ru(this,Bs,t)},t.gb=function(t){return ru(this,Zs,t)},t.ob=function(t,e){return ru(this,Vs,{oobCode:t,newPassword:e})},t.Sa=function(t){return ru(this,Cs,{oobCode:t})},t.kb=function(t){return ru(this,Ts,{oobCode:t})};var Ts={endpoint:"setAccountInfo",A:Es,Z:"email",B:!0},Cs={endpoint:"resetPassword",A:Es,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new k("internal-error")},B:!0},ks={endpoint:"signupNewUser",A:function(t){if(ls(t),!t.password)throw new k("weak-password")},G:ds,V:!0,B:!0},Ss={endpoint:"createAuthUri",B:!0},_s={endpoint:"deleteAccount",O:["idToken"]},Ns={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new k("internal-error")}},Ds={endpoint:"emailLinkSignin",O:["email","oobCode"],A:ls,G:ds,V:!0,B:!0},xs={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:ls,G:ds,V:!0},Os={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:gs,G:ds,B:!0,Na:!0},Ps={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:gs,G:ds,B:!0,Na:!0},Rs={endpoint:"getAccountInfo"},Ls={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new k("internal-error");ls(t)},Z:"email",B:!0},Ms={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new k("internal-error")},Z:"email",B:!0},Bs={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new k("internal-error")},Z:"email",B:!0},js={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new k("internal-error");ls(t)},Z:"email",B:!0},Fs={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Us={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new k("internal-error")}},Vs={endpoint:"resetPassword",A:Es,Z:"email",B:!0},qs={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},zs={endpoint:"setAccountInfo",O:["idToken"],A:fs,V:!0},Hs={endpoint:"setAccountInfo",O:["idToken"],A:function(t){if(fs(t),!t.password)throw new k("weak-password")},G:ds,V:!0},Ks={endpoint:"signupNewUser",G:ds,V:!0,B:!0},Gs={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new k("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new k("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},Ws={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},Qs={endpoint:"verifyAssertion",A:vs,Za:ys,G:bs,V:!0,B:!0},Ys={endpoint:"verifyAssertion",A:vs,Za:ys,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new k("user-not-found");if(t.errorMessage)throw iu(t.errorMessage);ds(t)},V:!0,B:!0},Xs={endpoint:"verifyAssertion",A:function(t){if(vs(t),!t.idToken)throw new k("internal-error")},Za:ys,G:bs,V:!0},$s={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new k("invalid-custom-token")},G:ds,V:!0,B:!0},Js={endpoint:"verifyPassword",A:function(t){if(ls(t),!t.password)throw new k("wrong-password")},G:ds,V:!0,B:!0},Zs={endpoint:"verifyPhoneNumber",A:ps,G:ds,B:!0},tu={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new k("internal-error");ps(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Yo(t);ds(t)}},eu={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ps,G:ds,B:!0},nu={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Za]^!!t.refreshToken)throw new k("internal-error")},B:!0,Na:!0};function ru(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.O))return Ne(new k("internal-error"));var r,i=!!e.Na,o=e.Vb||"POST";return _e(n).then(e.A).then((function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,a){var s=Vn(e+n);Fn(s,"key",t.c),a&&Fn(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Fn(s,c,i[c]);return new Ae((function(e,n){us(t,s.toString(),(function(t){t?t.error?n(ou(t,o||{})):e(t):n(new k("network-request-failed"))}),r,u?void 0:or(Fr(i)),t.a,t.v.get())}))}(t,i?t.i:t.h,e.endpoint,o,n,e.Ib,e.mb||!1)})).then((function(t){return r=t,e.Za?e.Za(n,r):r})).then(e.G).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new k("internal-error");return r[e.Z]}))}function iu(t){return ou({error:{errors:[{message:t}],code:400,message:t}})}function ou(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new k(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",vt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new k(r[i],e);return!e&&t&&(e=jr(t)),new k("internal-error",e)}function au(t){this.b=t,this.a=null,this.sb=function(t){return(hu||(hu=new Ae((function(t,e){function n(){zr(),Or("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){zr(),e(Error("Network Error"))},timeout:uu.get()})}if(Or("gapi.iframes.Iframe"))t();else if(Or("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Or("gapi.load")?n():e(Error("Network Error"))},_e(Ha(r=St(su,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw hu=null,t})))).then((function(){return new Ae((function(e,n){Or("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),cu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var su=new bt(Et,"https://apis.google.com/js/api.js?onload=%{onload}"),uu=new Hr(3e4,6e4),cu=new Hr(5e3,15e3),hu=null;function lu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,t=this.g?qn((t=Vn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):qn("https",this.l,null,"/__/auth/iframe"),this.a=t,Fn(this.a,"apiKey",this.h),Fn(this.a,"appName",this.i),this.b=null,this.c=[]}function fu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function du(t){try{return Mn.app(t).auth().Ga()}catch(t){return[]}}function pu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function mu(t){var e=fr();return function(t){return ru(t,Fs,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Vn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Vn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:yr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Wo(fr())}))}function gu(t){return t.m||(t.m=wr().then((function(){if(!t.u){var e=t.c,n=t.i,r=du(t.b),i=new lu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=J(r||[]),t.u=i.toString()}t.v=new au(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.sb.then((function(){t.a.register("authEvent",e,Or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.v,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=zo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",_e(n)}return n.status="ERROR",_e(n)}))}(t)}))),t.m}function vu(t){return t.l||(t.C=t.c?Dr(t.c,du(t.b)):null,t.l=new $a(t.g,O(t.i),t.C),t.f&&os(t.l,t.f)),t.l}function yu(t,e,n,r,i,o,a,s,u,c,h,l){return(t=new fu(t,e,n,r,i,l)).l=o,t.g=a,t.i=s,t.b=mt(u||null),t.f=c,t.zb(h).toString()}function bu(t){if(this.a=t||Mn.INTERNAL.reactNative&&Mn.INTERNAL.reactNative.AsyncStorage,!this.a)throw new k("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function wu(t){this.b=t,this.a={},this.f=A(this.c,this)}lu.prototype.toString=function(){return this.f?Fn(this.a,"v",this.f):tr(this.a.b,"v"),this.b?Fn(this.a,"eid",this.b):tr(this.a.b,"eid"),this.c.length?Fn(this.a,"fw",this.c.join(",")):tr(this.a.b,"fw"),this.a.toString()},fu.prototype.zb=function(t){return this.h=t,this},fu.prototype.toString=function(){if(this.v){var t=Vn(this.v.url);t=qn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=qn("https",this.u,null,"/__/auth/handler");if(Fn(t,"apiKey",this.s),Fn(t,"appName",this.c),Fn(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=Mn.app(this.c).auth().la()}catch(t){n=null}for(var r in e.pb=n,Fn(t,"providerId",this.a.providerId),e=Fr((n=this.a).Jb))e[r]=e[r].toString();r=n.Qc,e=mt(e);for(var i=0;i<r.length;i++){var o=r[i];o in e&&delete e[o]}n.qb&&n.pb&&!e[n.qb]&&(e[n.qb]=n.pb),pt(e)||Fn(t,"customParameters",jr(e))}if("function"==typeof this.a.Rb&&(n=this.a.Rb()).length&&Fn(t,"scopes",n.join(",")),this.l?Fn(t,"redirectUrl",this.l):tr(t.b,"redirectUrl"),this.g?Fn(t,"eventId",this.g):tr(t.b,"eventId"),this.i?Fn(t,"v",this.i):tr(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Un(t,a)&&Fn(t,a,this.b[a]);return this.h?Fn(t,"tid",this.h):tr(t.b,"tid"),this.f?Fn(t,"eid",this.f):tr(t.b,"eid"),(a=du(this.c)).length&&Fn(t,"fw",a.join(",")),t.toString()},(t=pu.prototype).Pb=function(t,e,n){var r=new k("popup-closed-by-user"),i=new k("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(t){var e={type:"webStorageSupport"};return gu(t).then((function(){return function(t,e){return t.sb.then((function(){return new Ae((function(n){t.a.send(e.type,e,n,Or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.v,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&gr(t),e(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(t){return new Ae((function(e){return function n(){Sn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!a)return Sn(n).then((function(){e(r)}))}))},t.Yb=function(){var t=xr();return!Br(t)&&!qr(t)},t.Ub=function(){return!1},t.Nb=function(t,e,n,r,i,o,a,s){if(!t)return Ne(new k("popup-blocked"));if(a&&!Br())return this.ma().o((function(e){gr(t),i(e)})),r(),_e();this.a||(this.a=mu(vu(this)));var u=this;return this.a.then((function(){var e=u.ma().o((function(e){throw gr(t),i(e),e}));return r(),e})).then((function(){Vo(n),a||dr(yu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,s,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Ob=function(t,e,n,r){this.a||(this.a=mu(vu(this)));var i=this;return this.a.then((function(){Vo(e),dr(yu(i.s,i.g,i.b,t,e,fr(),n,i.c,void 0,i.i,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ma=function(){var t=this;return gu(this).then((function(){return t.v.sb})).o((function(){throw t.a=null,new k("network-request-failed")}))},t.ac=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Ta=function(t){X(this.h,(function(e){return e==t}))},(t=bu.prototype).get=function(t){return _e(this.a.getItem(t)).then((function(t){return t&&Ur(t)}))},t.set=function(t,e){return _e(this.a.setItem(t,jr(e)))},t.U=function(t){return _e(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var Au,Iu=[];function Eu(t,e,n){pt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Tu(t){this.a=t}function Cu(t){this.c=t,this.b=!1,this.a=[]}function ku(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return Ne(Error("connection_unavailable"));var h=r?800:50,l="undefined"!=typeof MessageChannel?new MessageChannel:null;return new Ae((function(n,r){l?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),l.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),h),c={messageChannel:l,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},t.a.push(c),l.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[l.port2])):r(Error("connection_unavailable"))})).then((function(e){return Su(t,c),e})).o((function(e){throw Su(t,c),e}))}function Su(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),X(t.a,(function(t){return t==e}))}}function _u(){if(!Ou())throw new k("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;Er()&&self?(this.v=function(){var t=Er()?self:null;if(H(Iu,(function(n){n.b==t&&(e=n)})),!e){var e=new wu(t);Iu.push(e)}return e}(),Eu(this.v,"keyChanged",(function(e,n){return Bu(t).then((function(e){return 0<e.length&&H(t.a,(function(t){t(e)})),{keyProcessed:Q(e,n.key)}}))})),Eu(this.v,"ping",(function(){return _e(["keyChanged"])}))):function(){var t=s.navigator;return t&&t.serviceWorker?_e().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):_e(null)}().then((function(e){(t.h=e)&&(t.g=new Cu(new Tu(e)),ku(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&Q(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function Nu(t){return new Ae((function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new Ae((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return Nu(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function Du(t){return t.i||(t.i=Nu(t)),t.i}function xu(t,e){var n=0;return new Ae((function r(i,o){Du(t).then(e).then(i).o((function(e){if(!(3<++n))return Du(t).then((function(e){return e.close(),t.i=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function Ou(){try{return!!s.indexedDB}catch(t){return!1}}function Pu(t){return t.objectStore("firebaseLocalStorage")}function Ru(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Lu(t){return new Ae((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Mu(t,e){return t.g&&t.h&&function(){var t=s.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?ku(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):_e()}function Bu(t){return Du(t).then((function(t){var e=Pu(Ru(t,!1));return e.getAll?Lu(e.getAll()):new Ae((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=pr(t.c,n),t.c=n}return r}))}function ju(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Fu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=_e().then((function(){if(Ou()){var t=Vr(),r="__sak"+t;return Au||(Au=new _u),(n=Au).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){H(e.a,(function(e){e(t)}))})),t}))}function Uu(){this.a={},this.type="inMemory"}function Vu(){if(!function(){var t="Node"==Tr();if(!(t=qu()||t&&Mn.INTERNAL.node&&Mn.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Tr())throw new k("internal-error","The LocalStorage compatibility library was not found.");throw new k("web-storage-unsupported")}this.a=qu()||Mn.INTERNAL.node.localStorage,this.type="localStorage"}function qu(){try{var t=s.localStorage,e=Vr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function zu(){this.type="nullStorage"}function Hu(){if(!function(){var t="Node"==Tr();if(!(t=Ku()||t&&Mn.INTERNAL.node&&Mn.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Tr())throw new k("internal-error","The SessionStorage compatibility library was not found.");throw new k("web-storage-unsupported")}this.a=Ku()||Mn.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Ku(){try{var t=s.sessionStorage,e=Vr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Gu(){var t={};t.Browser=Yu,t.Node=Xu,t.ReactNative=$u,t.Worker=Ju,this.a=t[Tr()]}wu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];H(r,(function(e){i.push(_e().then((function(){return e(t.origin,t.data.data)})))})),xe(i).then((function(r){var i=[];H(r,(function(t){i.push({fulfilled:t.Qb,value:t.value,reason:t.reason?t.reason.message:void 0})})),H(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},Tu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Cu.prototype.close=function(){for(;0<this.a.length;)Su(this,this.a[0]);this.b=!0},(t=_u.prototype).set=function(t,e){var n=this,r=!1;return xu(this,(function(e){return Lu((e=Pu(Ru(e,!0))).get(t))})).then((function(i){return xu(n,(function(o){if(o=Pu(Ru(o,!0)),i)return i.value=e,Lu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=t,a.value=e,Lu(o.add(a))}))})).then((function(){return n.c[t]=e,Mu(n,t)})).oa((function(){r&&n.b--}))},t.get=function(t){return xu(this,(function(e){return Lu(Pu(Ru(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.U=function(t){var e=this,n=!1;return xu(this,(function(r){return n=!0,e.b++,Lu(Pu(Ru(r,!0)).delete(t))})).then((function(){return delete e.c[t],Mu(e,t)})).oa((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){ju(t),function e(){t.f=setTimeout((function(){t.l=Bu(t).then((function(e){0<e.length&&H(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},t.ia=function(t){X(this.a,(function(e){return e==t})),0==this.a.length&&ju(this)},(t=Fu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.U=function(t){return this.b.then((function(e){return e.U(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){X(this.a,(function(e){return e==t}))},(t=Uu.prototype).get=function(t){return _e(this.a[t])},t.set=function(t,e){return this.a[t]=e,_e()},t.U=function(t){return delete this.a[t],_e()},t.ca=function(){},t.ia=function(){},(t=Vu.prototype).get=function(t){var e=this;return _e().then((function(){return Ur(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return _e().then((function(){var r=jr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return _e().then((function(){e.a.removeItem(t)}))},t.ca=function(t){s.window&&hn(s.window,"storage",t)},t.ia=function(t){s.window&&dn(s.window,"storage",t)},(t=zu.prototype).get=function(){return _e(null)},t.set=function(){return _e()},t.U=function(){return _e()},t.ca=function(){},t.ia=function(){},(t=Hu.prototype).get=function(t){var e=this;return _e().then((function(){return Ur(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return _e().then((function(){var r=jr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return _e().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Wu,Qu,Yu={F:Vu,cb:Hu},Xu={F:Vu,cb:Hu},$u={F:bu,cb:zu},Ju={F:Vu,cb:zu},Zu={rd:"local",NONE:"none",td:"session"};function tc(){var t=!(qr(xr())||!Ir()),e=Br(),n=Pr();this.m=t,this.h=e,this.l=n,this.a={},Wu||(Wu=new Gu),t=Wu;try{this.g=!lr()&&Wr()||!s.indexedDB?new t.a.F:new Fu(Er()?new Uu:new t.a.F)}catch(t){this.g=new Uu,this.h=!0}try{this.i=new t.a.cb}catch(t){this.i=new Uu}this.v=new Uu,this.f=A(this.Zb,this),this.b={}}function ec(){return Qu||(Qu=new tc),Qu}function nc(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function rc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function ic(t,e,n){return n=rc(e,n),"local"==e.F&&(t.b[n]=null),nc(t,e.F).U(n)}function oc(t){t.c&&(clearInterval(t.c),t.c=null)}function ac(t){this.a=t,this.b=ec()}(t=tc.prototype).get=function(t,e){return nc(this,t.F).get(rc(t,e))},t.set=function(t,e,n){var r=rc(t,n),i=this,o=nc(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=rc(t,e),this.l&&(this.b[t]=s.localStorage.getItem(t)),pt(this.a)&&(nc(this,"local").ca(this.f),this.h||(lr()||!Wr())&&s.indexedDB||!this.l||function(t){oc(t),t.c=setInterval((function(){for(var e in t.a){var n=s.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Je({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Zb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=rc(t,e),this.a[t]&&(X(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),pt(this.a)&&(nc(this,"local").ia(this.f),oc(this))},t.Zb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?nc(this,"local").ia(this.f):oc(this),this.m)if(n=s.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?s.localStorage.setItem(e,r):s.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===s.localStorage.getItem(e)||(o.b[e]=s.localStorage.getItem(e),o.nb(e))},Yt&&se&&10==se&&s.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else H(t,A(this.nb,this))},t.nb=function(t){this.a[t]&&H(this.a[t],(function(t){t()}))};var sc,uc={name:"authEvent",F:"local"};function cc(){this.a=ec()}function hc(t,e){this.b=lc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===sc&&(sc=s.Int32Array?new Int32Array(yc):yc),this.reset()}T(hc,(function(){this.b=-1}));for(var lc=64,fc=lc-1,dc=[],pc=0;pc<fc;pc++)dc[pc]=0;var mc=$(128,dc);function gc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],h=0|t.a[5],l=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&h^~c&l)+(0|sc[e])|0)+(0|n[e])|0)|0,o=l,l=h,h=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+h|0,t.a[6]=t.a[6]+l|0,t.a[7]=t.a[7]+o|0}function vc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(gc(t),i=0);else{if(!d(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(gc(t),i=0)}}t.c=i,t.g+=n}hc.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):J(this.h)};var yc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function bc(){hc.call(this,8,wc)}T(bc,hc);var wc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Ac(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new cc,this.g=new ac(this.h),this.f=null,this.b=[],this.a=this.c=null}function Ic(t){return new k("invalid-cordova-configuration",t)}function Ec(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function Tc(t){return t.f||(t.f=t.ma().then((function(){return new Ae((function(e){t.Ea((function n(r){return e(r),t.Ta(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),Cc(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=ao(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Ur(Un(o=Vn(i),"firebaseError")||null))?S(o):null)?new qo(r.c,r.b,null,null,o,null,r.T()):new qo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Ec(t,i)}))}var n=new qo("unknown",null,null,null,new k("no-auth-event")),r=!1,i=Sn(500).then((function(){return Cc(t).then((function(){r||Ec(t,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Or("BuildInfo.packageName",s).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(t){console.error(t)}},Go||(Go=new Ho),function(t){var e=Go;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Or("universalLinks.subscribe",s))&&t(null,e.b))}(e)}(t)}))}))),t.f}function Cc(t){var e=null;return function(t){return t.b.get(uc,t.a).then((function(t){return zo(t)}))}(t.g).then((function(n){return e=n,ic((n=t.g).b,uc,n.a)})).then((function(){return e}))}function kc(t){this.a=t,this.b=ec()}(t=Ac.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(Ar(void 0)?wr().then((function(){return new Ae((function(t,e){var n=s.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Ne(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Or("universalLinks.subscribe",s))throw Ic("cordova-universal-links-plugin-fix is not installed");if(void 0===Or("BuildInfo.packageName",s))throw Ic("cordova-plugin-buildinfo is not installed");if("function"!=typeof Or("cordova.plugins.browsertab.openUrl",s))throw Ic("cordova-plugin-browsertab is not installed");if("function"!=typeof Or("cordova.InAppBrowser.open",s))throw Ic("cordova-plugin-inappbrowser is not installed")}),(function(){throw new k("cordova-not-ready")}))},t.Pb=function(t,e){return e(new k("operation-not-supported-in-this-environment")),_e()},t.Nb=function(){return Ne(new k("operation-not-supported-in-this-environment"))},t.ac=function(){return!1},t.Yb=function(){return!0},t.Ub=function(){return!0},t.Ob=function(t,e,n,r){if(this.c)return Ne(new k("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,h=null;return this.c=_e().then((function(){return Vo(e),Tc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new qo(e,r,null,o,new k("no-auth-event"),null,i),u=Or("BuildInfo.packageName",s);if("string"!=typeof u)throw new k("invalid-cordova-configuration");var c=Or("BuildInfo.displayName",s),h={};if(xr().toLowerCase().match(/iphone|ipad|ipod/))h.ibi=u;else{if(!xr().toLowerCase().match(/android/))return Ne(new k("operation-not-supported-in-this-environment"));h.apn=u}c&&(h.appDisplayName=c),o=function(t){var e=new bc;vc(e,t),t=[];var n=8*e.g;56>e.c?vc(e,mc,56-e.c):vc(e,mc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(gc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return G(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}(o),h.sessionId=o;var l=yu(t.v,t.i,t.l,e,n,null,r,t.m,h,t.u,i,t.s);return t.ma().then((function(){var e=t.h;return t.C.a.set(uc,a.w(),e)})).then((function(){var e=Or("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof e)throw new k("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Or("cordova.plugins.browsertab.openUrl",s)))throw new k("invalid-cordova-configuration");n(l)}else{if("function"!=typeof(n=Or("cordova.InAppBrowser.open",s)))throw new k("invalid-cordova-configuration");e=xr(),t.a=n(l,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new Ae((function(t,e){u=function(){var e=Or("cordova.plugins.browsertab.close",s);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){a||(a=Sn(2e3).then((function(){e(new k("redirect-cancelled-by-user"))})))},h=function(){Kr()&&c()},o.addEventListener("resume",c,!1),xr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",h,!1)})).o((function(t){return Cc(i).then((function(){throw t}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),h&&o.removeEventListener("visibilitychange",h,!1),a&&a.cancel(),u&&i.Ta(u),i.c=null}))},t.Ea=function(t){this.b.push(t),Tc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new qo("unknown",null,null,null,new k("no-auth-event")),t(e))}))},t.Ta=function(t){X(this.b,(function(e){return e==t}))};var Sc={name:"pendingRedirect",F:"session"};function _c(t){return ic(t.b,Sc,t.a)}function Nc(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=A(this.s,this),this.b=new Hc,this.C=new Yc,this.g=new kc(qc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Dc(this.D,this.v,this.m,_,this.J)}function Dc(t,e,n,r,i){var o=Mn.SDK_VERSION||null;return Ar()?new Ac(t,e,n,o,r,i):new pu(t,e,n,o,r,i)}function xc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o((function(n){throw t.a==e&&t.reset(),n}))}function Oc(t){t.a.Yb()&&xc(t).o((function(e){var n=new qo("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));jc(e)&&t.s(n)})),t.a.Ub()||Kc(t.b)}function Pc(t,e){Q(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Sc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?_c(t.g).then((function(){xc(t).o((function(e){var n=new qo("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));jc(e)&&t.s(n)}))})):Oc(t)})).o((function(){Oc(t)}))}function Rc(t,e){X(t.h,(function(t){return t==e}))}Nc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Dc(this.D,this.v,this.m,null,this.J),this.i={}},Nc.prototype.s=function(t){if(!t)throw new k("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return Kc(this.b),e};var Lc=new Hr(2e3,1e4),Mc=new Hr(3e4,6e4);function Bc(t,e,n,r,i,o,a){return t.a.Nb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,a)}function jc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Fc(t,e,n,r,i){var o;return function(t){return t.b.set(Sc,"pending",t.a)}(t.g).then((function(){return t.a.Ob(e,n,r,i).o((function(e){if(jc(e))throw new k("operation-not-supported-in-this-environment");return o=e,_c(t.g).then((function(){throw o}))})).then((function(){return t.a.ac()?new Ae((function(){})):_c(t.g).then((function(){return t.ra()})).then((function(){})).o((function(){}))}))}))}function Uc(t,e,n,r,i){return t.a.Pb(r,(function(t){e.na(n,null,t,i)}),Lc.get())}Nc.prototype.ra=function(){return this.b.ra()};var Vc={};function qc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function zc(t,e,n,r){var i=qc(e,n,r);return Vc[i]||(Vc[i]=new Nc(t,e,n,r)),Vc[i]}function Hc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Kc(t){t.g||(t.g=!0,Qc(t,!1,null,null))}function Gc(t){t.g&&!t.i&&Qc(t,!1,null,null)}function Wc(t,e){if(t.b=function(){return _e(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Qc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ne(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Wc(t,n):Wc(t,{user:null}),t.f=[],t.c=[]}function Yc(){}function Xc(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(t){this.jb=t},enumerable:!1})}function $c(t,e){this.a=e,Jr(this,"verificationId",t)}function Jc(t,e,n,r){return new jo(t).gb(e,n).then((function(t){return new $c(t,r)}))}function Zc(t){var e=Gi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new k("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Zr(this,{token:t,expirationTime:Gr(1e3*e.exp),authTime:Gr(1e3*e.auth_time),issuedAtTime:Gr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function th(t,e,n){var r=e&&e[nh];if(!r)throw new k("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=mt(e),this.g=n,this.c=new so(null,r),this.b=[];var i=this;H(e[eh]||[],(function(t){(t=ri(t))&&i.b.push(t)})),Jr(this,"auth",this.a),Jr(this,"session",this.c),Jr(this,"hints",this.b)}Hc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Hc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Qc(this,!0,null,t.a),_e()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.T(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then((function(e){Qc(t,s,e,null)})).o((function(e){Qc(t,s,null,e)}))}(this,t,e):Ne(new k("invalid-auth-event")):(Qc(this,!1,null,null),_e())}else Ne(new k("invalid-auth-event"))},Hc.prototype.ra=function(){var t=this;return new Ae((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new k("timeout");t.a&&t.a.cancel(),t.a=Sn(Mc.get()).then((function(){t.b||(t.g=!0,Qc(t,!0,null,e))}))}(t))}))},Yc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),_e()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then((function(t){e.na(r,t,null,n)})).o((function(t){e.na(r,null,t,n)}))}(t,e):Ne(new k("invalid-auth-event"))}else Ne(new k("invalid-auth-event"))},$c.prototype.confirm=function(t){return t=Fo(this.verificationId,t),this.a(t)};var eh="mfaInfo",nh="mfaPendingCredential";function rh(t,e,n,r){k.call(this,"multi-factor-auth-required",r,e),this.b=new th(t,e,n),Jr(this,"resolver",this.b)}function ih(t,e,n){if(t&&m(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new rh(e,t.serverResponse,n,t.message)}catch(t){}return null}function oh(){}function ah(t){Jr(this,"factorId",t.fa),this.a=t}function sh(t){if(ah.call(this,t),this.a.fa!=jo.PROVIDER_ID)throw new k("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function uh(t,e){for(var n in $e.call(this,t),e)this[n]=e[n]}function ch(t,e){this.a=t,this.b=[],this.c=A(this.yc,this),hn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&H(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ai]=t.uid),t.displayName&&(r[ii]=t.displayName),t.enrollmentTime&&(r[oi]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[si]=t.phoneNumber);try{e=new ui(r)}catch(t){}t=e}else t=null;t&&n.push(t)})),hh(this,n)}function hh(t,e){t.b=e,Jr(t,"enrolledFactors",e)}function lh(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function fh(t,e){t.stop(),t.b=Sn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then((function(){return function(){var t=s.document,e=null;return Kr()||!t?_e():new Ae((function(n){e=function(){Kr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return t.h()})).then((function(){fh(t,!0)})).o((function(e){t.i(e)&&fh(t,!1)}))}function dh(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function ph(t,e){void 0===e&&(e=t.b?(e=t.b).a-e.g:0),t.c=Date.now()+1e3*e}function mh(t,e){t.b=Ki(e[Za]||""),t.a=e.refreshToken,ph(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function gh(t,e){this.a=t||null,this.b=e||null,Zr(this,{lastSignInTime:Gr(e||null),creationTime:Gr(t||null)})}function vh(t,e,n,r,i,o){Zr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function yh(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r=Mn.SDK_VERSION?Dr(Mn.SDK_VERSION):null;this.a=new $a(this.l,O(_),r),(this.u=t.emulatorConfig||null)&&os(this.a,this.u),this.h=new dh(this.a),Sh(this,e[Za]),mh(this.h,e),Jr(this,"refreshToken",this.h.a),Dh(this,n||{}),In.call(this),this.P=!1,this.s&&Rr()&&(this.b=zc(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(t){return new lh((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.h.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.ba=A(this.ib,this);var i=this;this.za=null,this.Pa=function(t){i.xa(t.h)},this.qa=null,this.Ba=function(t){bh(i,t.c)},this.$=null,this.aa=[],this.Oa=function(t){Ih(i,t.f)},this.ja=null,this.S=new ch(this,n),Jr(this,"multiFactor",this.S)}function bh(t,e){t.u=e,os(t.a,e),t.b&&(e=t.b,t.b=zc(t.s,t.l,t.m,t.u),t.P&&(Rc(e,t),Pc(t.b,t)))}function wh(t,e){t.qa&&dn(t.qa,"languageCodeChanged",t.Pa),(t.qa=e)&&hn(e,"languageCodeChanged",t.Pa)}function Ah(t,e){t.$&&dn(t.$,"emulatorConfigChanged",t.Ba),(t.$=e)&&hn(e,"emulatorConfigChanged",t.Ba)}function Ih(t,e){t.aa=e,ss(t.a,Mn.SDK_VERSION?Dr(Mn.SDK_VERSION,t.aa):null)}function Eh(t,e){t.ja&&dn(t.ja,"frameworkChanged",t.Oa),(t.ja=e)&&hn(e,"frameworkChanged",t.Oa)}function Th(t){try{return Mn.app(t.m).auth()}catch(e){throw new k("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Ch(t){t.J||t.D.b||(t.D.start(),dn(t,"tokenChanged",t.ba),hn(t,"tokenChanged",t.ba))}function kh(t){dn(t,"tokenChanged",t.ba),t.D.stop()}function Sh(t,e){t.Aa=e,Jr(t,"_lat",e)}function _h(t){for(var e=[],n=0;n<t.W.length;n++)e.push(t.W[n](t));return xe(e).then((function(){return t}))}function Nh(t){t.b&&!t.P&&(t.P=!0,Pc(t.b,t))}function Dh(t,e){Zr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new gh(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function xh(){}function Oh(t){return _e().then((function(){if(t.J)throw new k("app-deleted")}))}function Ph(t){return G(t.providerData,(function(t){return t.providerId}))}function Rh(t,e){e&&(Lh(t,e.providerId),t.providerData.push(e))}function Lh(t,e){X(t.providerData,(function(t){return t.providerId==e}))}function Mh(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Jr(t,e,n)}function Bh(t,e){t!=e&&(Zr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Jr(t,"metadata",function(t){return new gh(t.a,t.b)}(e.metadata)):Jr(t,"metadata",new gh),H(e.providerData,(function(e){Rh(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.h,e.h),Jr(t,"refreshToken",t.h.a),hh(t.S,e.S.b))}function jh(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return ru(t.a,Rs,{idToken:e}).then(A(t.Kc,t))}(t,e).then((function(){return n||Mh(t,"isAnonymous",!1),e}))}))}function Fh(t,e){e[Za]&&t.Aa!=e[Za]&&(mh(t.h,e),t.dispatchEvent(new uh("tokenChanged")),Sh(t,e[Za]),Mh(t,"refreshToken",t.h.a))}function Uh(t,e){return jh(t).then((function(){if(Q(Ph(t),e))return _h(t).then((function(){throw new k("provider-already-linked")}))}))}function Vh(t,e,n){return ti({user:t,credential:Uo(e),additionalUserInfo:e=$i(e),operationType:n})}function qh(t,e){return Fh(t,e),t.reload().then((function(){return t}))}function zh(t,e,n,r,i){if(!Rr())return Ne(new k("operation-not-supported-in-this-environment"));if(t.i&&!i)return Ne(t.i);var o=Xi(n.providerId),a=Vr(t.uid+":::"),s=null;(!Br()||Ir())&&t.s&&n.isOAuthProvider&&(s=yu(t.s,t.l,t.m,e,n,null,a,Mn.SDK_VERSION||null,null,null,t.tenantId,t.u));var u=vr(s,o&&o.va,o&&o.ua);return r=r().then((function(){if(Kh(t),!i)return t.I().then((function(){}))})).then((function(){return Bc(t.b,u,e,n,a,!!s,t.tenantId)})).then((function(){return new Ae((function(n,r){t.na(e,null,new k("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=a,t.c=Uc(t.b,t,e,u,a)}))})).then((function(t){return u&&gr(u),t?ti(t):null})).o((function(t){throw u&&gr(u),t})),Gh(t,r,i)}function Hh(t,e,n,r,i){if(!Rr())return Ne(new k("operation-not-supported-in-this-environment"));if(t.i&&!i)return Ne(t.i);var o=null,a=Vr(t.uid+":::");return r=r().then((function(){if(Kh(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=a,_h(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Yh,t.w(),e.a)),e})).then((function(){return Fc(t.b,e,n,a,t.tenantId)})).o((function(e){if(o=e,t.ha)return Xh(t.ha);throw o})).then((function(){if(o)throw o})),Gh(t,r,i)}function Kh(t){if(!t.b||!t.P){if(t.b&&!t.P)throw new k("internal-error");throw new k("auth-domain-config-required")}}function Gh(t,e,n){var r=function(t,e,n){return t.i&&!n?(e.cancel(),Ne(t.i)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new uh("userInvalidated")),t.i=e),e}))}(t,e,n);return t.N.push(r),r.oa((function(){Y(t.N,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ih(e.w(),Th(t),A(t.jc,t))),n||e}))}function Wh(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Za]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new yh(e,n,t);return t.providerData&&H(t.providerData,(function(t){t&&Rh(i,ti(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Qh(t){this.a=t,this.b=ec()}th.prototype.Rc=function(t){var e=this;return t.tb(this.a.a,this.c).then((function(t){var n=mt(e.f);return delete n[eh],delete n[nh],vt(n,t),e.g(n)}))},T(rh,k),oh.prototype.tb=function(t,e,n){return e.type==uo?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),vt(n,{phoneVerificationInfo:Bo(t.a)}),ru(e,Os,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return vt(n={mfaPendingCredential:n},{phoneVerificationInfo:Bo(t.a)}),ru(e,Ps,n)}))}(this,t,e)},T(ah,oh),T(sh,ah),T(uh,$e),(t=ch.prototype).yc=function(t){hh(this,function(t){var e=[];return H(t.mfaInfo||[],(function(t){(t=ri(t))&&e.push(t)})),e}(t.hd))},t.Sb=function(){return this.a.I().then((function(t){return new so(t,null)}))},t.fc=function(t,e){var n=this,r=this.a.a;return this.Sb().then((function(n){return t.tb(r,n,e)})).then((function(t){return Fh(n.a,t),n.a.reload()}))},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return ru(r,nu,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=K(e.b,(function(t){return t.uid!=n}));return hh(e,r),Fh(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:G(this.b,(function(t){return t.w()}))}}},lh.prototype.start=function(){this.a=this.c,fh(this,!0)},lh.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},dh.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},dh.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ne(new k("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?function(t,e){return function(t,e){return new Ae((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?us(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(ou(t)):t.access_token&&t.refresh_token?n(t):r(new k("internal-error")):r(new k("network-request-failed"))}),"POST",Zn(e).toString(),t.g,t.m.get()):r(new k("internal-error"))}))}(t.f,e).then((function(e){return t.b=Ki(e.access_token),t.a=e.refresh_token,ph(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):_e(null):_e({accessToken:this.b.toString(),refreshToken:this.a})},gh.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},T(yh,In),yh.prototype.xa=function(t){this.za=t,is(this.a,t)},yh.prototype.la=function(){return this.za},yh.prototype.Ga=function(){return J(this.aa)},yh.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Jr(yh.prototype,"providerId","firebase"),(t=yh.prototype).reload=function(){var t=this;return Gh(this,Oh(this).then((function(){return jh(t).then((function(){return _h(t)})).then(xh)})))},t.oc=function(t){return this.I(t).then((function(t){return new Zc(t)}))},t.I=function(t){var e=this;return Gh(this,Oh(this).then((function(){return e.h.getToken(t)})).then((function(t){if(!t)throw new k("internal-error");return t.accessToken!=e.Aa&&(Sh(e,t.accessToken),e.dispatchEvent(new uh("tokenChanged"))),Mh(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new k("internal-error");Dh(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?G(t,(function(t){return new vh(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Rh(this,e[n]);Mh(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new uh("userReloaded",{hd:t}))},t.Lc=function(t){return Xr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(t)},t.ub=function(t){var e=this,n=null;return Gh(this,t.c(this.a,this.uid).then((function(t){return Fh(e,t),n=Vh(e,t,"reauthenticate"),e.i=null,e.reload()})).then((function(){return n})),!0)},t.Cc=function(t){return Xr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(t)},t.rb=function(t){var e=this,n=null;return Gh(this,Uh(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Vh(e,t,"link"),qh(e,t)})).then((function(){return n})))},t.Dc=function(t,e){var n=this;return Gh(this,Uh(this,"phone").then((function(){return Jc(Th(n),t,e,A(n.rb,n))})))},t.Mc=function(t,e){var n=this;return Gh(this,_e().then((function(){return Jc(Th(n),t,e,A(n.ub,n))})),!0)},t.Cb=function(t){var e=this;return Gh(this,this.I().then((function(n){return e.a.Cb(n,t)})).then((function(t){return Fh(e,t),e.reload()})))},t.ed=function(t){var e=this;return Gh(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Fh(e,t),e.reload()})))},t.Db=function(t){var e=this;return Gh(this,this.I().then((function(n){return e.a.Db(n,t)})).then((function(t){return Fh(e,t),e.reload()})))},t.Eb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Oh(this);var e=this;return Gh(this,this.I().then((function(n){return e.a.Eb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Fh(e,t),Mh(e,"displayName",t.displayName||null),Mh(e,"photoURL",t.photoUrl||null),H(e.providerData,(function(t){"password"===t.providerId&&(Jr(t,"displayName",e.displayName),Jr(t,"photoURL",e.photoURL))})),_h(e)})).then(xh))},t.cd=function(t){var e=this;return Gh(this,jh(this).then((function(n){return Q(Ph(e),t)?function(t,e,n){return ru(t,Ns,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return H(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),H(Ph(e),(function(t){n[t]||Lh(e,t)})),n[jo.PROVIDER_ID]||Jr(e,"phoneNumber",null),_h(e)})):_h(e).then((function(){throw new k("no-such-provider")}))})))},t.delete=function(){var t=this;return Gh(this,this.I().then((function(e){return ru(t.a,_s,{idToken:e})})).then((function(){t.dispatchEvent(new uh("userDeleted"))}))).then((function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");wh(t,null),Ah(t,null),Eh(t,null),t.N=[],t.J=!0,kh(t),Jr(t,"refreshToken",null),t.b&&Rc(t.b,t)}))},t.Gb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?A(this.Lb,this):"reauthViaPopup"==t&&e==(this.g||null)?A(this.Mb,this):"linkViaRedirect"==t&&(this.ga||null)==e?A(this.Lb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?A(this.Mb,this):null},t.Ec=function(t){var e=this;return zh(this,"linkViaPopup",t,(function(){return Uh(e,t.providerId).then((function(){return _h(e)}))}),!1)},t.Nc=function(t){return zh(this,"reauthViaPopup",t,(function(){return _e()}),!0)},t.Fc=function(t){var e=this;return Hh(this,"linkViaRedirect",t,(function(){return Uh(e,t.providerId)}),!1)},t.Oc=function(t){return Hh(this,"reauthViaRedirect",t,(function(){return _e()}),!0)},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Gh(this,this.I().then((function(n){return As(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Vh(i,t,"link"),qh(i,t)})).then((function(){return o})))},t.Mb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Gh(this,_e().then((function(){return lo(Is(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Vh(i,t,"reauthenticate"),Fh(i,t),i.i=null,i.reload()})).then((function(){return o})),!0)},t.vb=function(t){var e=this,n=null;return Gh(this,this.I().then((function(e){return n=e,void 0===t||pt(t)?{}:qi(new Oi(t))})).then((function(t){return e.a.vb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Fb=function(t,e){var n=this,r=null;return Gh(this,this.I().then((function(t){return r=t,void 0===e||pt(e)?{}:qi(new Oi(e))})).then((function(e){return n.a.Fb(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.jc=function(t){var e=null,n=this;return Gh(this,t=lo(_e(t),n.uid).then((function(t){return e=Vh(n,t,"reauthenticate"),Fh(n,t),n.i=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&vt(t,this.metadata.w()),H(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),vt(t,this.S.w()),t};var Yh={name:"redirectUser",F:"session"};function Xh(t){return ic(t.b,Yh,t.a)}function $h(t){this.a=t,this.b=ec(),this.c=null,this.f=function(t){var e=tl("local"),n=tl("session"),r=tl("none");return function(t,e,n){var r=rc(e,n),i=nc(t,e.F);return t.get(e,n).then((function(o){var a=null;try{a=Ur(s.localStorage.getItem(r))}catch(t){}if(a&&!o)return s.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Zh,t.a).then((function(t){return t?tl(t):e}))}))}))})).then((function(e){return t.c=e,Jh(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(tl("local"),this.a,A(this.g,this))}function Jh(t,e){var n,r=[];for(n in Zu)Zu[n]!==e&&r.push(ic(t.b,tl(Zu[n]),t.a));return r.push(ic(t.b,Zh,t.a)),function(t){return new Ae((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)De(t[s],I(o,s),a);else e(i)}))}(r)}$h.prototype.g=function(){var t=this,e=tl("local");il(this,(function(){return _e().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Jh(t,"local").then((function(){t.c=e}))}))}))};var Zh={name:"persistence",F:"session"};function tl(t){return{name:"authUser",F:t}}function el(t,e){return il(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function nl(t){return il(t,(function(){return ic(t.b,t.c,t.a)}))}function rl(t,e,n){return il(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Wh(t||{})}))}))}function il(t,e){return t.f=t.f.then(e,e),t.f}function ol(t){if(this.l=!1,Jr(this,"settings",new Xc),Jr(this,"app",t),!dl(this).options||!dl(this).options.apiKey)throw new k("invalid-api-key");t=Mn.SDK_VERSION?Dr(Mn.SDK_VERSION):null,this.a=new $a(dl(this).options&&dl(this).options.apiKey,O(_),t),this.P=[],this.s=[],this.N=[],this.Pa=Mn.INTERNAL.createSubscribe(A(this.zc,this)),this.W=void 0,this.ib=Mn.INTERNAL.createSubscribe(A(this.Ac,this)),ll(this,null),this.i=new $h(dl(this).options.apiKey+":"+dl(this).name),this.D=new Qh(dl(this).options.apiKey+":"+dl(this).name),this.$=vl(this,function(t){var e=dl(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Yh,t.a).then((function(t){return t&&e&&(t.authDomain=e),Wh(t||{})}))}(t.D,dl(t).options.authDomain).then((function(e){return(t.m=e)&&(e.ha=t.D),Xh(t.D)}));return vl(t,e)}(t).then((function(){return rl(t.i,e,t.R)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return el(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:nl(t.i)}))):null})).then((function(e){ll(t,e||null)}));return vl(t,n)}(this)),this.h=vl(this,function(t){return t.$.then((function(){return hl(t)})).o((function(){})).then((function(){if(!t.l)return t.ja()})).o((function(){})).then((function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(tl("local"),e.a,t.ja)}}))}(this)),this.ba=!1,this.ja=A(this.Zc,this),this.Ba=A(this.da,this),this.qa=A(this.mc,this),this.za=A(this.wc,this),this.Aa=A(this.xc,this),this.b=null,function(t){var e=dl(t).options.authDomain,n=dl(t).options.apiKey;e&&Rr()&&(t.Oa=t.$.then((function(){if(!t.l){if(t.b=zc(e,n,dl(t).name,t.R),Pc(t.b,t),pl(t)&&Nh(pl(t)),t.m){Nh(t.m);var r=t.m;r.xa(t.la()),wh(r,t),Ih(r=t.m,t.J),Eh(r,t),bh(r=t.m,t.R),Ah(r,t),t.m=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=A(this.delete,this),this.INTERNAL.logFramework=A(this.Gc,this),this.u=0,In.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.xa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.zb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.R){var t=Vn(this.R.url);t=ti({protocol:t.c,host:t.a,port:t.g,options:ti({disableWarnings:this.R.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.R=null}function al(t){$e.call(this,"languageCodeChanged"),this.h=t}function sl(t){$e.call(this,"emulatorConfigChanged"),this.c=t}function ul(t){$e.call(this,"frameworkChanged"),this.f=t}function cl(t){return t.Oa||Ne(new k("auth-domain-config-required"))}function hl(t){if(!Rr())return Ne(new k("operation-not-supported-in-this-environment"));var e=cl(t).then((function(){return t.b.ra()})).then((function(t){return t?ti(t):null}));return vl(t,e)}function ll(t,e){pl(t)&&(function(t,e){X(t.W,(function(t){return t==e}))}(pl(t),t.Ba),dn(pl(t),"tokenChanged",t.qa),dn(pl(t),"userDeleted",t.za),dn(pl(t),"userInvalidated",t.Aa),kh(pl(t))),e&&(e.W.push(t.Ba),hn(e,"tokenChanged",t.qa),hn(e,"userDeleted",t.za),hn(e,"userInvalidated",t.Aa),0<t.u&&Ch(e)),Jr(t,"currentUser",e),e&&(e.xa(t.la()),wh(e,t),Ih(e,t.J),Eh(e,t),bh(e,t.R),Ah(e,t))}function fl(t,e){var n=null,r=null;return vl(t,e.then((function(e){return n=Uo(e),r=$i(e),function(t,e){var n={};return n.apiKey=dl(t).options.apiKey,n.authDomain=dl(t).options.authDomain,n.appName=dl(t).name,t.R&&(n.emulatorConfig=t.R),t.$.then((function(){return function(t,e,n,r){var i=new yh(t,e);return n&&(i.ha=n),r&&Ih(i,r),i.reload().then((function(){return i}))}(n,e,t.D,t.Ga())})).then((function(e){return pl(t)&&e.uid==pl(t).uid?(Bh(pl(t),e),t.da(e)):(ll(t,e),Nh(e),t.da(e))})).then((function(){gl(t)}))}(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ih(e.w(),t,A(t.kc,t))),n||e})).then((function(){return ti({user:pl(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function dl(t){return t.app}function pl(t){return t.currentUser}function ml(t){return pl(t)&&pl(t)._lat||null}function gl(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](ml(t));if(t.W!==t.getUid()&&t.N.length)for(t.W=t.getUid(),e=0;e<t.N.length;e++)t.N[e]&&t.N[e](ml(t))}}function vl(t,e){return t.P.push(e),e.oa((function(){Y(t.P,e)})),e}function yl(){}function bl(){this.a={},this.b=1e12}$h.prototype.yb=function(t){var e=null,n=this;return function(t){var e=new k("invalid-persistence-type"),n=new k("unsupported-persistence-type");t:{for(r in Zu)if(Zu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(Tr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Ou()&&"none"!==t)throw n;break;default:if(!Pr()&&"none"!==t)throw n}}(t),il(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,Jh(n,t)})).then((function(){if(n.c=tl(t),e)return n.b.set(n.c,e,n.a)})):_e()}))},T(ol,In),T(al,$e),T(sl,$e),T(ul,$e),(t=ol.prototype).yb=function(t){return vl(this,t=this.i.yb(t))},t.xa=function(t){this.aa===t||this.l||(this.aa=t,is(this.a,this.aa),this.dispatchEvent(new al(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=s.navigator;this.xa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.R){if(!/^https?:\/\//.test(t))throw new k("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!t&&wr().then((function(){var t=s.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#b50000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),s.document.body.appendChild(t)}))})(e=!!e&&!!e.disableWarnings),this.R={url:t,ec:e},this.settings.jb=!0,os(this.a,this.R),this.dispatchEvent(new sl(this.R))}},t.Gc=function(t){this.J.push(t),ss(this.a,Mn.SDK_VERSION?Dr(Mn.SDK_VERSION,this.J):null),this.dispatchEvent(new ul(this.J))},t.Ga=function(){return J(this.J)},t.zb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:dl(this).options.apiKey,authDomain:dl(this).options.authDomain,appName:dl(this).name,currentUser:pl(this)&&pl(this).w()}},t.Gb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?A(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return fl(i,ws(i.a,o))}))},t.Xc=function(t){if(!Rr())return Ne(new k("operation-not-supported-in-this-environment"));var e=this,n=Xi(t.providerId),r=Vr(),i=null;(!Br()||Ir())&&dl(this).options.authDomain&&t.isOAuthProvider&&(i=yu(dl(this).options.authDomain,dl(this).options.apiKey,dl(this).name,"signInViaPopup",t,null,r,Mn.SDK_VERSION||null,null,null,this.T(),this.R));var o=vr(i,n&&n.va,n&&n.ua);return vl(this,n=cl(this).then((function(n){return Bc(n,o,"signInViaPopup",t,r,!!i,e.T())})).then((function(){return new Ae((function(t,n){e.na("signInViaPopup",null,new k("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=r,e.c=Uc(e.b,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&gr(o),t?ti(t):null})).o((function(t){throw o&&gr(o),t})))},t.Yc=function(t){if(!Rr())return Ne(new k("operation-not-supported-in-this-environment"));var e=this;return vl(this,cl(this).then((function(){return function(t){return il(t,(function(){return t.b.set(Zh,t.c.F,t.a)}))}(e.i)})).then((function(){return Fc(e.b,"signInViaRedirect",t,void 0,e.T())})))},t.ra=function(){var t=this;return hl(this).then((function(e){return t.b&&Gc(t.b.b),e})).o((function(e){throw t.b&&Gc(t.b.b),e}))},t.dd=function(t){if(!t)return Ne(new k("null-user"));if(this.S!=t.tenantId)return Ne(new k("tenant-id-mismatch"));var e=this,n={};n.apiKey=dl(this).options.apiKey,n.authDomain=dl(this).options.authDomain,n.appName=dl(this).name;var r=function(t,e,n,r){var i=t.h,o={};return o[Za]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new yh(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&Ih(e,r),Bh(e,t),e}(t,n,e.D,e.Ga());return vl(this,this.h.then((function(){if(dl(e).options.apiKey!=t.l)return r.reload()})).then((function(){return pl(e)&&t.uid==pl(e).uid?(Bh(pl(e),t),e.da(t)):(ll(e,r),Nh(r),e.da(r))})).then((function(){gl(e)})))},t.Bb=function(){var t=this;return vl(this,this.h.then((function(){return t.b&&Gc(t.b.b),pl(t)?(ll(t,null),nl(t.i).then((function(){gl(t)}))):_e()})))},t.Zc=function(){var t=this;return rl(this.i,dl(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=pl(t)&&e){n=pl(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Bh(pl(t),e),pl(t).I();(pl(t)||e)&&(ll(t,e),e&&(Nh(e),e.ha=t.D),t.b&&Pc(t.b,t),gl(t))}}))},t.da=function(t){return el(this.i,t)},t.mc=function(){gl(this),this.da(pl(this))},t.wc=function(){this.Bb()},t.xc=function(){this.Bb()},t.kc=function(t){var e=this;return this.h.then((function(){return fl(e,_e(t))}))},t.zc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(pl(e))}))},t.Ac=function(t){var e=this;!function(t,e){t.N.push(e),vl(t,t.h.then((function(){!t.l&&Q(t.N,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(ml(t)))})))}(this,(function(){t.next(pl(e))}))},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(pl(r)):"function"==typeof t.next&&t.next(pl(r))})),this.Pa(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"==typeof t?t(pl(r)):"function"==typeof t.next&&t.next(pl(r))})),this.ib(t,e,n)},t.nc=function(t){var e=this;return vl(this,this.h.then((function(){return pl(e)?pl(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Tc=function(t){var e=this;return this.h.then((function(){return fl(e,ru(e.a,$s,{token:t}))})).then((function(t){var n=t.user;return Mh(n,"isAnonymous",!1),e.da(n),t}))},t.Uc=function(t,e){var n=this;return this.h.then((function(){return fl(n,ru(n.a,Js,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return fl(n,ru(n.a,ks,{email:t,password:e}))}))},t.ab=function(t){var e=this;return this.h.then((function(){return fl(e,t.ka(e.a))}))},t.Sc=function(t){return Xr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(t)},t.Ab=function(){var t=this;return this.h.then((function(){var e=pl(t);if(e&&e.isAnonymous){var n=ti({providerId:null,isNewUser:!1});return ti({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return fl(t,t.a.Ab()).then((function(e){var n=e.user;return Mh(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return pl(this)&&pl(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&pl(this)&&Ch(pl(this))},t.Pc=function(t){var e=this;H(this.s,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&pl(this)&&kh(pl(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),vl(this,this.h.then((function(){e.l||Q(e.s,t)&&t(ml(e))})))},t.removeAuthTokenListener=function(t){X(this.s,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(tl("local"),t.a,this.ja),this.b&&(Rc(this.b,this),Gc(this.b.b)),Promise.resolve()},t.hc=function(t){return vl(this,function(t,e){return ru(t,Ss,{identifier:e,continueUri:Lr()?fr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Bc=function(t){return!!Ro(t)},t.xb=function(t,e){var n=this;return vl(this,_e().then((function(){var t=new Oi(e);if(!t.c)throw new k("argument-error",Li+" must be true when sending sign in link to email");return qi(t)})).then((function(e){return n.a.xb(t,e)})).then((function(){})))},t.jd=function(t){return this.Sa(t).then((function(t){return t.data.email}))},t.ob=function(t,e){return vl(this,this.a.ob(t,e).then((function(){})))},t.Sa=function(t){return vl(this,this.a.Sa(t).then((function(t){return new ci(t)})))},t.kb=function(t){return vl(this,this.a.kb(t).then((function(){})))},t.wb=function(t,e){var n=this;return vl(this,_e().then((function(){return void 0===e||pt(e)?{}:qi(new Oi(e))})).then((function(e){return n.a.wb(t,e)})).then((function(){})))},t.Wc=function(t,e){return vl(this,Jc(this,t,e,A(this.ab,this)))},t.Vc=function(t,e){var n=this;return vl(this,_e().then((function(){var r=e||fr(),i=Po(t,r);if(!(r=Ro(r)))throw new k("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new k("tenant-id-mismatch");return n.ab(i)})))},yl.prototype.render=function(){},yl.prototype.reset=function(){},yl.prototype.getResponse=function(){},yl.prototype.execute=function(){};var wl=null;function Al(t,e){return(e=Il(e))&&t.a[e]||null}function Il(t){return(t=void 0===t?1e12:t)?t.toString():null}function El(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ce(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():hn(this.f,"click",this.i)}function Tl(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Cl(){}function kl(){}bl.prototype.render=function(t,e){return this.a[this.b.toString()]=new El(t,e),this.b++},bl.prototype.reset=function(t){var e=Al(this,t);t=Il(t),e&&t&&(e.delete(),delete this.a[t])},bl.prototype.getResponse=function(t){return(t=Al(this,t))?t.getResponse():null},bl.prototype.execute=function(t){(t=Al(this,t))&&t.execute()},El.prototype.getResponse=function(){return Tl(this),this.b},El.prototype.execute=function(){Tl(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()}),6e4)}),500))},El.prototype.delete=function(){Tl(this),this.g=!0,clearTimeout(this.a),this.a=null,dn(this.f,"click",this.i)},Jr(Cl,"FACTOR_ID","phone"),kl.prototype.g=function(){return wl||(wl=new bl),_e(wl)},kl.prototype.c=function(){};var Sl=null;function _l(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Nl=new bt(Et,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Dl=new Hr(3e4,6e4);_l.prototype.g=function(t){var e=this;return new Ae((function(n,r){var i=setTimeout((function(){r(new k("network-request-failed"))}),Dl.get());!s.grecaptcha||t!==e.f&&!e.b?(s[e.a]=function(){if(s.grecaptcha){e.f=t;var o=s.grecaptcha.render;s.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new k("internal-error"));delete s[e.a]},_e(Ha(St(Nl,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new k("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},_l.prototype.c=function(){this.b--};var xl=null;function Ol(t,e,n,r,i,o,a){if(Jr(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=e,this.g=null,a?(Sl||(Sl=new kl),a=Sl):(xl||(xl=new _l),a=xl),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Ll])throw new k("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Ml],!s.document)throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ce(e)||!this.i&&ce(e).hasChildNodes())throw new k("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new $a(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Pl];this.a[Pl]=function(t){if(Bl(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Or(c,s);"function"==typeof e&&e(t)}};var h=this.a[Rl];this.a[Rl]=function(){if(Bl(u,null),"function"==typeof h)h();else if("string"==typeof h){var t=Or(h,s);"function"==typeof t&&t()}}}var Pl="callback",Rl="expired-callback",Ll="sitekey",Ml="size";function Bl(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function jl(t,e){return t.h.push(e),e.oa((function(){Y(t.h,e)})),e}function Fl(t){if(t.J)throw new k("internal-error","RecaptchaVerifier instance has been destroyed.")}function Ul(t,e,n){var r=!1;try{this.b=n||Mn.app()}catch(t){throw new k("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new k("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(t){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=Mn.SDK_VERSION?Dr(Mn.SDK_VERSION,o):null,Ol.call(this,n,t,e,(function(){try{var t=i.b.auth().la()}catch(e){t=null}return t}),o,O(_),r)}function Vl(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new k("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=ql.length)throw new k("internal-error","Argument validator received an unsupported number of arguments.");n=ql[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new k("argument-error",t+" failed: "+r)}(t=Ol.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=jl(this,_e().then((function(){if(Lr()&&!Er())return wr();throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.u())})).then((function(e){return t.g=e,ru(t.s,Us,{})})).then((function(e){t.a[Ll]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){Fl(this);var t=this;return jl(this,this.Ia().then((function(){if(null===t.c){var e=t.v;if(!t.i){var n=ce(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ue&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Ht(a.name),'"'),a.type){o.push(' type="',Ht(a.type),'"');var s={};vt(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=me(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):he(o,a)),2<r.length&&pe(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Fl(this);var t=this;return jl(this,this.render().then((function(e){return new Ae((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){X(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){Fl(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Fl(this),this.J=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ce(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},T(Ul,Ol);var ql="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function zl(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function Hl(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function Kl(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:m}}function Gl(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function Wl(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Ql(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ka||!n)}}}function Yl(t,e){return m(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Xl(t){return m(t)&&"string"==typeof t.uid}function $l(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function Jl(t,e){for(var n in e){var r=e[n].name;t[r]=ef(r,t[n],e[n].j)}}function Zl(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:I((function(t){return this[t]}),n),set:I((function(t,e,n,r){Vl(t,[n],[r],!0),this[e]=r}),r,n,e[n].lb),enumerable:!0})}}function tf(t,e,n,r){t[e]=ef(e,n,r)}function ef(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Vl(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Jl(ol.prototype,{kb:{name:"applyActionCode",j:[zl("code")]},Sa:{name:"checkActionCode",j:[zl("code")]},ob:{name:"confirmPasswordReset",j:[zl("code"),zl("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[zl("email"),zl("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[zl("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[zl("emailLink")]},Hc:{name:"onAuthStateChanged",j:[$l(Kl(),Gl(),"nextOrObserver"),Gl("opt_error",!0),Gl("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[$l(Kl(),Gl(),"nextOrObserver"),Gl("opt_error",!0),Gl("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[zl("email"),$l(Kl("opt_actionCodeSettings",!0),Wl(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[zl("email"),Kl("actionCodeSettings")]},yb:{name:"setPersistence",j:[zl("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Ql()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Ql()]},Tc:{name:"signInWithCustomToken",j:[zl("token")]},Uc:{name:"signInWithEmailAndPassword",j:[zl("email"),zl("password")]},Vc:{name:"signInWithEmailLink",j:[zl("email"),zl("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[zl("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[$l({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof yh)}},Wl(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[zl(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[zl("url"),Kl("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[zl("code")]}}),Zl(ol.prototype,{lc:{name:"languageCode",lb:$l(zl(),Wl(),"languageCode")},ti:{name:"tenantId",lb:$l(zl(),Wl(),"tenantId")}}),ol.Persistence=Zu,ol.Persistence.LOCAL="local",ol.Persistence.SESSION="session",ol.Persistence.NONE="none",Jl(yh.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Hl("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Hl("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Ql()]},rb:{name:"linkWithCredential",j:[Ql()]},Dc:{name:"linkWithPhoneNumber",j:[zl("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Ql()]},ub:{name:"reauthenticateWithCredential",j:[Ql()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[zl("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[$l(Kl("opt_actionCodeSettings",!0),Wl(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[zl(null,!0)]},cd:{name:"unlink",j:[zl("provider")]},Cb:{name:"updateEmail",j:[zl("email")]},Db:{name:"updatePassword",j:[zl("password")]},ed:{name:"updatePhoneNumber",j:[Ql("phone")]},Eb:{name:"updateProfile",j:[Kl("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[zl("email"),$l(Kl("opt_actionCodeSettings",!0),Wl(null,!0),"opt_actionCodeSettings",!0)]}}),Jl(bl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Jl(yl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Jl(Ae.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Zl(Xc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Hl("appVerificationDisabledForTesting")}}),Jl($c.prototype,{confirm:{name:"confirm",j:[zl("verificationCode")]}}),tf(ho,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[yo,xo,Mo,mo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[$l(zl(),Kl(),"json")]),tf(Oo,"credential",(function(t,e){return new Do(t,e)}),[zl("email"),zl("password")]),Jl(Do.prototype,{w:{name:"toJSON",j:[zl(null,!0)]}}),Jl(Io.prototype,{Ca:{name:"addScope",j:[zl("scope")]},Ka:{name:"setCustomParameters",j:[Kl("customOAuthParameters")]}}),tf(Io,"credential",Eo,[$l(zl(),Kl(),"token")]),tf(Oo,"credentialWithLink",Po,[zl("email"),zl("emailLink")]),Jl(To.prototype,{Ca:{name:"addScope",j:[zl("scope")]},Ka:{name:"setCustomParameters",j:[Kl("customOAuthParameters")]}}),tf(To,"credential",Co,[$l(zl(),Kl(),"token")]),Jl(ko.prototype,{Ca:{name:"addScope",j:[zl("scope")]},Ka:{name:"setCustomParameters",j:[Kl("customOAuthParameters")]}}),tf(ko,"credential",So,[$l(zl(),$l(Kl(),Wl()),"idToken"),$l(zl(),Wl(),"accessToken",!0)]),Jl(_o.prototype,{Ka:{name:"setCustomParameters",j:[Kl("customOAuthParameters")]}}),tf(_o,"credential",No,[$l(zl(),Kl(),"token"),zl("secret",!0)]),Jl(Ao.prototype,{Ca:{name:"addScope",j:[zl("scope")]},credential:{name:"credential",j:[$l(zl(),$l(Kl(),Wl()),"optionsOrIdToken"),$l(zl(),Wl(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Kl("customOAuthParameters")]}}),Jl(go.prototype,{w:{name:"toJSON",j:[zl(null,!0)]}}),Jl(fo.prototype,{w:{name:"toJSON",j:[zl(null,!0)]}}),tf(jo,"credential",Fo,[zl("verificationId"),zl("verificationCode")]),Jl(jo.prototype,{gb:{name:"verifyPhoneNumber",j:[$l(zl(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Yl(t.session,uo)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Yl(t.session,co)&&Xl(t.multiFactorHint):t.session&&t.multiFactorUid?Yl(t.session,co)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Jl(Lo.prototype,{w:{name:"toJSON",j:[zl(null,!0)]}}),Jl(k.prototype,{toJSON:{name:"toJSON",j:[zl(null,!0)]}}),Jl(Qo.prototype,{toJSON:{name:"toJSON",j:[zl(null,!0)]}}),Jl(Wo.prototype,{toJSON:{name:"toJSON",j:[zl(null,!0)]}}),Jl(rh.prototype,{toJSON:{name:"toJSON",j:[zl(null,!0)]}}),Jl(th.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}}]}}),Jl(ch.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}},zl("displayName",!0)]},bd:{name:"unenroll",j:[$l({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Xl},zl(),"multiFactorInfoIdentifier")]}}),Jl(Ul.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),tf(Ei,"parseLink",xi,[zl("link")]),tf(Cl,"assertion",(function(t){return new sh(t)}),[Ql("phone")]),function(){if(void 0===Mn||!Mn.INTERNAL||!Mn.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:li,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:hi,VERIFY_AND_CHANGE_EMAIL:fi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:ol,AuthCredential:ho,Error:k};tf(t,"EmailAuthProvider",Oo,[]),tf(t,"FacebookAuthProvider",Io,[]),tf(t,"GithubAuthProvider",To,[]),tf(t,"GoogleAuthProvider",ko,[]),tf(t,"TwitterAuthProvider",_o,[]),tf(t,"OAuthProvider",Ao,[zl("providerId")]),tf(t,"SAMLAuthProvider",wo,[zl("providerId")]),tf(t,"PhoneAuthProvider",jo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof ol)}}]),tf(t,"RecaptchaVerifier",Ul,[$l(zl(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Kl("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof Mn.app.App)}}]),tf(t,"ActionCodeURL",Ei,[]),tf(t,"PhoneMultiFactorGenerator",Cl,[]),Mn.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new ol(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(t){t.getProvider("auth-internal").initialize()}}),Mn.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:A((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:A(t.nc,t),addAuthTokenListener:A(t.cc,t),removeAuthTokenListener:A(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Mn.registerVersion("@firebase/auth","0.16.8"),Mn.INTERNAL.extendNamespace({User:yh})}()}.apply(void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var ai=function(t,e){return(ai=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function si(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}ai(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function ui(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function ci(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function hi(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create,Object.create;var li=function(t,e){return(li=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function fi(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var di,pi="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},mi=mi||{},gi=pi||self;function vi(){}function yi(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function bi(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var wi="closure_uid_"+(1e9*Math.random()>>>0),Ai=0;function Ii(t,e,n){return t.call.apply(t.bind,arguments)}function Ei(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Ti(t,e,n){return(Ti=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ii:Ei).apply(null,arguments)}function Ci(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function ki(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Si(){this.s=this.s,this.o=this.o}var _i={};Si.prototype.s=!1,Si.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,wi)&&t[wi]||(t[wi]=++Ai)}(this);delete _i[t]}},Si.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Ni=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Di=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function xi(t){return Array.prototype.concat.apply([],arguments)}function Oi(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Pi(t){return/^[\s\xa0]*$/.test(t)}var Ri,Li=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Mi(t,e){return-1!=t.indexOf(e)}function Bi(t,e){return t<e?-1:t>e?1:0}t:{var ji=gi.navigator;if(ji){var Fi=ji.userAgent;if(Fi){Ri=Fi;break t}}Ri=""}function Ui(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Vi(t){var e={};for(var n in t)e[n]=t[n];return e}var qi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zi(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<qi.length;o++)n=qi[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Hi(t){return Hi[" "](t),t}Hi[" "]=vi;var Ki,Gi,Wi=Mi(Ri,"Opera"),Qi=Mi(Ri,"Trident")||Mi(Ri,"MSIE"),Yi=Mi(Ri,"Edge"),Xi=Yi||Qi,$i=Mi(Ri,"Gecko")&&!(Mi(Ri.toLowerCase(),"webkit")&&!Mi(Ri,"Edge"))&&!(Mi(Ri,"Trident")||Mi(Ri,"MSIE"))&&!Mi(Ri,"Edge"),Ji=Mi(Ri.toLowerCase(),"webkit")&&!Mi(Ri,"Edge");function Zi(){var t=gi.document;return t?t.documentMode:void 0}t:{var to="",eo=(Gi=Ri,$i?/rv:([^\);]+)(\)|;)/.exec(Gi):Yi?/Edge\/([\d\.]+)/.exec(Gi):Qi?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Gi):Ji?/WebKit\/(\S+)/.exec(Gi):Wi?/(?:Version)[ \/]?(\S+)/.exec(Gi):void 0);if(eo&&(to=eo?eo[1]:""),Qi){var no=Zi();if(null!=no&&no>parseFloat(to)){Ki=String(no);break t}}Ki=to}var ro,io={};function oo(){return t=io,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var t=0,e=Li(String(Ki)).split("."),n=Li("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;t=Bi(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||Bi(0==o[2].length,0==a[2].length)||Bi(o[2],a[2]),o=o[3],a=a[3]}while(0==t)}return 0<=t}();var t}gi.document&&Qi?ro=Zi()||parseInt(Ki,10)||void 0:ro=void 0;var ao=ro,so=function(){if(!gi.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{gi.addEventListener("test",vi,e),gi.removeEventListener("test",vi,e)}catch(t){}return t}();function uo(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function co(t,e){if(uo.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if($i){t:{try{Hi(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ho[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&co.Z.h.call(this)}}uo.prototype.h=function(){this.defaultPrevented=!0},ki(co,uo);var ho={2:"touch",3:"pen",4:"mouse"};co.prototype.h=function(){co.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var lo="closure_listenable_"+(1e6*Math.random()|0),fo=0;function po(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++fo,this.ca=this.fa=!1}function mo(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function go(t){this.src=t,this.g={},this.h=0}function vo(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=Ni(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(mo(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function yo(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}go.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var a=yo(t,e,r,i);return-1<a?(e=t[a],n||(e.fa=!1)):((e=new po(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var bo="closure_lm_"+(1e6*Math.random()|0),wo={};function Ao(t,e,n,r,i){if(r&&r.once)return Eo(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Ao(t,e[o],n,r,i);return null}return n=Do(n),t&&t[lo]?t.N(e,n,bi(r)?!!r.capture:!!r,i):Io(t,e,n,!1,r,i)}function Io(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=bi(i)?!!i.capture:!!i,s=_o(t);if(s||(t[bo]=s=new go(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=So;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)so||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ko(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Eo(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Eo(t,e[o],n,r,i);return null}return n=Do(n),t&&t[lo]?t.O(e,n,bi(r)?!!r.capture:!!r,i):Io(t,e,n,!0,r,i)}function To(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)To(t,e[o],n,r,i);else r=bi(r)?!!r.capture:!!r,n=Do(n),t&&t[lo]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=yo(o=t.g[e],n,r,i))&&(mo(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=_o(t))&&(e=t.g[e.toString()],t=-1,e&&(t=yo(e,n,r,i)),(n=-1<t?e[t]:null)&&Co(n))}function Co(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[lo])vo(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ko(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=_o(e))?(vo(n,t),0==n.h&&(n.src=null,e[bo]=null)):mo(t)}}}function ko(t){return t in wo?wo[t]:wo[t]="on"+t}function So(t,e){if(t.ca)t=!0;else{e=new co(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&Co(t),t=n.call(r,e)}return t}function _o(t){return(t=t[bo])instanceof go?t:null}var No="__closure_events_fn_"+(1e9*Math.random()>>>0);function Do(t){return"function"==typeof t?t:(t[No]||(t[No]=function(e){return t.handleEvent(e)}),t[No])}function xo(){Si.call(this),this.i=new go(this),this.P=this,this.I=null}function Oo(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new uo(e,t);else if(e instanceof uo)e.target=e.target||t;else{var i=e;zi(e=new uo(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.g=n[o];i=Po(a,r,!0,e)&&i}if(i=Po(a=e.g=t,r,!0,e)&&i,i=Po(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Po(a=e.g=n[o],r,!1,e)&&i}function Po(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&vo(t.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}ki(xo,Si),xo.prototype[lo]=!0,xo.prototype.removeEventListener=function(t,e,n,r){To(this,t,e,n,r)},xo.prototype.M=function(){if(xo.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)mo(n[r]);delete e.g[t],e.h--}}this.I=null},xo.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},xo.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Ro=gi.JSON.stringify;function Lo(){var t=zo,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Mo,Bo=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=jo.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),jo=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},t}())((function(){return new Fo}),(function(t){return t.reset()})),Fo=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function Uo(t){gi.setTimeout((function(){throw t}),0)}function Vo(t,e){Mo||function(){var t=gi.Promise.resolve(void 0);Mo=function(){t.then(Ho)}}(),qo||(Mo(),qo=!0),zo.add(t,e)}var qo=!1,zo=new Bo;function Ho(){for(var t;t=Lo();){try{t.h.call(t.g)}catch(t){Uo(t)}var e=jo;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}qo=!1}function Ko(t,e){xo.call(this),this.h=t||1,this.g=e||gi,this.j=Ti(this.kb,this),this.l=Date.now()}function Go(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function Wo(t,e,n){if("function"==typeof t)n&&(t=Ti(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ti(t.handleEvent,t)}return 2147483647<Number(e)?-1:gi.setTimeout(t,e||0)}function Qo(t){t.g=Wo((function(){t.g=null,t.i&&(t.i=!1,Qo(t))}),t.j);var e=t.h;t.h=null,t.m.apply(null,e)}ki(Ko,xo),(di=Ko.prototype).da=!1,di.S=null,di.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Oo(this,"tick"),this.da&&(Go(this),this.start()))}},di.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},di.M=function(){Ko.Z.M.call(this),Go(this),delete this.g};var Yo=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}li(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:Qo(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(gi.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(Si);function Xo(t){Si.call(this),this.h=t,this.g={}}ki(Xo,Si);var $o=[];function Jo(t,e,n,r){Array.isArray(n)||(n&&($o[0]=n.toString()),n=$o);for(var i=0;i<n.length;i++){var o=Ao(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function Zo(t){Ui(t.g,(function(t,e){this.g.hasOwnProperty(e)&&Co(t)}),t),t.g={}}function ta(){this.g=!0}function ea(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Ro(n)}catch(t){return e}}(t,n)+(r?" "+r:"")}))}Xo.prototype.M=function(){Xo.Z.M.call(this),Zo(this)},Xo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ta.prototype.Aa=function(){this.g=!1},ta.prototype.info=function(){};var na={},ra=null;function ia(){return ra=ra||new xo}function oa(t){uo.call(this,na.Ma,t)}function aa(t){var e=ia();Oo(e,new oa(e,t))}function sa(t,e){uo.call(this,na.STAT_EVENT,t),this.stat=e}function ua(t){var e=ia();Oo(e,new sa(e,t))}function ca(t,e){uo.call(this,na.Na,t),this.size=e}function ha(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return gi.setTimeout((function(){t()}),e)}na.Ma="serverreachability",ki(oa,uo),na.STAT_EVENT="statevent",ki(sa,uo),na.Na="timingevent",ki(ca,uo);var la={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},fa={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function da(){}function pa(t){return t.h||(t.h=t.i())}function ma(){}da.prototype.h=null;var ga,va={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ya(){uo.call(this,"d")}function ba(){uo.call(this,"c")}function wa(){}function Aa(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Xo(this),this.P=Ea,t=Xi?125:void 0,this.W=new Ko(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ia}function Ia(){this.i=null,this.g="",this.h=!1}ki(ya,uo),ki(ba,uo),ki(wa,da),wa.prototype.g=function(){return new XMLHttpRequest},wa.prototype.i=function(){return{}},ga=new wa;var Ea=45e3,Ta={},Ca={};function ka(t,e,n){t.K=1,t.v=Ya(za(e)),t.s=n,t.U=!0,Sa(t,null)}function Sa(t,e){t.F=Date.now(),xa(t),t.A=za(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),us(n.h,"t",r),t.C=0,n=t.l.H,t.h=new Ia,t.g=cu(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Yo(Ti(t.Ia,t,t.g),t.O)),Jo(t.V,t.g,"readystatechange",t.gb),e=t.H?Vi(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),aa(1),function(t,e,n,r,i,o){t.info((function(){if(t.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var h=c[0];c=c[1];var l=h.split("_");a=2<=l.length&&"type"==l[1]?a+(h+"=")+c+"&":a+(h+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}(t.j,t.u,t.A,t.m,t.X,t.s)}function _a(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function Na(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if((r=Da(t,n))==Ca){4==e&&(t.o=4,ua(14),i=!1),ea(t.j,t.m,null,"[Incomplete Response]");break}if(r==Ta){t.o=4,ua(15),ea(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}ea(t.j,t.m,r,null),Ma(t,r)}_a(t)&&r!=Ca&&r!=Ta&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,ua(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),eu(e),e.L=!0,ua(11))):(ea(t.j,t.m,n,"[Invalid Chunked Response]"),La(t),Ra(t))}function Da(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Ca:(n=Number(e.substring(n,r)),isNaN(n)?Ta:(r+=1)+n>e.length?Ca:(e=e.substr(r,n),t.C=r+n,e))}function xa(t){t.Y=Date.now()+t.P,Oa(t,t.P)}function Oa(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=ha(Ti(t.eb,t),e)}function Pa(t){t.B&&(gi.clearTimeout(t.B),t.B=null)}function Ra(t){0==t.l.G||t.I||iu(t.l,t)}function La(t){Pa(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Go(t.W),Zo(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Ma(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||ms(n.i,t)))if(n.I=t.N,!t.J&&ms(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;ru(n),Gs(n)}tu(n),ua(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=ha(Ti(n.ab,n),6e3));if(1>=ps(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else au(n,11)}else if((t.J||n.g==t)&&ru(n),!Pi(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"==typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=t.g;if(c){var h=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(h){var l=r.i;!l.g&&(Mi(h,"spdy")||Mi(h,"quic")||Mi(h,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(gs(l,l.h),l.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,Qa(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=t;if((r=n).oa=uu(r,r.H?r.la:null,r.W),d.J){vs(r.i,d);var p=d,m=r.K;m&&p.setTimeout(m),p.B&&(Pa(p),xa(p)),r.g=d}else Zs(r);0<n.l.length&&Ys(n)}else"stop"!=o[0]&&"close"!=o[0]||au(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?au(n,7):Ks(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}aa(4)}catch(o){}}function Ba(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(yi(t)||"string"==typeof t)Di(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(yi(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(yi(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function ja(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ja)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Fa(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Ua(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)Ua(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Ua(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(di=Aa.prototype).setTimeout=function(t){this.P=t},di.gb=function(t){t=t.target;var e=this.L;e&&3==Us(t)?e.l():this.Ia(t)},di.Ia=function(t){try{if(t==this.g)t:{var e=Us(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||Xi||this.g&&(this.h.h||this.g.ga()||Vs(this.g)))){this.I||4!=e||7==n||aa(8==n||0>=r?3:2),Pa(this);var i=this.g.ba();this.N=i;e:if(_a(this)){var o=Vs(this.g);t="";var a=o.length,s=4==Us(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){La(this),Ra(this);var u="";break e}this.h.i=new gi.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var c,h=this.g;if((c=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Pi(c)){var l=c;break e}}l=null}if(!(i=l)){this.i=!1,this.o=3,ua(12),La(this),Ra(this);break t}ea(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ma(this,i)}this.U?(Na(this,e,u),Xi&&this.i&&3==e&&(Jo(this.V,this.W,"tick",this.fb),this.W.start())):(ea(this.j,this.m,u,null),Ma(this,u)),4==e&&La(this),this.i&&!this.I&&(4==e?iu(this.l,this):(this.i=!1,xa(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,ua(12)):(this.o=0,ua(13)),La(this),Ra(this)}}}catch(e){}},di.fb=function(){if(this.g){var t=Us(this.g),e=this.g.ga();this.C<e.length&&(Pa(this),Na(this,t,e),this.i&&4!=t&&xa(this))}},di.cancel=function(){this.I=!0,La(this)},di.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.A),2!=this.K&&(aa(3),ua(17)),La(this),this.o=2,Ra(this)):Oa(this,this.Y-t)},(di=ja.prototype).R=function(){Fa(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},di.T=function(){return Fa(this),this.g.concat()},di.get=function(t,e){return Ua(this.h,t)?this.h[t]:e},di.set=function(t,e){Ua(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},di.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Va=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function qa(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof qa){this.g=void 0!==e?e:t.g,Ha(this,t.j),this.s=t.s,Ka(this,t.i),Ga(this,t.m),this.l=t.l,e=t.h;var n=new is;n.i=e.i,e.g&&(n.g=new ja(e.g),n.h=e.h),Wa(this,n),this.o=t.o}else t&&(n=String(t).match(Va))?(this.g=!!e,Ha(this,n[1]||"",!0),this.s=Xa(n[2]||""),Ka(this,n[3]||"",!0),Ga(this,n[4]),this.l=Xa(n[5]||"",!0),Wa(this,n[6]||"",!0),this.o=Xa(n[7]||"")):(this.g=!!e,this.h=new is(null,this.g))}function za(t){return new qa(t)}function Ha(t,e,n){t.j=n?Xa(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ka(t,e,n){t.i=n?Xa(e,!0):e}function Ga(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Wa(t,e,n){e instanceof is?(t.h=e,function(t,e){e&&!t.j&&(os(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(as(this,e),us(this,n,t))}),t)),t.j=e}(t.h,t.g)):(n||(e=$a(e,ns)),t.h=new is(e,t.g))}function Qa(t,e,n){t.h.set(e,n)}function Ya(t){return Qa(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Xa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function $a(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ja),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ja(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}qa.prototype.toString=function(){var t=[],e=this.j;e&&t.push($a(e,Za,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push($a(e,Za,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push($a(n,"/"==n.charAt(0)?es:ts,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",$a(n,rs)),t.join("")};var Za=/[#\/\?@]/g,ts=/[#\?:]/g,es=/[#\?]/g,ns=/[#\?@]/g,rs=/#/g;function is(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function os(t){t.g||(t.g=new ja,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function as(t,e){os(t),e=cs(t,e),Ua(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Ua((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Fa(t)))}function ss(t,e){return os(t),e=cs(t,e),Ua(t.g.h,e)}function us(t,e,n){as(t,e),0<n.length&&(t.i=null,t.g.set(cs(t,e),Oi(n)),t.h+=n.length)}function cs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(di=is.prototype).add=function(t,e){os(this),this.i=null,t=cs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},di.forEach=function(t,e){os(this),this.g.forEach((function(n,r){Di(n,(function(n){t.call(e,n,r,this)}),this)}),this)},di.T=function(){os(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},di.R=function(t){os(this);var e=[];if("string"==typeof t)ss(this,t)&&(e=xi(e,this.g.get(cs(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=xi(e,t[n])}return e},di.set=function(t,e){return os(this),this.i=null,ss(this,t=cs(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},di.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},di.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.i=t.join("&")};var hs=function(t,e){this.h=t,this.g=e};function ls(t){this.l=t||fs,t=gi.PerformanceNavigationTiming?0<(t=gi.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(gi.g&&gi.g.Ea&&gi.g.Ea()&&gi.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var fs=10;function ds(t){return!!t.h||!!t.g&&t.g.size>=t.j}function ps(t){return t.h?1:t.g?t.g.size:0}function ms(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function gs(t,e){t.g?t.g.add(e):t.h=e}function vs(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function ys(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=fi(t.g.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.D)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Oi(t.i)}function bs(){}function ws(){this.g=new bs}function As(t,e,n){var r=n||"";try{Ba(t,(function(t,n){var i=t;bi(t)&&(i=Ro(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function Is(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}function Es(t){this.l=t.$b||null,this.j=t.ib||!1}function Ts(t,e){xo.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Cs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ls.prototype.cancel=function(){var t,e;if(this.i=ys(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=fi(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},bs.prototype.stringify=function(t){return gi.JSON.stringify(t,void 0)},bs.prototype.parse=function(t){return gi.JSON.parse(t,void 0)},ki(Es,da),Es.prototype.g=function(){return new Ts(this.l,this.j)},Es.prototype.i=function(t){return function(){return t}}({}),ki(Ts,xo);var Cs=0;function ks(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Ss(t){t.readyState=4,t.l=null,t.j=null,t.A=null,_s(t)}function _s(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(di=Ts.prototype).open=function(t,e){if(this.readyState!=Cs)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,_s(this)},di.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||gi).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},di.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ss(this)),this.readyState=Cs},di.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,_s(this)),this.g&&(this.readyState=3,_s(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==gi.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ks(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},di.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ss(this):_s(this),3==this.readyState&&ks(this)}},di.Ua=function(t){this.g&&(this.response=this.responseText=t,Ss(this))},di.Ta=function(t){this.g&&(this.response=t,Ss(this))},di.ha=function(){this.g&&Ss(this)},di.setRequestHeader=function(t,e){this.v.append(t,e)},di.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},di.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Ts.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Ns=gi.JSON.parse;function Ds(t){xo.call(this),this.headers=new ja,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=xs,this.K=this.L=!1}ki(Ds,xo);var xs="",Os=/^https?$/i,Ps=["POST","PUT"];function Rs(t){return"content-type"==t.toLowerCase()}function Ls(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Ms(t),js(t)}function Ms(t){t.D||(t.D=!0,Oo(t,"complete"),Oo(t,"error"))}function Bs(t){if(t.h&&void 0!==mi&&(!t.C[1]||4!=Us(t)||2!=t.ba()))if(t.v&&4==Us(t))Wo(t.Fa,0,t);else if(Oo(t,"readystatechange"),4==Us(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.H).match(Va)[1]||null;if(!o&&gi.self&&gi.self.location){var a=gi.self.location.protocol;o=a.substr(0,a.length-1)}i=!Os.test(o?o.toLowerCase():"")}e=i}if(e)Oo(t,"complete"),Oo(t,"success");else{t.m=6;try{var s=2<Us(t)?t.g.statusText:""}catch(t){s=""}t.j=s+" ["+t.ba()+"]",Ms(t)}}finally{js(t)}}}function js(t,e){if(t.g){Fs(t);var n=t.g,r=t.C[0]?vi:null;t.g=null,t.C=null,e||Oo(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function Fs(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(gi.clearTimeout(t.A),t.A=null)}function Us(t){return t.g?t.g.readyState:0}function Vs(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case xs:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(t){return null}}function qs(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Ui(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Qa(t,e,n))}function zs(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Hs(t){this.za=0,this.l=[],this.h=new ta,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=zs("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=zs("baseRetryDelayMs",5e3,t),this.$a=zs("retryDelaySeedMs",1e4,t),this.Ya=zs("forwardChannelMaxRetries",2,t),this.ra=zs("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new ls(t&&t.concurrentRequestLimit),this.Ca=new ws,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Ks(t){if(Ws(t),3==t.G){var e=t.V++,n=za(t.F);Qa(n,"SID",t.J),Qa(n,"RID",e),Qa(n,"TYPE","terminate"),$s(t,n),(e=new Aa(t,t.h,e,void 0)).K=2,e.v=Ya(za(n)),n=!1,gi.navigator&&gi.navigator.sendBeacon&&(n=gi.navigator.sendBeacon(e.v.toString(),"")),!n&&gi.Image&&((new Image).src=e.v,n=!0),n||(e.g=cu(e.l,null),e.g.ea(e.v)),e.F=Date.now(),xa(e)}su(t)}function Gs(t){t.g&&(eu(t),t.g.cancel(),t.g=null)}function Ws(t){Gs(t),t.u&&(gi.clearTimeout(t.u),t.u=null),ru(t),t.i.cancel(),t.m&&("number"==typeof t.m&&gi.clearTimeout(t.m),t.m=null)}function Qs(t,e){t.l.push(new hs(t.Za++,e)),3==t.G&&Ys(t)}function Ys(t){ds(t.i)||t.m||(t.m=!0,Vo(t.Ha,t),t.C=0)}function Xs(t,e){var n;n=e?e.m:t.V++;var r=za(t.F);Qa(r,"SID",t.J),Qa(r,"RID",n),Qa(r,"AID",t.U),$s(t,r),t.o&&t.s&&qs(r,t.o,t.s),n=new Aa(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Js(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),gs(t.i,n),ka(n,r,e)}function $s(t,e){t.j&&Ba({},(function(t,n){Qa(e,n,t)}))}function Js(t,e,n){n=Math.min(t.l.length,n);var r=t.j?Ti(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,h=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),s=!1;else try{As(h,a,"req"+c+"_")}catch(t){r&&r(h)}}if(s){r=a.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function Zs(t){t.g||t.u||(t.Y=1,Vo(t.Ga,t),t.A=0)}function tu(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=ha(Ti(t.Ga,t),ou(t,t.A)),t.A++,0))}function eu(t){null!=t.B&&(gi.clearTimeout(t.B),t.B=null)}function nu(t){t.g=new Aa(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=za(t.oa);Qa(e,"RID","rpc"),Qa(e,"SID",t.J),Qa(e,"CI",t.N?"0":"1"),Qa(e,"AID",t.U),$s(t,e),Qa(e,"TYPE","xmlhttp"),t.o&&t.s&&qs(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Ya(za(e)),n.s=null,n.U=!0,Sa(n,t)}function ru(t){null!=t.v&&(gi.clearTimeout(t.v),t.v=null)}function iu(t,e){var n=null;if(t.g==e){ru(t),eu(t),t.g=null;var r=2}else{if(!ms(t.i,e))return;n=e.D,vs(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Oo(r=ia(),new ca(r,n,e,i)),Ys(t)}else Zs(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(ps(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=ha(Ti(t.Ha,t,e),ou(t,t.C)),t.C++,0)))}(t,e)||2==r&&tu(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:au(t,5);break;case 4:au(t,10);break;case 3:au(t,6);break;default:au(t,2)}}function ou(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function au(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=Ti(t.jb,t);n||(n=new qa("//www.google.com/images/cleardot.gif"),gi.location&&"http"==gi.location.protocol||Ha(n,"https"),Ya(n)),function(t,e){var n=new ta;if(gi.Image){var r=new Image;r.onload=Ci(Is,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ci(Is,n,r,"TestLoadImage: error",!1,e),r.onabort=Ci(Is,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ci(Is,n,r,"TestLoadImage: timeout",!1,e),gi.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else ua(2);t.G=0,t.j&&t.j.va(e),su(t),Ws(t)}function su(t){t.G=0,t.I=-1,t.j&&(0==ys(t.i).length&&0==t.l.length||(t.i.i.length=0,Oi(t.l),t.l.length=0),t.j.ua())}function uu(t,e,n){var r=function(t){return t instanceof qa?za(t):new qa(t,void 0)}(n);if(""!=r.i)e&&Ka(r,e+"."+r.i),Ga(r,r.m);else{var i=gi.location;r=function(t,e,n,r){var i=new qa(null,void 0);return t&&Ha(i,t),e&&Ka(i,e),n&&Ga(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&Ui(t.aa,(function(t,e){Qa(r,e,t)})),e=t.D,n=t.sa,e&&n&&Qa(r,e,n),Qa(r,"VER",t.ma),$s(t,r),r}function cu(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=n&&t.Ba&&!t.qa?new Ds(new Es({ib:!0})):new Ds(t.qa)).L=t.H,e}function hu(){}function lu(){if(Qi&&!(10<=Number(ao)))throw Error("Environmental error: no available transport.")}function fu(t,e){xo.call(this),this.g=new Hs(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Pi(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Pi(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new mu(this)}function du(t){ya.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function pu(){ba.call(this),this.status=1}function mu(t){this.g=t}(di=Ds.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ga.g(),this.C=this.u?pa(this.u):pa(ga),this.g.onreadystatechange=Ti(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(t){return void Ls(this,t)}t=n||"";var i=new ja(this.headers);r&&Ba(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Rs,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=gi.FormData&&t instanceof gi.FormData,!(0<=Ni(Ps,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.g.setRequestHeader(e,t)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Fs(this),0<this.B&&((this.K=function(t){return Qi&&oo()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ti(this.pa,this)):this.A=Wo(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(t){Ls(this,t)}},di.pa=function(){void 0!==mi&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Oo(this,"timeout"),this.abort(8))},di.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Oo(this,"complete"),Oo(this,"abort"),js(this))},di.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),js(this,!0)),Ds.Z.M.call(this)},di.Fa=function(){this.s||(this.F||this.v||this.l?Bs(this):this.cb())},di.cb=function(){Bs(this)},di.ba=function(){try{return 2<Us(this)?this.g.status:-1}catch(t){return-1}},di.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},di.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Ns(e)}},di.Da=function(){return this.m},di.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(di=Hs.prototype).ma=8,di.G=1,di.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(t){}},di.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new Aa(this,this.h,t,void 0),n=this.s;if(this.P&&(n?zi(n=Vi(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=Js(this,e,r),Qa(i=za(this.F),"RID",t),Qa(i,"CVER",22),this.D&&Qa(i,"X-HTTP-Session-Id",this.D),$s(this,i),this.o&&n&&qs(i,this.o,n),gs(this.i,e),this.Ra&&Qa(i,"TYPE","init"),this.ja?(Qa(i,"$req",r),Qa(i,"SID","null"),e.$=!0,ka(e,i,null)):ka(e,i,r),this.G=2}}else 3==this.G&&(t?Xs(this,t):0==this.l.length||ds(this.i)||Xs(this))},di.Ga=function(){if(this.u=null,nu(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=ha(Ti(this.bb,this),t)}},di.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ua(10),Gs(this),nu(this))},di.ab=function(){null!=this.v&&(this.v=null,Gs(this),tu(this),ua(19))},di.jb=function(t){t?(this.h.info("Successfully pinged google.com"),ua(2)):(this.h.info("Failed to ping google.com"),ua(1))},(di=hu.prototype).xa=function(){},di.wa=function(){},di.va=function(){},di.ua=function(){},di.Oa=function(){},lu.prototype.g=function(t,e){return new fu(t,e)},ki(fu,xo),fu.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Vo(Ti(t.hb,t,e))),ua(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=uu(t,null,t.W),Ys(t)},fu.prototype.close=function(){Ks(this.g)},fu.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,Qs(this.g,e)}else this.v?((e={}).__data__=Ro(t),Qs(this.g,e)):Qs(this.g,t)},fu.prototype.M=function(){this.g.j=null,delete this.j,Ks(this.g),delete this.g,fu.Z.M.call(this)},ki(du,ya),ki(pu,ba),ki(mu,hu),mu.prototype.xa=function(){Oo(this.g,"a")},mu.prototype.wa=function(t){Oo(this.g,new du(t))},mu.prototype.va=function(t){Oo(this.g,new pu(t))},mu.prototype.ua=function(){Oo(this.g,"b")},lu.prototype.createWebChannel=lu.prototype.g,fu.prototype.send=fu.prototype.u,fu.prototype.open=fu.prototype.m,fu.prototype.close=fu.prototype.close,la.NO_ERROR=0,la.TIMEOUT=8,la.HTTP_ERROR=6,fa.COMPLETE="complete",ma.EventType=va,va.OPEN="a",va.CLOSE="b",va.ERROR="c",va.MESSAGE="d",xo.prototype.listen=xo.prototype.N,Ds.prototype.listenOnce=Ds.prototype.O,Ds.prototype.getLastError=Ds.prototype.La,Ds.prototype.getLastErrorCode=Ds.prototype.Da,Ds.prototype.getStatus=Ds.prototype.ba,Ds.prototype.getResponseJson=Ds.prototype.Qa,Ds.prototype.getResponseText=Ds.prototype.ga,Ds.prototype.send=Ds.prototype.ea;var gu=la,vu=fa,yu=na,bu=10,wu=11,Au=Es,Iu=ma,Eu=Ds,Tu=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Tu.o=-1;var Cu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ku=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return si(e,t),e}(Error),Su=new An("@firebase/firestore");function _u(){return Su.logLevel}function Nu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Su.logLevel<=pn.DEBUG){var r=e.map(Ou);Su.debug.apply(Su,hi(["Firestore (8.8.1): "+t],r))}}function Du(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Su.logLevel<=pn.ERROR){var r=e.map(Ou);Su.error.apply(Su,hi(["Firestore (8.8.1): "+t],r))}}function xu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Su.logLevel<=pn.WARN){var r=e.map(Ou);Su.warn.apply(Su,hi(["Firestore (8.8.1): "+t],r))}}function Ou(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function Pu(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.8.1) INTERNAL ASSERTION FAILED: "+t;throw Du(e),new Error(e)}function Ru(t,e){t||Pu()}function Lu(t,e){return t}function Mu(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Bu=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Mu(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function ju(t,e){return t<e?-1:t>e?1:0}function Fu(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Uu(t){return t+"\0"}var Vu=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ku(Cu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ku(Cu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ku(Cu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ku(Cu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?ju(this.nanoseconds,t.nanoseconds):ju(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),qu=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Vu(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function zu(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hu(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ku(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Gu=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Pu(),void 0===n?n=t.length-e:n>t.length-e&&Pu(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Wu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return si(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new ku(Cu.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Gu),Qu=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Yu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return si(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Qu.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new ku(Cu.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new ku(Cu.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new ku(Cu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new ku(Cu.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Gu),Xu=function(){function t(t){this.fields=t,t.sort(Yu.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Fu(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),$u=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return ju(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();$u.EMPTY_BYTE_STRING=new $u("");var Ju=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zu(t){if(Ru(!!t),"string"==typeof t){var e=0,n=Ju.exec(t);if(Ru(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:tc(t.seconds),nanos:tc(t.nanos)}}function tc(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ec(t){return"string"==typeof t?$u.fromBase64String(t):$u.fromUint8Array(t)}function nc(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function rc(t){var e=t.mapValue.fields.__previous_value__;return nc(e)?rc(e):e}function ic(t){var e=Zu(t.mapValue.fields.__local_write_time__.timestampValue);return new Vu(e.seconds,e.nanos)}function oc(t){return null==t}function ac(t){return 0===t&&1/t==-1/0}function sc(t){return"number"==typeof t&&Number.isInteger(t)&&!ac(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var uc=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Wu.fromString(e))},t.fromName=function(e){return new t(Wu.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Wu.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Wu.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Wu(e.slice()))},t}();function cc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?nc(t)?4:10:Pu()}function hc(t,e){var n=cc(t);if(n!==cc(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ic(t).isEqual(ic(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Zu(t.timestampValue),r=Zu(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return ec(t.bytesValue).isEqual(ec(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return tc(t.geoPointValue.latitude)===tc(e.geoPointValue.latitude)&&tc(t.geoPointValue.longitude)===tc(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return tc(t.integerValue)===tc(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=tc(t.doubleValue),r=tc(e.doubleValue);return n===r?ac(n)===ac(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Fu(t.arrayValue.values||[],e.arrayValue.values||[],hc);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(zu(n)!==zu(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!hc(n[i],r[i])))return!1;return!0}(t,e);default:return Pu()}}function lc(t,e){return void 0!==(t.values||[]).find((function(t){return hc(t,e)}))}function fc(t,e){var n=cc(t),r=cc(e);if(n!==r)return ju(n,r);switch(n){case 0:return 0;case 1:return ju(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=tc(t.integerValue||t.doubleValue),r=tc(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return dc(t.timestampValue,e.timestampValue);case 4:return dc(ic(t),ic(e));case 5:return ju(t.stringValue,e.stringValue);case 6:return function(t,e){var n=ec(t),r=ec(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=ju(n[i],r[i]);if(0!==o)return o}return ju(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=ju(tc(t.latitude),tc(e.latitude));return 0!==n?n:ju(tc(t.longitude),tc(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=fc(n[i],r[i]);if(o)return o}return ju(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=ju(r[a],o[a]);if(0!==s)return s;var u=fc(n[r[a]],i[o[a]]);if(0!==u)return u}return ju(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Pu()}}function dc(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ju(t,e);var n=Zu(t),r=Zu(e),i=ju(n.seconds,r.seconds);return 0!==i?i:ju(n.nanos,r.nanos)}function pc(t){return mc(t)}function mc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Zu(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ec(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,uc.fromName(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=mc(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+mc(t.fields[o])}return e+"}"}(t.mapValue):Pu();var e,n}function gc(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function vc(t){return!!t&&"integerValue"in t}function yc(t){return!!t&&"arrayValue"in t}function bc(t){return!!t&&"nullValue"in t}function wc(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ac(t){return!!t&&"mapValue"in t}function Ic(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return Hu(t.mapValue.fields,(function(t,n){return e.mapValue.fields[t]=Ic(n)})),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ic(t.arrayValue.values[r]);return n}return Object.assign({},t)}var Ec=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!Ac(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ic(e)},t.prototype.setAll=function(t){var e=this,n=Yu.emptyPath(),r={},i=[];t.forEach((function(t,o){if(!n.isImmediateParentOf(o)){var a=e.getFieldsMap(n);e.applyChanges(a,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=Ic(t):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());Ac(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return hc(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];Ac(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){Hu(e,(function(e,n){return t[e]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete t[o]}},t.prototype.clone=function(){return new t(Ic(this.value))},t}();function Tc(t){var e=[];return Hu(t.fields,(function(t,n){var r=new Yu([t]);if(Ac(n)){var i=Tc(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];e.push(r.child(s))}}else e.push(r)})),new Xu(e)}var Cc=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,qu.min(),Ec.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Ec.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Ec.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Ec.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Ec.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),kc=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function Sc(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new kc(t,e,n,r,i,o,a)}function _c(t){var e=Lu(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.canonicalString()+t.op.toString()+pc(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),oc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Vc(e.startAt)),e.endAt&&(n+="|ub:",n+=Vc(e.endAt)),e.h=n}return e.h}function Nc(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!zc(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!hc(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Kc(t.startAt,e.startAt)&&Kc(t.endAt,e.endAt)}function Dc(t){return uc.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var xc=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return si(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Oc(t,n,r):"array-contains"===n?new Mc(t,r):"in"===n?new Bc(t,r):"not-in"===n?new jc(t,r):"array-contains-any"===n?new Fc(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Pc(t,n):new Rc(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(fc(e,this.value)):null!==e&&cc(this.value)===cc(e)&&this.m(fc(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Pu()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Oc=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=uc.fromName(r.referenceValue),i}return si(e,t),e.prototype.matches=function(t){var e=uc.comparator(t.key,this.key);return this.m(e)},e}(xc),Pc=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Lc(0,n),r}return si(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(xc),Rc=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Lc(0,n),r}return si(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(xc);function Lc(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return uc.fromName(t.referenceValue)}))}var Mc=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return si(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return yc(e)&&lc(e.arrayValue,this.value)},e}(xc),Bc=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return si(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&lc(this.value.arrayValue,e)},e}(xc),jc=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return si(e,t),e.prototype.matches=function(t){if(lc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!lc(this.value.arrayValue,e)},e}(xc),Fc=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return si(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!yc(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return lc(e.value.arrayValue,t)}))},e}(xc),Uc=function(t,e){this.position=t,this.before=e};function Vc(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return pc(t)})).join(",")}var qc=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function zc(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Hc(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.isKeyField()?uc.comparator(uc.fromName(a.referenceValue),n.key):fc(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Kc(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!hc(t.position[n],e.position[n]))return!1;return!0}var Gc=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function Wc(t,e,n,r,i,o,a,s){return new Gc(t,e,n,r,i,o,a,s)}function Qc(t){return new Gc(t)}function Yc(t){return!oc(t.limit)&&"F"===t.limitType}function Xc(t){return!oc(t.limit)&&"L"===t.limitType}function $c(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Jc(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Zc(t){return null!==t.collectionGroup}function th(t){var e=Lu(t);if(null===e.p){e.p=[];var n=Jc(e),r=$c(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new qc(n)),e.p.push(new qc(Yu.keyField(),"asc"));else{for(var i=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var s=a[o];e.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new qc(Yu.keyField(),u))}}}return e.p}function eh(t){var e=Lu(t);if(!e.T)if("F"===e.limitType)e.T=Sc(e.path,e.collectionGroup,th(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=th(e);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new qc(o.field,a))}var s=e.endAt?new Uc(e.endAt.position,!e.endAt.before):null,u=e.startAt?new Uc(e.startAt.position,!e.startAt.before):null;e.T=Sc(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.T}function nh(t,e,n){return new Gc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function rh(t,e){return Nc(eh(t),eh(e))&&t.limitType===e.limitType}function ih(t){return _c(eh(t))+"|lt:"+t.limitType}function oh(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+pc(e.value);var e})).join(", ")+"]"),oc(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Vc(t.startAt)),t.endAt&&(e+=", endAt: "+Vc(t.endAt)),"Target("+e+")"}(eh(t))+"; limitType="+t.limitType+")"}function ah(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):uc.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Hc(t.startAt,th(t),e)||t.endAt&&Hc(t.endAt,th(t),e))}(t,e)}function sh(t){return function(e,n){for(var r=!1,i=0,o=th(t);i<o.length;i++){var a=o[i],s=uh(a,e,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function uh(t,e,n){var r=t.field.isKeyField()?uc.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?fc(r,i):Pu()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Pu()}}function ch(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ac(e)?"-0":e}}function hh(t){return{integerValue:""+t}}function lh(t,e){return sc(e)?hh(e):ch(t,e)}var fh=function(){this._=void 0};function dh(t,e,n){return t instanceof gh?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof vh?yh(t,e):t instanceof bh?wh(t,e):function(t,e){var n=mh(t,e),r=Ih(n)+Ih(t.A);return vc(n)&&vc(t.A)?hh(r):ch(t.R,r)}(t,e)}function ph(t,e,n){return t instanceof vh?yh(t,e):t instanceof bh?wh(t,e):n}function mh(t,e){return t instanceof Ah?vc(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var gh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return si(e,t),e}(fh),vh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return si(e,t),e}(fh);function yh(t,e){for(var n=Eh(e),r=function(t){n.some((function(e){return hc(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var bh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return si(e,t),e}(fh);function wh(t,e){for(var n=Eh(e),r=function(t){n=n.filter((function(e){return!hc(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ah=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return si(e,t),e}(fh);function Ih(t){return tc(t.integerValue||t.doubleValue)}function Eh(t){return yc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Th=function(t,e){this.field=t,this.transform=e},Ch=function(t,e){this.version=t,this.transformResults=e},kh=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Sh(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var _h=function(){};function Nh(t,e,n){t instanceof Rh?function(t,e,n){var r=t.value.clone(),i=Bh(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Lh?function(t,e,n){if(Sh(t.precondition,e)){var r=Bh(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Mh(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Dh(t,e,n){t instanceof Rh?function(t,e,n){if(Sh(t.precondition,e)){var r=t.value.clone(),i=jh(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Ph(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Lh?function(t,e,n){if(Sh(t.precondition,e)){var r=jh(t.fieldTransforms,n,e),i=e.data;i.setAll(Mh(t)),i.setAll(r),e.convertToFoundDocument(Ph(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Sh(t.precondition,e)&&e.convertToNoDocument(qu.min())}(t,e)}function xh(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e.data.field(o.field),s=mh(o.transform,a||null);null!=s&&(null==n&&(n=Ec.empty()),n.set(o.field,s))}return n||null}function Oh(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Fu(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof vh&&e instanceof vh||t instanceof bh&&e instanceof bh?Fu(t.elements,e.elements,hc):t instanceof Ah&&e instanceof Ah?hc(t.A,e.A):t instanceof gh&&e instanceof gh}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Ph(t){return t.isFoundDocument()?t.version:qu.min()}var Rh=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return si(e,t),e}(_h),Lh=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return si(e,t),e}(_h);function Mh(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function Bh(t,e,n){var r=new Map;Ru(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,ph(a,s,n[i]))}return r}function jh(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,dh(s,u,e))}return r}var Fh,Uh,Vh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return si(e,t),e}(_h),qh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return si(e,t),e}(_h),zh=function(t){this.count=t};function Hh(t){switch(t){case Cu.OK:return Pu();case Cu.CANCELLED:case Cu.UNKNOWN:case Cu.DEADLINE_EXCEEDED:case Cu.RESOURCE_EXHAUSTED:case Cu.INTERNAL:case Cu.UNAVAILABLE:case Cu.UNAUTHENTICATED:return!1;case Cu.INVALID_ARGUMENT:case Cu.NOT_FOUND:case Cu.ALREADY_EXISTS:case Cu.PERMISSION_DENIED:case Cu.FAILED_PRECONDITION:case Cu.ABORTED:case Cu.OUT_OF_RANGE:case Cu.UNIMPLEMENTED:case Cu.DATA_LOSS:return!0;default:return Pu()}}function Kh(t){if(void 0===t)return Du("GRPC error has no .code"),Cu.UNKNOWN;switch(t){case Fh.OK:return Cu.OK;case Fh.CANCELLED:return Cu.CANCELLED;case Fh.UNKNOWN:return Cu.UNKNOWN;case Fh.DEADLINE_EXCEEDED:return Cu.DEADLINE_EXCEEDED;case Fh.RESOURCE_EXHAUSTED:return Cu.RESOURCE_EXHAUSTED;case Fh.INTERNAL:return Cu.INTERNAL;case Fh.UNAVAILABLE:return Cu.UNAVAILABLE;case Fh.UNAUTHENTICATED:return Cu.UNAUTHENTICATED;case Fh.INVALID_ARGUMENT:return Cu.INVALID_ARGUMENT;case Fh.NOT_FOUND:return Cu.NOT_FOUND;case Fh.ALREADY_EXISTS:return Cu.ALREADY_EXISTS;case Fh.PERMISSION_DENIED:return Cu.PERMISSION_DENIED;case Fh.FAILED_PRECONDITION:return Cu.FAILED_PRECONDITION;case Fh.ABORTED:return Cu.ABORTED;case Fh.OUT_OF_RANGE:return Cu.OUT_OF_RANGE;case Fh.UNIMPLEMENTED:return Cu.UNIMPLEMENTED;case Fh.DATA_LOSS:return Cu.DATA_LOSS;default:return Pu()}}(Uh=Fh||(Fh={}))[Uh.OK=0]="OK",Uh[Uh.CANCELLED=1]="CANCELLED",Uh[Uh.UNKNOWN=2]="UNKNOWN",Uh[Uh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Uh[Uh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Uh[Uh.NOT_FOUND=5]="NOT_FOUND",Uh[Uh.ALREADY_EXISTS=6]="ALREADY_EXISTS",Uh[Uh.PERMISSION_DENIED=7]="PERMISSION_DENIED",Uh[Uh.UNAUTHENTICATED=16]="UNAUTHENTICATED",Uh[Uh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Uh[Uh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Uh[Uh.ABORTED=10]="ABORTED",Uh[Uh.OUT_OF_RANGE=11]="OUT_OF_RANGE",Uh[Uh.UNIMPLEMENTED=12]="UNIMPLEMENTED",Uh[Uh.INTERNAL=13]="INTERNAL",Uh[Uh.UNAVAILABLE=14]="UNAVAILABLE",Uh[Uh.DATA_LOSS=15]="DATA_LOSS";var Gh=function(){function t(t,e){this.comparator=t,this.root=e||Qh.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qh.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qh.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Wh(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Wh(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Wh(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Wh(this.root,t,this.comparator,!0)},t}(),Wh=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Qh=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Pu();if(this.right.isRed())throw Pu();var t=this.left.check();if(t!==this.right.check())throw Pu();return t+(this.isRed()?0:1)},t}();Qh.EMPTY=null,Qh.RED=!0,Qh.BLACK=!1,Qh.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Pu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Pu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Pu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Pu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Pu()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Qh(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Yh=function(){function t(t){this.comparator=t,this.data=new Gh(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Xh(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Xh(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Xh=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),$h=new Gh(uc.comparator);function Jh(){return $h}var Zh=new Gh(uc.comparator);function tl(){return Zh}var el=new Gh(uc.comparator);function nl(){return el}var rl=new Yh(uc.comparator);function il(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=rl,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var ol=new Yh(ju);function al(){return ol}var sl=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,ul.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(qu.min(),r,al(),Jh(),il())},t}(),ul=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t($u.EMPTY_BYTE_STRING,n,il(),il(),il())},t}(),cl=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},hl=function(t,e){this.targetId=t,this.V=e},ll=function(t,e,n,r){void 0===n&&(n=$u.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},fl=function(){function t(){this.S=0,this.D=ml(),this.C=$u.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=il(),e=il(),n=il();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Pu()}})),new ul(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=ml()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),dl=function(){function t(t){this.W=t,this.G=new Map,this.H=Jh(),this.J=pl(),this.Y=new Yh(ju)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:Pu()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Dc(i))if(0===n){var o=new uc(i.path);this.tt(e,o,Cc.newNoDocument(o,qu.min()))}else Ru(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var o=e.ot(i);if(o){if(r.current&&Dc(o.target)){var a=new uc(o.target.path);null!==e.H.get(a)||e.at(i,a)||e.tt(i,a,Cc.newNoDocument(a,t))}r.$&&(n.set(i,r.M()),r.L())}}));var r=il();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new sl(t,n,this.Y,this.H,r);return this.H=Jh(),this.J=pl(),this.Y=new Yh(ju),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new fl,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Yh(ju),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Nu("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new fl),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function pl(){return new Gh(uc.comparator)}function ml(){return new Gh(uc.comparator)}var gl={asc:"ASCENDING",desc:"DESCENDING"},vl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yl=function(t,e){this.databaseId=t,this.I=e};function bl(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function wl(t,e){return t.I?e.toBase64():e.toUint8Array()}function Al(t,e){return bl(t,e.toTimestamp())}function Il(t){return Ru(!!t),qu.fromTimestamp(function(t){var e=Zu(t);return new Vu(e.seconds,e.nanos)}(t))}function El(t,e){return function(t){return new Wu(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Tl(t){var e=Wu.fromString(t);return Ru(Ql(e)),e}function Cl(t,e){return El(t.databaseId,e.path)}function kl(t,e){var n=Tl(e);if(n.get(1)!==t.databaseId.projectId)throw new ku(Cu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ku(Cu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new uc(Dl(n))}function Sl(t,e){return El(t.databaseId,e)}function _l(t){var e=Tl(t);return 4===e.length?Wu.emptyPath():Dl(e)}function Nl(t){return new Wu(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Dl(t){return Ru(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function xl(t,e,n){return{name:Cl(t,e),fields:n.value.mapValue.fields}}function Ol(t,e,n){var r=kl(t,e.name),i=Il(e.updateTime),o=new Ec({mapValue:{fields:e.fields}}),a=Cc.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Pl(t,e){var n;if(e instanceof Rh)n={update:xl(t,e.key,e.value)};else if(e instanceof Vh)n={delete:Cl(t,e.key)};else if(e instanceof Lh)n={update:xl(t,e.key,e.data),updateMask:Wl(e.fieldMask)};else{if(!(e instanceof qh))return Pu();n={verify:Cl(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof gh)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof vh)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof bh)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ah)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Pu()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Al(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Pu()}(t,e.precondition)),n}function Rl(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?kh.updateTime(Il(t.updateTime)):void 0!==t.exists?kh.exists(t.exists):kh.none()}(e.currentDocument):kh.none(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)Ru("REQUEST_TIME"===e.setToServerValue),n=new gh;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new vh(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new bh(i)}else"increment"in e?n=new Ah(t,e.increment):Pu();var o=Yu.fromServerFormat(e.fieldPath);return new Th(o,n)}(t,e)})):[];if(e.update){e.update.name;var i=kl(t,e.update.name),o=new Ec({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){var e=t.fieldPaths||[];return new Xu(e.map((function(t){return Yu.fromServerFormat(t)})))}(e.updateMask);return new Lh(i,o,a,n,r)}return new Rh(i,o,n,r)}if(e.delete){var s=kl(t,e.delete);return new Vh(s,n)}if(e.verify){var u=kl(t,e.verify);return new qh(u,n)}return Pu()}function Ll(t,e){return{documents:[Sl(t,e.path)]}}function Ml(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Sl(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Sl(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(wc(t.value))return{unaryFilter:{field:zl(t.field),op:"IS_NAN"}};if(bc(t.value))return{unaryFilter:{field:zl(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(wc(t.value))return{unaryFilter:{field:zl(t.field),op:"IS_NOT_NAN"}};if(bc(t.value))return{unaryFilter:{field:zl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zl(t.field),op:ql(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:zl(t.field),direction:Vl(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.I||oc(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=Fl(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Fl(e.endAt)),n}function Bl(t){var e=_l(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ru(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=jl(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return function(t){return new qc(Hl(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return oc(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Ul(n.startAt));var h=null;return n.endAt&&(h=Ul(n.endAt)),Wc(e,i,s,a,u,"F",c,h)}function jl(t){return t?void 0!==t.unaryFilter?[Gl(t)]:void 0!==t.fieldFilter?[Kl(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return jl(t)})).reduce((function(t,e){return t.concat(e)})):Pu():[]}function Fl(t){return{before:t.before,values:t.position}}function Ul(t){var e=!!t.before,n=t.values||[];return new Uc(n,e)}function Vl(t){return gl[t]}function ql(t){return vl[t]}function zl(t){return{fieldPath:t.canonicalString()}}function Hl(t){return Yu.fromServerFormat(t.fieldPath)}function Kl(t){return xc.create(Hl(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Pu()}}(t.fieldFilter.op),t.fieldFilter.value)}function Gl(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Hl(t.unaryFilter.field);return xc.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Hl(t.unaryFilter.field);return xc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Hl(t.unaryFilter.field);return xc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Hl(t.unaryFilter.field);return xc.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Pu()}}function Wl(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function Ql(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Yl(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=$l(e)),e=Xl(t.get(n),e);return $l(e)}function Xl(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function $l(t){return t+""}function Jl(t){var e=t.length;if(Ru(e>=2),2===e)return Ru(""===t.charAt(0)&&""===t.charAt(1)),Wu.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("",o);switch((a<0||a>n)&&Pu(),t.charAt(a+1)){case"":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"":i+=t.substring(o,a),i+="\0";break;case"":i+=t.substring(o,a+1);break;default:Pu()}o=a+2}return new Wu(r)}var Zl=function(t,e){this.seconds=t,this.nanoseconds=e},tf=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};tf.store="owner",tf.key="owner";var ef=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};ef.store="mutationQueues",ef.keyPath="userId";var nf=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};nf.store="mutations",nf.keyPath="batchId",nf.userMutationsIndex="userMutationsIndex",nf.userMutationsKeyPath=["userId","batchId"];var rf=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Yl(e)]},t.key=function(t,e,n){return[t,Yl(e),n]},t}();rf.store="documentMutations",rf.PLACEHOLDER=new rf;var of=function(t,e){this.path=t,this.readTime=e},af=function(t,e){this.path=t,this.version=e},sf=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};sf.store="remoteDocuments",sf.readTimeIndex="readTimeIndex",sf.readTimeIndexPath="readTime",sf.collectionReadTimeIndex="collectionReadTimeIndex",sf.collectionReadTimeIndexPath=["parentPath","readTime"];var uf=function(t){this.byteSize=t};uf.store="remoteDocumentGlobal",uf.key="remoteDocumentGlobalKey";var cf=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};cf.store="targets",cf.keyPath="targetId",cf.queryTargetsIndexName="queryTargetsIndex",cf.queryTargetsKeyPath=["canonicalId","targetId"];var hf=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};hf.store="targetDocuments",hf.keyPath=["targetId","path"],hf.documentTargetsIndex="documentTargetsIndex",hf.documentTargetsKeyPath=["path","targetId"];var lf=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};lf.key="targetGlobalKey",lf.store="targetGlobal";var ff=function(t,e){this.collectionId=t,this.parent=e};ff.store="collectionParents",ff.keyPath=["collectionId","parent"];var df=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};df.store="clientMetadata",df.keyPath="clientId";var pf=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};pf.store="bundles",pf.keyPath="bundleId";var mf=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};mf.store="namedQueries",mf.keyPath="name";var gf=hi(hi([],hi(hi([],hi(hi([],hi(hi([],[ef.store,nf.store,rf.store,sf.store,cf.store,tf.store,lf.store,hf.store]),[df.store])),[uf.store])),[ff.store])),[pf.store,mf.store]),vf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",yf=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),bf=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},wf=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Pu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),Af=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new bf,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Tf(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Nf(e.target.error);n.ft.reject(new Tf(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Tf(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Nu("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new kf(e)},t}(),If=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(qe())&&Du("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Nu("SimpleDb","Removing database:",t),Sf(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=qe(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return ui(this,void 0,void 0,(function(){var e,n=this;return ci(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Nu("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Tf(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new ku(Cu.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new Tf(t,n))},i.onupgradeneeded=function(t){Nu("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.wt.Rt(e,i.transaction,t.oldVersion,n.version).next((function(){Nu("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return ui(this,void 0,void 0,(function(){var i,o,a,s,u;return ci(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,a=function(){var e,a,u,c,h;return ci(this,(function(l){switch(l.label){case 0:++o,l.label=1;case 1:return l.trys.push([1,4,,5]),[4,s.At(t)];case 2:return s.db=l.sent(),e=Af.open(s.db,t,i?"readonly":"readwrite",n),a=r(e).catch((function(t){return e.abort(t),wf.reject(t)})).toPromise(),u={},a.catch((function(){})),[4,e.dt];case 3:return[2,(u.value=(l.sent(),a),u)];case 4:return c=l.sent(),h="FirebaseError"!==c.name&&o<3,Nu("SimpleDb","Transaction failed with error:",c.message,"Retrying:",h),s.close(),h?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Ef=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Sf(this.Pt.delete())},t}(),Tf=function(t){function e(e,n){var r=this;return(r=t.call(this,Cu.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return si(e,t),e}(ku);function Cf(t){return"IndexedDbTransactionError"===t.name}var kf=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Nu("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Nu("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Sf(n)},t.prototype.add=function(t){return Nu("SimpleDb","ADD",this.store.name,t,t),Sf(this.store.add(t))},t.prototype.get=function(t){var e=this;return Sf(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Nu("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Nu("SimpleDb","DELETE",this.store.name,t),Sf(this.store.delete(t))},t.prototype.count=function(){return Nu("SimpleDb","COUNT",this.store.name),Sf(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Ft=function(t,e){Nu("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new wf((function(n,r){e.onerror=function(t){var e=Nf(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new wf((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Ef(i),a=e(i.primaryKey,i.value,o);if(a instanceof wf){var s=a.catch((function(t){return o.done(),wf.reject(t)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return wf.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Sf(t){return new wf((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=Nf(t.target.error);n(e)}}))}var _f=!1;function Nf(t){var e=If._t(qe());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new ku("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return _f||(_f=!0,setTimeout((function(){throw r}),0)),r}}return t}var Df=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return si(e,t),e}(yf);function xf(t,e){var n=Lu(t);return If.It(n.Mt,e)}var Of=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Nh(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&Dh(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&Dh(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(qu.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),il())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Fu(this.mutations,t.mutations,(function(t,e){return Oh(t,e)}))&&Fu(this.baseMutations,t.baseMutations,(function(t,e){return Oh(t,e)}))},t}(),Pf=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Ru(e.mutations.length===r.length);for(var i=nl(),o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),Rf=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=qu.min()),void 0===o&&(o=qu.min()),void 0===a&&(a=$u.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Lf=function(t){this.Lt=t};function Mf(t,e){if(e.document)return Ol(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=uc.fromSegments(e.noDocument.path),r=Vf(e.noDocument.readTime),i=Cc.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=uc.fromSegments(e.unknownDocument.path);return r=Vf(e.unknownDocument.version),Cc.newUnknownDocument(o,r)}return Pu()}function Bf(t,e,n){var r=jf(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:Cl(t,e.key),fields:e.data.value.mapValue.fields,updateTime:bl(t,e.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new sf(null,null,o,a,r,i)}if(e.isNoDocument()){var s=e.key.path.toArray(),u=Uf(e.version);return a=e.hasCommittedMutations,new sf(null,new of(s,u),null,a,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),h=Uf(e.version);return new sf(new af(c,h),null,null,!0,r,i)}return Pu()}function jf(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Ff(t){var e=new Vu(t[0],t[1]);return qu.fromTimestamp(e)}function Uf(t){var e=t.toTimestamp();return new Zl(e.seconds,e.nanoseconds)}function Vf(t){var e=new Vu(t.seconds,t.nanoseconds);return qu.fromTimestamp(e)}function qf(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Rl(t.Lt,e)})),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var a=e.mutations.map((function(e){return Rl(t.Lt,e)})),s=Vu.fromMillis(e.localWriteTimeMs);return new Of(e.batchId,s,n,a)}function zf(t){var e,n,r=Vf(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Vf(t.lastLimboFreeSnapshotVersion):qu.min();return void 0!==t.query.documents?(Ru(1===(n=t.query).documents.length),e=eh(Qc(_l(n.documents[0])))):e=function(t){return eh(Bl(t))}(t.query),new Rf(e,t.targetId,0,t.lastListenSequenceNumber,r,i,$u.fromBase64String(t.resumeToken))}function Hf(t,e){var n,r=Uf(e.snapshotVersion),i=Uf(e.lastLimboFreeSnapshotVersion);n=Dc(e.target)?Ll(t.Lt,e.target):Ml(t.Lt,e.target);var o=e.resumeToken.toBase64();return new cf(e.targetId,_c(e.target),r,o,e.sequenceNumber,i,n)}function Kf(t){var e=Bl({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?nh(e,e.limit,"L"):e}var Gf=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Wf(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Vf(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return Wf(t).put({bundleId:(n=e).id,createTime:Uf(Il(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Qf(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Kf(e.bundledQuery),readTime:Vf(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return Qf(t).put(function(t){return{name:t.name,readTime:Uf(Il(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Wf(t){return xf(t,pf.store)}function Qf(t){return xf(t,mf.store)}var Yf=function(){function t(){this.Bt=new Xf}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),wf.resolve()},t.prototype.getCollectionParents=function(t,e){return wf.resolve(this.Bt.getEntries(e))},t}(),Xf=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Yh(Wu.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Yh(Wu.comparator)).toArray()},t}(),$f=function(){function t(){this.qt=new Xf}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:r,parent:Yl(i)};return Jf(t).put(o)}return wf.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Uu(e),""],!1,!0);return Jf(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Jl(o.parent))}return n}))},t}();function Jf(t){return xf(t,ff.store)}var Zf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},td=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function ed(t,e,n){var r=t.store(nf.store),i=t.store(rf.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},(function(t,e,n){return s++,n.delete()}));o.push(u.next((function(){Ru(1===s)})));for(var c=[],h=0,l=n.mutations;h<l.length;h++){var f=l[h],d=rf.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return wf.waitFor(o).next((function(){return c}))}function nd(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Pu();e=t.noDocument}return JSON.stringify(e).length}td.DEFAULT_COLLECTION_PERCENTILE=10,td.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,td.DEFAULT=new td(41943040,td.DEFAULT_COLLECTION_PERCENTILE,td.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),td.DISABLED=new td(-1,0,0);var rd=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return Ru(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return od(t).$t({index:nf.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=ad(t),a=od(t);return a.add({}).next((function(s){Ru("number"==typeof s);for(var u=new Of(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Pl(t.Lt,e)})),i=n.mutations.map((function(e){return Pl(t.Lt,e)}));return new nf(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),h=[],l=new Yh((function(t,e){return ju(t.canonicalString(),e.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],m=rf.key(i.userId,p.key.path,s);l=l.add(p.key.path.popLast()),h.push(a.put(c)),h.push(o.put(m,rf.PLACEHOLDER))}return l.forEach((function(e){h.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Kt[s]=u.keys()})),wf.waitFor(h).next((function(){return u}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return od(t).get(e).next((function(t){return t?(Ru(t.userId===n.userId),qf(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?wf.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return od(t).$t({index:nf.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Ru(e.batchId>=r),o=qf(n.R,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return od(t).$t({index:nf.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return od(t).Nt(nf.userMutationsIndex,n).next((function(t){return t.map((function(t){return qf(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=rf.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return ad(t).$t({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],h=Jl(u);if(s===n.userId&&e.path.isEqual(h))return od(t).get(c).next((function(t){if(!t)throw Pu();Ru(t.userId===n.userId),o.push(qf(n.R,t))}));a.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Yh(ju),i=[];return e.forEach((function(e){var o=rf.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=ad(t).$t({range:a},(function(t,i,o){var a=t[0],s=t[1],u=t[2],c=Jl(s);a===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),wf.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=rf.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Yh(ju);return ad(t).$t({range:a},(function(t,e,o){var a=t[0],u=t[1],c=t[2],h=Jl(u);a===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(t,s)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(od(t).get(e).next((function(t){if(null===t)throw Pu();Ru(t.userId===n.userId),r.push(qf(n.R,t))})))})),wf.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return ed(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),wf.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return wf.resolve();var r=IDBKeyRange.lowerBound(rf.prefixForUser(e.userId)),i=[];return ad(t).$t({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Jl(t[1]);i.push(o)}else r.done()})).next((function(){Ru(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return id(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return sd(t).get(this.userId).next((function(t){return t||new ef(e.userId,-1,"")}))},t}();function id(t,e,n){var r=rf.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return ad(t).$t({range:o,kt:!0},(function(t,n,r){var o=t[0],s=t[1];t[2],o===e&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function od(t){return xf(t,nf.store)}function ad(t){return xf(t,rf.store)}function sd(t){return xf(t,ef.store)}var ud=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),cd=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new ud(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return qu.fromTimestamp(new Vu(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return hd(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return Ru(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return hd(t).$t((function(a,s){var u=zf(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))})).next((function(){return wf.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return hd(t).$t((function(t,n){var r=zf(n);e(r)}))},t.prototype.Xt=function(t){return ld(t).get(lf.key).next((function(t){return Ru(null!==t),t}))},t.prototype.Zt=function(t,e){return ld(t).put(lf.key,e)},t.prototype.te=function(t,e){return hd(t).put(Hf(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=_c(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return hd(t).$t({range:r,index:cf.queryTargetsIndexName},(function(t,n,r){var o=zf(n);Nc(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=fd(t);return e.forEach((function(e){var a=Yl(e.path);i.push(o.put(new hf(n,a))),i.push(r.referenceDelegate.addReference(t,n,e))})),wf.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=fd(t);return wf.forEach(e,(function(e){var o=Yl(e.path);return wf.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=fd(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=fd(t),i=il();return r.$t({range:n,kt:!0},(function(t,e,n){var r=Jl(t[1]),o=new uc(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=Yl(e.path),r=IDBKeyRange.bound([n],[Uu(n)],!1,!0),i=0;return fd(t).$t({index:hf.documentTargetsIndex,kt:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return hd(t).get(e).next((function(t){return t?zf(t):null}))},t}();function hd(t){return xf(t,cf.store)}function ld(t){return xf(t,lf.store)}function fd(t){return xf(t,hf.store)}function dd(t){return ui(this,void 0,void 0,(function(){return ci(this,(function(e){if(t.code!==Cu.FAILED_PRECONDITION||t.message!==vf)throw t;return Nu("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function pd(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=ju(n,i);return 0===a?ju(r,o):a}var md=function(){function t(t){this.ne=t,this.buffer=new Yh(pd),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();pd(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),gd=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Nu("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return ui(e,void 0,void 0,(function(){var e;return ci(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Cf(e=n.sent())?(Nu("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,dd(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),vd=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return wf.resolve(Tu.o);var r=new md(e);return this.ae.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Nu("LruGarbageCollector","Garbage collection skipped; disabled"),wf.resolve(Zf)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Nu("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Zf):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,a,s,u,c=this,h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>c.params.maximumSequenceNumbersToCollect?(Nu("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(t,n,e)})).next((function(e){return i=e,s=Date.now(),c.removeOrphanedDocuments(t,n)})).next((function(t){return u=Date.now(),_u()<=pn.DEBUG&&Nu("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-h)+"ms"),wf.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),yd=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new vd(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return bd(t,n)},t.prototype.removeReference=function(t,e,n){return bd(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return bd(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return sd(t).Ot((function(r){return id(t,r,e).next((function(t){return t&&(n=!0),wf.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,(function(a,s){if(s<=e){var u=n._e(t,a).next((function(e){if(!e)return o++,r.getEntry(t,a).next((function(){return r.removeEntry(a),fd(t).delete([0,Yl(a.path)])}))}));i.push(u)}})).next((function(){return wf.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return bd(t,e)},t.prototype.we=function(t,e){var n,r=fd(t),i=Tu.o;return r.$t({index:hf.documentTargetsIndex},(function(t,r){var o=t[0];t[1];var a=r.path,s=r.sequenceNumber;0===o?(i!==Tu.o&&e(new uc(Jl(n)),i),i=s,n=a):i=Tu.o})).next((function(){i!==Tu.o&&e(new uc(Jl(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function bd(t,e){return fd(t).put(function(t,e){return new hf(0,Yl(t.path),e)}(e,t.currentSequenceNumber))}var wd=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Hu(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];t(a,s)}}))},t.prototype.isEmpty=function(){return Ku(this.inner)},t}(),Ad=function(){function t(){this.changes=new wd((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:qu.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Cc.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?wf.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Id=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Cd(t).put(kd(e),n)},t.prototype.removeEntry=function(t,e){var n=Cd(t),r=kd(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return Cd(t).get(kd(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return Cd(t).get(kd(e)).next((function(t){return{document:n.ye(e,t),size:nd(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=Jh();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=Jh(),i=new Gh(uc.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,nd(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return wf.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Cd(t).$t({range:r},(function(t,e,r){for(var a=uc.fromSegments(t);o&&uc.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Jh(),o=e.path.length+1,a={};if(n.isEqual(qu.min())){var s=e.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.toArray(),c=jf(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=sf.collectionReadTimeIndex}return Cd(t).$t(a,(function(t,n,a){if(t.length===o){var s=Mf(r.R,n);e.path.isPrefixOf(s.key.path)?ah(e,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new Ed(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Td(t).get(uf.key).next((function(t){return Ru(!!t),t}))},t.prototype.me=function(t,e){return Td(t).put(uf.key,e)},t.prototype.ye=function(t,e){if(e){var n=Mf(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(qu.min()))return n}return Cc.newInvalidDocument(t)},t}(),Ed=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new wd((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return si(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Yh((function(t,e){return ju(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,a){var s=e.Ae.get(o);if(a.document.isValidDocument()){var u=Bf(e.Ie.R,a.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=nd(u);r+=c-s,n.push(e.Ie.addEntry(t,o,u))}else if(r-=s,e.trackRemovals){var h=Bf(e.Ie.R,Cc.newNoDocument(o,qu.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,h))}else n.push(e.Ie.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),wf.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(Ad);function Td(t){return xf(t,uf.store)}function Cd(t){return xf(t,sf.store)}function kd(t){return t.path.toArray()}var Sd=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Ru(n<r&&n>=0&&r<=11);var o=new Af("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(tf.store)}(t),function(t){t.createObjectStore(ef.store,{keyPath:ef.keyPath}),t.createObjectStore(nf.store,{keyPath:nf.keyPath,autoIncrement:!0}).createIndex(nf.userMutationsIndex,nf.userMutationsKeyPath,{unique:!0}),t.createObjectStore(rf.store)}(t),_d(t),function(t){t.createObjectStore(sf.store)}(t));var a=wf.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(hf.store),t.deleteObjectStore(cf.store),t.deleteObjectStore(lf.store)}(t),_d(t)),a=a.next((function(){return function(t){var e=t.store(lf.store),n=new lf(0,0,qu.min().toTimestamp(),0);return e.put(lf.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(nf.store).Nt().next((function(n){t.deleteObjectStore(nf.store),t.createObjectStore(nf.store,{keyPath:nf.keyPath,autoIncrement:!0}).createIndex(nf.userMutationsIndex,nf.userMutationsKeyPath,{unique:!0});var r=e.store(nf.store),i=n.map((function(t){return r.put(t)}));return wf.waitFor(i)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(df.store,{keyPath:df.keyPath})}(t)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(t){t.createObjectStore(uf.store)}(t),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(t,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(sf.store);e.createIndex(sf.readTimeIndex,sf.readTimeIndexPath,{unique:!1}),e.createIndex(sf.collectionReadTimeIndex,sf.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(t){t.createObjectStore(pf.store,{keyPath:pf.keyPath})}(t),function(t){t.createObjectStore(mf.store,{keyPath:mf.keyPath})}(t)}))),a},t.prototype.be=function(t){var e=0;return t.store(sf.store).$t((function(t,n){e+=nd(n)})).next((function(){var n=new uf(e);return t.store(uf.store).put(uf.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(ef.store),r=t.store(nf.store);return n.Nt().next((function(n){return wf.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(nf.userMutationsIndex,i).next((function(r){return wf.forEach(r,(function(r){Ru(r.userId===n.userId);var i=qf(e.R,r);return ed(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(hf.store),n=t.store(sf.store);return t.store(lf.store).get(lf.key).next((function(t){var r=[];return n.$t((function(n,i){var o=new Wu(n),a=function(t){return[0,Yl(t)]}(o);r.push(e.get(a).next((function(n){return n?wf.resolve():function(n){return e.put(new hf(0,Yl(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return wf.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(ff.store,{keyPath:ff.keyPath});var n=e.store(ff.store),r=new Xf,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Yl(i)})}};return e.store(sf.store).$t({kt:!0},(function(t,e){var n=new Wu(t);return i(n.popLast())})).next((function(){return e.store(rf.store).$t({kt:!0},(function(t,e){t[0];var n=t[1];t[2];var r=Jl(n);return i(r.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(cf.store);return n.$t((function(t,r){var i=zf(r),o=Hf(e.R,i);return n.put(o)}))},t}();function _d(t){t.createObjectStore(hf.store,{keyPath:hf.keyPath}).createIndex(hf.documentTargetsIndex,hf.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(cf.store,{keyPath:cf.keyPath}).createIndex(cf.queryTargetsIndexName,cf.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(lf.store)}var Nd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Dd=function(){function t(e,n,r,i,o,a,s,u,c,h){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=h,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new ku(Cu.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new yd(this,i),this.Le=n+"main",this.R=new Lf(u),this.Be=new If(this.Le,11,new Sd(this.R)),this.qe=new cd(this.referenceDelegate,this.R),this.Ut=new $f,this.Ue=function(t,e){return new Id(t,e)}(this.R,this.Ut),this.Ke=new Gf,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===h&&Du("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new ku(Cu.FAILED_PRECONDITION,Nd);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new Tu(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return ui(e,void 0,void 0,(function(){return ci(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return ui(e,void 0,void 0,(function(){return ci(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return ui(e,void 0,void 0,(function(){return ci(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Od(e).put(new df(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(Cf(e))return Nu("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Nu("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return xd(t).get(tf.key).next((function(t){return wf.resolve(e.tn(t))}))},t.prototype.en=function(t){return Od(t).delete(this.clientId)},t.prototype.nn=function(){return ui(this,void 0,void 0,(function(){var t,e,n,r,i=this;return ci(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=xf(t,df.store);return e.Nt().next((function(t){var n=i.rn(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return wf.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)r=n[e],this.Qe.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?wf.resolve(!0):xd(t).get(tf.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new ku(Cu.FAILED_PRECONDITION,Nd);return!1}}return!(!e.networkEnabled||!e.inForeground)||Od(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&Nu("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return ui(this,void 0,void 0,(function(){var t=this;return ci(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[tf.store,df.store],(function(e){var n=new Df(e,Tu.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Od(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return rd.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;Nu("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.Be.runTransaction(t,o,gf,(function(o){return i=new Df(o,r.Ne?r.Ne.next():Tu.o),"readwrite-primary"===e?r.Je(i).next((function(t){return!!t||r.Ye(i)})).next((function(e){if(!e)throw Du("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new ku(Cu.FAILED_PRECONDITION,vf);return n(i)})).next((function(t){return r.Ze(i).next((function(){return t}))})):r.dn(i).next((function(){return n(i)}))})).then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return xd(t).get(tf.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new ku(Cu.FAILED_PRECONDITION,Nd)}))},t.prototype.Ze=function(t){var e=new tf(this.clientId,this.allowTabSynchronization,Date.now());return xd(t).put(tf.key,e)},t.yt=function(){return If.yt()},t.prototype.Xe=function(t){var e=this,n=xd(t);return n.get(tf.key).next((function(t){return e.tn(t)?(Nu("IndexedDbPersistence","Releasing primary lease."),n.delete(tf.key)):wf.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Du("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),!ze()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return Nu("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Du("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Du("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function xd(t){return xf(t,tf.store)}function Od(t){return xf(t,df.store)}function Pd(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Rd=function(t,e){this.progress=t,this.wn=e},Ld=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return uc.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Zc(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new uc(e)).next((function(t){var e=tl();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=tl();return this.Ut.getCollectionParents(t,i).next((function(a){return wf.forEach(a,(function(a){var s=function(t,e){return new Gc(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.An(t,s,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return i=e,o.Rn(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,h=r.get(c);null==h&&(h=Cc.newInvalidDocument(c),r=r.insert(c,h)),Dh(u,h,o.localWriteTime),h.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(t,n){ah(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=il(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Lh&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))})),c}))},t}(),Md=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=il(),i=il(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Bd=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(qu.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(o){var a=i.Cn(e,o);return(Yc(e)||Xc(e))&&i.Nn(e.limitType,a,r,n)?i.Dn(t,e):(_u()<=pn.DEBUG&&Nu("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),oh(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return a.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new Yh(sh(t));return e.forEach((function(e,r){ah(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return _u()<=pn.DEBUG&&Nu("QueryEngine","Using full collection scan to execute query:",oh(e)),this.Sn.getDocumentsMatchingQuery(t,e,qu.min())},t}(),jd=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new Gh(ju),this.kn=new wd((function(t){return _c(t)}),Nc),this.$n=qu.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Ld(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.Fn)}))},t}();function Fd(t,e,n,r){return new jd(t,e,n,r)}function Ud(t,e){return ui(this,void 0,void 0,(function(){var n,r,i,o;return ci(this,(function(a){switch(a.label){case 0:return n=Lu(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n._n.getAllMutationBatches(t).next((function(a){return o=a,r=n.persistence.getMutationQueue(e),i=new Ld(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],a=il(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var h=0,l=c.mutations;h<l.length;h++){var f=l[h];a=a.add(f.key)}}for(var d=0,p=e;d<p.length;d++){var m=p[d];r.push(m.batchId);for(var g=0,v=m.mutations;g<v.length;g++){var y=v[g];a=a.add(y.key)}}return i.pn(t,a).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Vd(t,e){var n=Lu(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=wf.resolve();return o.forEach((function(t){a=a.next((function(){return r.getEntry(e,t)})).next((function(e){var o=n.docVersions.get(t);Ru(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))}))})),a.next((function(){return t._n.removeMutationBatch(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}function qd(t){var e=Lu(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function zd(t,e){var n=Lu(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];e.targetChanges.forEach((function(e,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return Ru(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,e)&&a.push(n.qe.updateTargetData(t,c))}}}));var s=Jh();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),a.push(Hd(t,o,e.documentUpdates,r,void 0).next((function(t){s=t}))),!r.isEqual(qu.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));a.push(u)}return wf.waitFor(a).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,s)})).next((function(){return s}))})).then((function(t){return n.Fn=i,t}))}function Hd(t,e,n,r,i){var o=il();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=Jh();return n.forEach((function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(qu.min())?(e.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(a,u),o=o.insert(n,a)):Nu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function Kd(t,e){var n=Lu(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function Gd(t,e){var n=Lu(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?(r=i,wf.resolve(r)):n.qe.allocateTargetId(t).next((function(i){return r=new Rf(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t}))}function Wd(t,e,n){return ui(this,void 0,void 0,(function(){var r,i,o,a;return ci(this,(function(s){switch(s.label){case 0:r=Lu(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.referenceDelegate.removeTarget(t,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!Cf(a=s.sent()))throw a;return Nu("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}}))}))}function Qd(t,e,n){var r=Lu(t),i=qu.min(),o=il();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=Lu(t),i=r.kn.get(n);return void 0!==i?wf.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,eh(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:qu.min(),n?o:il())})).next((function(t){return{documents:t,Bn:o}}))}))}function Yd(t,e){var n=Lu(t),r=Lu(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function Xd(t){var e=Lu(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=Lu(t),i=Jh(),o=jf(n),a=Cd(e),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:sf.readTimeIndex,range:s},(function(t,e){var n=Mf(r.R,e);i=i.insert(n.key,n),o=e.readTime})).next((function(){return{wn:i,readTime:Ff(o)}}))}(e.On,t,e.$n)})).then((function(t){var n=t.wn,r=t.readTime;return e.$n=r,n}))}function $d(t){return ui(this,void 0,void 0,(function(){var e;return ci(this,(function(n){return[2,(e=Lu(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Cd(t),n=qu.min();return e.$t({index:sf.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Ff(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.$n=t}))]}))}))}function Jd(t,e,n,r){return ui(this,void 0,void 0,(function(){var i,o,a,s,u,c,h,l,f,d;return ci(this,(function(p){switch(p.label){case 0:for(i=Lu(t),o=il(),a=Jh(),s=nl(),u=0,c=n;u<c.length;u++)h=c[u],l=e.qn(h.metadata.name),h.document&&(o=o.add(l)),a=a.insert(l,e.Un(h)),s=s.insert(l,e.Kn(h.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,Gd(i,function(t){return eh(Qc(Wu.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return Hd(t,f,a,qu.min(),s).next((function(e){return f.apply(t),e})).next((function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next((function(){return i.qe.addMatchingKeys(t,o,d.targetId)})).next((function(){return i.Mn.En(t,e)})).next((function(){return e}))}))}))]}}))}))}function Zd(t,e,n){return void 0===n&&(n=il()),ui(this,void 0,void 0,(function(){var r,i;return ci(this,(function(o){switch(o.label){case 0:return[4,Gd(t,eh(Kf(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Lu(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=Il(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(t,e);var a=r.withResumeToken($u.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(a.targetId,a),i.qe.updateTargetData(t,a).next((function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)})).next((function(){return i.qe.addMatchingKeys(t,n,r.targetId)})).next((function(){return i.Ke.saveNamedQuery(t,e)}))}))]}}))}))}var tp=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return wf.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:Il(n.createTime)}),wf.resolve()},t.prototype.getNamedQuery=function(t,e){return wf.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Kf(t.bundledQuery),readTime:Il(t.readTime)}}(e)),wf.resolve()},t}(),ep=function(){function t(){this.Wn=new Yh(np.Gn),this.zn=new Yh(np.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new np(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new np(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new uc(new Wu([])),r=new np(n,t),i=new np(n,t+1),o=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new uc(new Wu([])),n=new np(e,t),r=new np(e,t+1),i=il();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new np(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),np=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return uc.comparator(t.key,e.key)||ju(t.ns,e.ns)},t.Hn=function(t,e){return ju(t.ns,e.ns)||uc.comparator(t.key,e.key)},t}(),rp=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Yh(np.Gn)}return t.prototype.checkEmpty=function(t){return wf.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new Of(i,e,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new np(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return wf.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return wf.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,r=this.cs(n),i=r<0?0:r;return wf.resolve(this._n.length>i?this._n[i]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return wf.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return wf.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new np(e,0),i=new np(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);o.push(e)})),wf.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Yh(ju);return e.forEach((function(t){var e=new np(t,0),i=new np(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),wf.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;uc.isDocumentKey(i)||(i=i.child(""));var o=new np(new uc(i),0),a=new Yh(ju);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.ns)),!0)}),o),wf.resolve(this.us(a))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Ru(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return wf.forEach(e.mutations,(function(i){var o=new np(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new np(e,0),r=this.rs.firstAfterOrEqual(n);return wf.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return this._n.length,wf.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),ip=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Gh(uc.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return wf.resolve(n?n.document.clone():Cc.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Jh();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Cc.newInvalidDocument(t))})),wf.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Jh(),i=new uc(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,h=u.readTime;if(!e.path.isPrefixOf(s.path))break;h.compareTo(n)<=0||ah(e,c)&&(r=r.insert(c.key,c.clone()))}return wf.resolve(r)},t.prototype.fs=function(t,e){return wf.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new op(this)},t.prototype.getSize=function(t){return wf.resolve(this.size)},t}(),op=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return si(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),wf.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(Ad),ap=function(){function t(t){this.persistence=t,this.ds=new wd((function(t){return _c(t)}),Nc),this.lastRemoteSnapshotVersion=qu.min(),this.highestTargetId=0,this.ws=0,this._s=new ep,this.targetCount=0,this.ys=ud.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),wf.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return wf.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return wf.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),wf.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),wf.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new ud(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,wf.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),wf.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,wf.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)})),wf.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return wf.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return wf.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),wf.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),wf.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),wf.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return wf.resolve(n)},t.prototype.containsKey=function(t,e){return wf.resolve(this._s.containsKey(e))},t}(),sp=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Tu(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new ap(this),this.Ut=new Yf,this.Ue=function(t,e){return new ip(t,(function(t){return n.referenceDelegate.ps(t)}))}(this.Ut),this.R=new Lf(e),this.Ke=new tp(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new rp(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;Nu("MemoryPersistence","Starting transaction:",t);var i=new up(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return wf.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),up=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return si(e,t),e}(yf),cp=function(){function t(t){this.persistence=t,this.As=new ep,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Pu()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),wf.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),wf.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),wf.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return wf.forEach(this.vs,(function(r){var i=uc.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return wf.or([function(){return wf.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),hp=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function lp(t,e){return"firestore_clients_"+t+"_"+e}function fp(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function dp(t,e){return"firestore_targets_"+t+"_"+e}hp.UNAUTHENTICATED=new hp(null),hp.GOOGLE_CREDENTIALS=new hp("google-credentials-uid"),hp.FIRST_PARTY=new hp("first-party-uid");var pp=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new ku(o.error.code,o.error.message)),a?new t(e,n,o.state,i):(Du("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),mp=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new ku(i.error.code,i.error.message)),o?new t(e,i.state,r):(Du("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),gp=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=al(),a=0;i&&a<r.activeTargetIds.length;++a)i=sc(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(Du("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),vp=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Du("SharedClientState","Failed to parse online state: "+e),null)},t}(),yp=function(){function t(){this.activeTargetIds=al()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),bp=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Gh(ju),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=lp(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new yp),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return ui(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,s,u,c,h,l=this;return ci(this,(function(f){switch(f.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(lp(this.persistenceKey,r)))&&(o=gp.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.$s;u<c.length;u++)h=c[u],this.Fs(h);return this.$s=[],this.window.addEventListener("pagehide",(function(){return l.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(dp(this.persistenceKey,t));if(n){var r=mp.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(dp(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Nu("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Nu("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Nu("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Nu("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Du("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return ui(e,void 0,void 0,(function(){var t,e,r,i,o,a;return ci(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(t){var e=Tu.o;if(null!=t)try{var n=JSON.parse(t);Ru("number"==typeof n),e=n}catch(t){Du("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Tu.o&&this.sequenceNumberHandler(a);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new pp(this.currentUser,t,e,n),i=fp(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=fp(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){var e={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(e))},t.prototype.Ys=function(t,e,n){var r=dp(this.persistenceKey,t),i=new mp(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return gp.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return pp.Vs(new hp(i),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return mp.Vs(r,e)},t.prototype.js=function(t){return vp.Vs(t)},t.prototype.ii=function(t){return ui(this,void 0,void 0,(function(){return ci(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Nu("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this.syncEngine.hi(a,s).then((function(){n.ks=r}))},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=al();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),wp=function(){function t(){this.li=new yp,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new yp,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Ap=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),Ip=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Nu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Nu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Ep={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Tp=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Cp=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return si(e,t),e.prototype.ki=function(t,e,n,r){return new Promise((function(i,o){var a=new Eu;a.listenOnce(vu.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case gu.NO_ERROR:var e=a.getResponseJson();Nu("Connection","XHR received:",JSON.stringify(e)),i(e);break;case gu.TIMEOUT:Nu("Connection",'RPC "'+t+'" timed out'),o(new ku(Cu.DEADLINE_EXCEEDED,"Request time out"));break;case gu.HTTP_ERROR:var n=a.getStatus();if(Nu("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Cu).indexOf(e)>=0?e:Cu.UNKNOWN}(r.status);o(new ku(s,r.message))}else o(new ku(Cu.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new ku(Cu.UNAVAILABLE,"Connection failed."));break;default:Pu()}}finally{Nu("Connection",'RPC "'+t+'" completed.')}}));var s=JSON.stringify(r);a.send(e,"POST",s,n,15)}))},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new lu,i=ia(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Au({})),this.Fi(o.initMessageHeaders,e),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qe())||"object"==typeof navigator&&"ReactNative"===navigator.product||qe().indexOf("Electron/")>=0||function(){var t=qe();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||qe().indexOf("MSAppHost/")>=0||He()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");Nu("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,h=new Tp({Ei:function(t){c?Nu("Connection","Not sending because WebChannel is closed:",t):(u||(Nu("Connection","Opening WebChannel transport."),s.open(),u=!0),Nu("Connection","WebChannel sending:",t),s.send(t))},Ti:function(){return s.close()}}),l=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return l(s,Iu.EventType.OPEN,(function(){c||Nu("Connection","WebChannel transport opened.")})),l(s,Iu.EventType.CLOSE,(function(){c||(c=!0,Nu("Connection","WebChannel transport closed"),h.Vi())})),l(s,Iu.EventType.ERROR,(function(t){c||(c=!0,xu("Connection","WebChannel transport errored:",t),h.Vi(new ku(Cu.UNAVAILABLE,"The operation could not be completed")))})),l(s,Iu.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];Ru(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){Nu("Connection","WebChannel received error:",i);var o=i.status,a=function(t){var e=Fh[t];if(void 0!==e)return Kh(e)}(o),u=i.message;void 0===a&&(a=Cu.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),c=!0,h.Vi(new ku(a,u)),s.close()}else Nu("Connection","WebChannel received:",n),h.Si(n)}})),l(i,yu.STAT_EVENT,(function(t){t.stat===bu?Nu("Connection","Detected buffering proxy"):t.stat===wu&&Nu("Connection","Detected no buffering proxy")})),setTimeout((function(){h.Pi()}),0),h},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.Di=e+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Nu("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then((function(t){return Nu("RestConnection","Received: ",t),t}),(function(e){throw xu("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.8.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){var n=Ep[t];return this.Di+"/v1/"+e+":"+n},t}());function kp(){return"undefined"!=typeof window?window:null}function Sp(){return"undefined"!=typeof document?document:null}function _p(t){return new yl(t,!0)}var Np=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&Nu("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Ki=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Dp=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Np(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return ui(this,void 0,void 0,(function(){return ci(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return ui(this,void 0,void 0,(function(){return ci(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return ui(this,void 0,void 0,(function(){return ci(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Cu.RESOURCE_EXHAUSTED?(Du(e.toString()),Du("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===Cu.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new ku(Cu.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return ui(t,void 0,void 0,(function(){return ci(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return Nu("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(Nu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),xp=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return si(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Pu()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(Ru(void 0===e||"string"==typeof e),$u.fromBase64String(e||"")):(Ru(void 0===e||e instanceof Uint8Array),$u.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?Cu.UNKNOWN:Kh(t.code);return new ku(e,t.message||"")}(s);n=new ll(r,i,o,a||null)}else if("documentChange"in e){e.documentChange,(r=e.documentChange).document,r.document.name,r.document.updateTime,i=kl(t,r.document.name),o=Il(r.document.updateTime);var s=new Ec({mapValue:{fields:r.document.fields}}),u=(a=Cc.newFoundDocument(i,o,s),r.targetIds||[]),c=r.removedTargetIds||[];n=new cl(u,c,a.key,a)}else if("documentDelete"in e)e.documentDelete,(r=e.documentDelete).document,i=kl(t,r.document),o=r.readTime?Il(r.readTime):qu.min(),s=Cc.newNoDocument(i,o),a=r.removedTargetIds||[],n=new cl([],a,s.key,s);else if("documentRemove"in e)e.documentRemove,(r=e.documentRemove).document,i=kl(t,r.document),o=r.removedTargetIds||[],n=new cl([],o,i,null);else{if(!("filter"in e))return Pu();e.filter;var h=e.filter;h.targetId,r=h.count||0,i=new zh(r),o=h.targetId,n=new hl(o,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return qu.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?qu.min():e.readTime?Il(e.readTime):qu.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Nl(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Dc(r)?{documents:Ll(t,r)}:{query:Ml(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=wl(t,e.resumeToken):e.snapshotVersion.compareTo(qu.min())>0&&(n.readTime=bl(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Pu()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Nl(this.R),e.removeTarget=t,this.cr(e)},e}(Dp),Op=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return si(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(Ru(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Ru(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?Il(t.updateTime):Il(e);return n.isEqual(qu.min())&&(n=Il(e)),new Ch(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Il(t.commitTime);return this.listener.Tr(n,e)}return Ru(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Nl(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Pl(e.R,t)}))};this.cr(n)},e}(Dp),Pp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return si(e,t),e.prototype.br=function(){if(this.Rr)throw new ku(Cu.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===Cu.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new ku(Cu.UNKNOWN,t.toString())}))},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===Cu.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new ku(Cu.UNKNOWN,t.toString())}))},e.prototype.terminate=function(){this.Rr=!0},e}((function(){})),Rp=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Du(e),this.Vr=!1):Nu("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Lp=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(t){n.enqueueAndForget((function(){return ui(o,void 0,void 0,(function(){return ci(this,(function(t){switch(t.label){case 0:return Hp(this)?(Nu("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return ui(this,void 0,void 0,(function(){var e;return ci(this,(function(n){switch(n.label){case 0:return(e=Lu(t)).Or.add(4),[4,Bp(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,Mp(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new Rp(n,r)};function Mp(t){return ui(this,void 0,void 0,(function(){var e,n;return ci(this,(function(r){switch(r.label){case 0:if(!Hp(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Bp(t){return ui(this,void 0,void 0,(function(){var e,n;return ci(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function jp(t,e){var n=Lu(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),zp(n)?qp(n):om(n).er()&&Up(n,e))}function Fp(t,e){var n=Lu(t),r=om(n);n.$r.delete(e),r.er()&&Vp(n,e),0===n.$r.size&&(r.er()?r.ir():Hp(n)&&n.Br.set("Unknown"))}function Up(t,e){t.qr.U(e.targetId),om(t).mr(e)}function Vp(t,e){t.qr.U(e),om(t).yr(e)}function qp(t){t.qr=new dl({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),om(t).start(),t.Br.Sr()}function zp(t){return Hp(t)&&!om(t).tr()&&t.$r.size>0}function Hp(t){return 0===Lu(t).Or.size}function Kp(t){t.qr=void 0}function Gp(t){return ui(this,void 0,void 0,(function(){return ci(this,(function(e){return t.$r.forEach((function(e,n){Up(t,e)})),[2]}))}))}function Wp(t,e){return ui(this,void 0,void 0,(function(){return ci(this,(function(n){return Kp(t),zp(t)?(t.Br.Nr(e),qp(t)):t.Br.set("Unknown"),[2]}))}))}function Qp(t,e,n){return ui(this,void 0,void 0,(function(){var r,i,o;return ci(this,(function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof ll&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return ui(this,void 0,void 0,(function(){var n,r,i,o;return ci(this,(function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],t.$r.has(o)?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),t.$r.delete(o),t.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),Nu("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Yp(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof cl?t.qr.X(e):e instanceof hl?t.qr.rt(e):t.qr.et(e),n.isEqual(qu.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,qd(t.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken($u.EMPTY_BYTE_STRING,n.snapshotVersion)),Vp(t,e);var r=new Rf(n.target,e,1,n.sequenceNumber);Up(t,r)}})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return Nu("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,Yp(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function Yp(t,e,n){return ui(this,void 0,void 0,(function(){var r=this;return ci(this,(function(i){switch(i.label){case 0:if(!Cf(e))throw e;return t.Or.add(1),[4,Bp(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return qd(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return ui(r,void 0,void 0,(function(){return ci(this,(function(e){switch(e.label){case 0:return Nu("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,Mp(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Xp(t,e){return e().catch((function(n){return Yp(t,n,e)}))}function $p(t){return ui(this,void 0,void 0,(function(){var e,n,r,i,o;return ci(this,(function(a){switch(a.label){case 0:e=Lu(t),n=am(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return Hp(t)&&t.kr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Kd(e.localStore,r)];case 3:return null===(i=a.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=am(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,Yp(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return Jp(e)&&Zp(e),[2]}}))}))}function Jp(t){return Hp(t)&&!am(t).tr()&&t.kr.length>0}function Zp(t){am(t).start()}function tm(t){return ui(this,void 0,void 0,(function(){return ci(this,(function(e){return am(t).Ar(),[2]}))}))}function em(t){return ui(this,void 0,void 0,(function(){var e,n,r,i;return ci(this,(function(o){for(e=am(t),n=0,r=t.kr;n<r.length;n++)i=r[n],e.Er(i.mutations);return[2]}))}))}function nm(t,e,n){return ui(this,void 0,void 0,(function(){var r,i;return ci(this,(function(o){switch(o.label){case 0:return r=t.kr.shift(),i=Pf.from(r,e,n),[4,Xp(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,$p(t)];case 2:return o.sent(),[2]}}))}))}function rm(t,e){return ui(this,void 0,void 0,(function(){return ci(this,(function(n){switch(n.label){case 0:return e&&am(t).pr?[4,function(t,e){return ui(this,void 0,void 0,(function(){var n,r;return ci(this,(function(i){switch(i.label){case 0:return Hh(r=e.code)&&r!==Cu.ABORTED?(n=t.kr.shift(),am(t).sr(),[4,Xp(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,$p(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Jp(t)&&Zp(t),[2]}}))}))}function im(t,e){return ui(this,void 0,void 0,(function(){var n;return ci(this,(function(r){switch(r.label){case 0:return n=Lu(t),e?(n.Or.delete(2),[4,Mp(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,Bp(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function om(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Lu(t);return r.br(),new xp(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Gp.bind(null,t),Ri:Wp.bind(null,t),_r:Qp.bind(null,t)}),t.Mr.push((function(n){return ui(e,void 0,void 0,(function(){return ci(this,(function(e){switch(e.label){case 0:return n?(t.Ur.sr(),zp(t)?qp(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Kp(t),e.label=3;case 3:return[2]}}))}))}))),t.Ur}function am(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var r=Lu(t);return r.br(),new Op(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:tm.bind(null,t),Ri:rm.bind(null,t),Ir:em.bind(null,t),Tr:nm.bind(null,t)}),t.Mr.push((function(n){return ui(e,void 0,void 0,(function(){return ci(this,(function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,$p(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.kr.length>0&&(Nu("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}}))}))}))),t.Kr}var sm=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new bf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ku(Cu.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function um(t,e){if(Du("AsyncQueue",e+": "+t),Cf(t))return new ku(Cu.UNAVAILABLE,e+": "+t);throw t}var cm=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||uc.comparator(e.key,n.key)}:function(t,e){return uc.comparator(t.key,e.key)},this.keyedMap=tl(),this.sortedSet=new Gh(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),hm=function(){function t(){this.Qr=new Gh(uc.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):Pu():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),lm=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,cm.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&rh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),fm=function(){this.Wr=void 0,this.listeners=[]},dm=function(){this.queries=new wd((function(t){return ih(t)}),rh),this.onlineState="Unknown",this.Gr=new Set};function pm(t,e){return ui(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return ci(this,(function(c){switch(c.label){case 0:if(n=Lu(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new fm),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=um(s,"Initialization of query '"+oh(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&ym(n),[2]}}))}))}function mm(t,e){return ui(this,void 0,void 0,(function(){var n,r,i,o,a;return ci(this,(function(s){return n=Lu(t),r=e.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function gm(t,e){for(var n=Lu(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,h=u.listeners;c<h.length;c++)h[c].Hr(a)&&(r=!0);u.Wr=a}}r&&ym(n)}function vm(t,e,n){var r=Lu(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function ym(t){t.Gr.forEach((function(t){t.next()}))}var bm=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new lm(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.so&&n||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var e=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=lm.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),wm=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),Am=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return kl(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Ol(this.R,t.document,!1):Cc.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return Il(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new Am(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],h=(e.get(c)||il()).add(a);e.set(c,h)}}return e},t.prototype.complete=function(){return ui(this,void 0,void 0,(function(){var t,e,n,r,i;return ci(this,(function(o){switch(o.label){case 0:return[4,Jd(this.localStore,new Am(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,Zd(this.localStore,i,e.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Rd(Object.assign({},this.progress),t))]}}))}))}}();var Im=function(t){this.key=t},Em=function(t){this.key=t},Tm=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=il(),this.mutatedKeys=il(),this.lo=sh(t),this.fo=new cm(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new hm,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Yc(this.query)&&i.size===this.query.limit?i.last():null,c=Xc(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var h=i.get(t),l=ah(n.query,e)?e:null,f=!!h&&n.mutatedKeys.has(h.key),d=!!l&&(l.hasLocalMutations||n.mutatedKeys.has(l.key)&&l.hasCommittedMutations),p=!1;h&&l?h.data.isEqual(l.data)?f!==d&&(r.track({type:3,doc:l}),p=!0):n.yo(h,l)||(r.track({type:2,doc:l}),p=!0,(u&&n.lo(l,u)>0||c&&n.lo(l,c)<0)&&(s=!0)):!h&&l?(r.track({type:0,doc:l}),p=!0):h&&!l&&(r.track({type:1,doc:h}),p=!0,(u||c)&&(s=!0)),p&&(l?(a=a.add(l),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),Yc(this.query)||Xc(this.query))for(;a.size>this.query.limit;){var h=Yc(this.query)?a.last():a.first();a=a.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pu()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)})),this.po(n);var a=e?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new lm(this.query,t.fo,i,o,t.mutatedKeys,0===s,u,!1),To:a}:{To:a}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new hm,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=il(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new Em(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new Im(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=il();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return lm.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Cm=function(t,e,n){this.query=t,this.targetId=e,this.view=n},km=function(t){this.key=t,this.bo=!1},Sm=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new wd((function(t){return ih(t)}),rh),this.Vo=new Map,this.So=new Set,this.Do=new Gh(uc.comparator),this.Co=new Map,this.No=new ep,this.xo={},this.Fo=new Map,this.ko=ud.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function _m(t,e){return ui(this,void 0,void 0,(function(){var n,r,i,o,a,s;return ci(this,(function(u){switch(u.label){case 0:return n=rg(t),(o=n.Po.get(e))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Gd(n.localStore,eh(e))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,Nm(n,e,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&jp(n.remoteStore,a),u.label=4;case 4:return[2,i]}}))}))}function Nm(t,e,n,r){return ui(this,void 0,void 0,(function(){var i,o,a,s,u,c;return ci(this,(function(h){switch(h.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return ui(this,void 0,void 0,(function(){var i,o,a;return ci(this,(function(s){switch(s.label){case 0:return(i=e.view._o(n)).Nn?[4,Qd(t.localStore,e.query,!1).then((function(t){var n=t.documents;return e.view._o(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),a=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(qm(t,e.targetId,a.To),a.snapshot)]}}))}))}(t,e,n,r)},[4,Qd(t.localStore,e,!0)];case 1:return i=h.sent(),o=new Tm(e,i.Bn),a=o._o(i.documents),s=ul.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(a,t.isPrimaryClient,s),qm(t,n,u.To),c=new Cm(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}}))}))}function Dm(t,e){return ui(this,void 0,void 0,(function(){var n,r,i;return ci(this,(function(o){switch(o.label){case 0:return n=Lu(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(t){return!rh(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Wd(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Fp(n.remoteStore,r.targetId),Um(n,r.targetId)})).catch(dd)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Um(n,r.targetId),[4,Wd(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function xm(t,e,n){return ui(this,void 0,void 0,(function(){var r,i,o,a;return ci(this,(function(s){switch(s.label){case 0:r=ig(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,r=Lu(t),i=Vu.now(),o=e.reduce((function(t,e){return t.add(e.key)}),il());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Mn.pn(t,o).next((function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],h=xh(c,n.get(c.key));null!=h&&a.push(new Lh(c.key,h,Tc(h.value.mapValue),kh.exists(!0)))}return r._n.addMutationBatch(t,i,a,e)}))})).then((function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}}))}(r.localStore,e)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Gh(ju)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Km(r,i.changes)];case 3:return s.sent(),[4,$p(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=um(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function Om(t,e){return ui(this,void 0,void 0,(function(){var n,r;return ci(this,(function(i){switch(i.label){case 0:n=Lu(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,zd(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(Ru(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Ru(r.bo):t.removedDocuments.size>0&&(Ru(r.bo),r.bo=!1))})),[4,Km(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,dd(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Pm(t,e,n){var r=Lu(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=Lu(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)})),r&&ym(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Rm(t,e,n){return ui(this,void 0,void 0,(function(){var r,i,o,a,s,u;return ci(this,(function(c){switch(c.label){case 0:return(r=Lu(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(a=(a=new Gh(uc.comparator)).insert(o,Cc.newNoDocument(o,qu.min())),s=il().add(o),u=new sl(qu.min(),new Map,new Yh(ju),a,s),[4,Om(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),Hm(r),[3,4];case 2:return[4,Wd(r.localStore,e,!1).then((function(){return Um(r,e,n)})).catch(dd)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Lm(t,e){return ui(this,void 0,void 0,(function(){var n,r,i;return ci(this,(function(o){switch(o.label){case 0:n=Lu(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Vd(n.localStore,e)];case 2:return i=o.sent(),Fm(n,r,null),jm(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Km(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,dd(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Mm(t,e,n){return ui(this,void 0,void 0,(function(){var r,i;return ci(this,(function(o){switch(o.label){case 0:r=Lu(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Lu(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n._n.lookupMutationBatch(t,e).next((function(e){return Ru(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}(r.localStore,e)];case 2:return i=o.sent(),Fm(r,e,n),jm(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Km(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,dd(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Bm(t,e){return ui(this,void 0,void 0,(function(){var n,r,i,o,a;return ci(this,(function(s){switch(s.label){case 0:Hp((n=Lu(t)).remoteStore)||Nu("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=Lu(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e._n.getHighestUnacknowledgedBatchId(t)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=s.sent(),a=um(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}}))}))}function jm(t,e){(t.Fo.get(e)||[]).forEach((function(t){t.resolve()})),t.Fo.delete(e)}function Fm(t,e,n){var r=Lu(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Um(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||Vm(t,e)}))}function Vm(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Fp(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Hm(t))}function qm(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Im?(t.No.addReference(o.key,e),zm(t,o)):o instanceof Em?(Nu("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Vm(t,o.key)):Pu()}}function zm(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Nu("SyncEngine","New document in limbo: "+n),t.So.add(r),Hm(t))}function Hm(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new uc(Wu.fromString(e)),r=t.ko.next();t.Co.set(r,new km(n)),t.Do=t.Do.insert(n,r),jp(t.remoteStore,new Rf(eh(Qc(n.path)),r,2,Tu.o))}}function Km(t,e,n){return ui(this,void 0,void 0,(function(){var r,i,o,a;return ci(this,(function(s){switch(s.label){case 0:return r=Lu(t),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(t,s){a.push(r.Oo(s,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Md.Pn(s.targetId,t);o.push(e)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(t,e){return ui(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,h;return ci(this,(function(l){switch(l.label){case 0:n=Lu(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return wf.forEach(e,(function(e){return wf.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return wf.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!Cf(r=l.sent()))throw r;return Nu("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.Fn.get(s),c=u.snapshotVersion,h=u.withLastLimboFreeSnapshotVersion(c),n.Fn=n.Fn.insert(s,h));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function Gm(t,e){return ui(this,void 0,void 0,(function(){var n,r;return ci(this,(function(i){switch(i.label){case 0:return(n=Lu(t)).currentUser.isEqual(e)?[3,3]:(Nu("SyncEngine","User change. New user:",e.toKey()),[4,Ud(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach((function(t){t.forEach((function(t){t.reject(new ku(Cu.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Km(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Wm(t,e){var n=Lu(t),r=n.Co.get(e);if(r&&r.bo)return il().add(r.key);var i=il(),o=n.Vo.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function Qm(t,e){return ui(this,void 0,void 0,(function(){var n,r,i;return ci(this,(function(o){switch(o.label){case 0:return[4,Qd((n=Lu(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&qm(n,e.targetId,i.To),i)]}}))}))}function Ym(t){return ui(this,void 0,void 0,(function(){var e;return ci(this,(function(n){return[2,Xd((e=Lu(t)).localStore).then((function(t){return Km(e,t)}))]}))}))}function Xm(t,e,n,r){return ui(this,void 0,void 0,(function(){var i,o;return ci(this,(function(a){switch(a.label){case 0:return[4,function(t,e){var n=Lu(t),r=Lu(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.jt(t,e).next((function(e){return e?n.Mn.pn(t,e):wf.resolve(null)}))}))}((i=Lu(t)).localStore,e)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,$p(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Fm(i,e,r||null),jm(i,e),function(t,e){Lu(Lu(t)._n).Gt(e)}(i.localStore,e)):Pu(),a.label=4;case 4:return[4,Km(i,o)];case 5:return a.sent(),[3,7];case 6:Nu("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}}))}))}function $m(t,e){return ui(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return ci(this,(function(h){switch(h.label){case 0:return rg(n=Lu(t)),ig(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Jm(n,r.toArray())]);case 1:return i=h.sent(),n.$o=!0,[4,im(n.remoteStore,!0)];case 2:for(h.sent(),o=0,a=i;o<a.length;o++)s=a[o],jp(n.remoteStore,s);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?u.push(e):c=c.then((function(){return Um(n,e),Wd(n.localStore,e,!0)})),Fp(n.remoteStore,e)})),[4,c]);case 4:return h.sent(),[4,Jm(n,u)];case 5:return h.sent(),function(t){var e=Lu(t);e.Co.forEach((function(t,n){Fp(e.remoteStore,n)})),e.No.ts(),e.Co=new Map,e.Do=new Gh(uc.comparator)}(n),n.$o=!1,[4,im(n.remoteStore,!1)];case 6:h.sent(),h.label=7;case 7:return[2]}}))}))}function Jm(t,e,n){return ui(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,h,l,f,d,p,m;return ci(this,(function(g){switch(g.label){case 0:n=Lu(t),r=[],i=[],o=0,a=e,g.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Vo.get(s))&&0!==c.length?[4,Gd(n.localStore,eh(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),h=0,l=c,g.label=3;case 3:return h<l.length?(f=l[h],d=n.Po.get(f),[4,Qm(n,d)]):[3,6];case 4:(p=g.sent()).snapshot&&i.push(p.snapshot),g.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,Yd(n.localStore,s)];case 8:return m=g.sent(),[4,Gd(n.localStore,m)];case 9:return u=g.sent(),[4,Nm(n,Zm(m),s,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function Zm(t){return Wc(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function tg(t){var e=Lu(t);return Lu(Lu(e.localStore).persistence).fn()}function eg(t,e,n,r){return ui(this,void 0,void 0,(function(){var i,o,a;return ci(this,(function(s){switch(s.label){case 0:return(i=Lu(t)).$o?(Nu("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Xd(i.localStore)];case 3:return o=s.sent(),a=sl.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Km(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,Wd(i.localStore,e,!0)];case 6:return s.sent(),Um(i,e,r),[3,8];case 7:Pu(),s.label=8;case 8:return[2]}}))}))}function ng(t,e,n){return ui(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,h,l,f;return ci(this,(function(d){switch(d.label){case 0:if(!(r=rg(t)).$o)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(Nu("SyncEngine","Adding an already active target "+a),[3,5]):[4,Yd(r.localStore,a)]):[3,6];case 2:return s=d.sent(),[4,Gd(r.localStore,s)];case 3:return u=d.sent(),[4,Nm(r,Zm(s),u.targetId,!1)];case 4:d.sent(),jp(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return ci(this,(function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Wd(r.localStore,t,!1).then((function(){Fp(r.remoteStore,t),Um(r,t)})).catch(dd)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,l=n,d.label=7;case 7:return h<l.length?(f=l[h],[5,c(f)]):[3,10];case 8:d.sent(),d.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function rg(t){var e=Lu(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Om.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wm.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Rm.bind(null,e),e.vo._r=gm.bind(null,e.eventManager),e.vo.Mo=vm.bind(null,e.eventManager),e}function ig(t){var e=Lu(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Lm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Mm.bind(null,e),e}var og=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return ui(this,void 0,void 0,(function(){return ci(this,(function(e){switch(e.label){case 0:return this.R=_p(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return Fd(this.persistence,new Bd,t.initialUser,this.R)},t.prototype.qo=function(t){return new sp(cp.bs,this.R)},t.prototype.Bo=function(t){return new wp},t.prototype.terminate=function(){return ui(this,void 0,void 0,(function(){return ci(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),ag=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return si(e,t),e.prototype.initialize=function(e){return ui(this,void 0,void 0,(function(){return ci(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,$d(this.localStore)];case 2:return n.sent(),[4,this.Qo.initialize(this,e)];case 3:return n.sent(),[4,ig(this.Qo.syncEngine)];case 4:return n.sent(),[4,$p(this.Qo.remoteStore)];case 5:return n.sent(),[2]}}))}))},e.prototype.Ko=function(t){return Fd(this.persistence,new Bd,t.initialUser,this.R)},e.prototype.Uo=function(t){var e=this.persistence.referenceDelegate.garbageCollector;return new gd(e,t.asyncQueue)},e.prototype.qo=function(t){var e=Pd(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?td.withCacheSize(this.cacheSizeBytes):td.DEFAULT;return new Dd(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,kp(),Sp(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new wp},e}(og),sg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return si(e,t),e.prototype.initialize=function(e){return ui(this,void 0,void 0,(function(){var n,r=this;return ci(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof bp?(this.sharedClientState.syncEngine={ui:Xm.bind(null,n),ai:eg.bind(null,n),hi:ng.bind(null,n),fn:tg.bind(null,n),ci:Ym.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(t){return ui(r,void 0,void 0,(function(){return ci(this,(function(e){switch(e.label){case 0:return[4,$m(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=kp();if(!bp.yt(e))throw new ku(Cu.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Pd(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new bp(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(ag),ug=function(){function t(){}return t.prototype.initialize=function(t,e){return ui(this,void 0,void 0,(function(){var n=this;return ci(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Pm(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Gm.bind(null,this.syncEngine),[4,im(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new dm},t.prototype.createDatastore=function(t){var e,n=_p(t.databaseInfo.databaseId),r=(e=t.databaseInfo,new Cp(e));return function(t,e,n){return new Pp(t,e,n)}(t.credentials,r,n)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,a=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Pm(a.syncEngine,t,0)},o=Ip.yt()?new Ip:new Ap,new Lp(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,a){var s=new Sm(t,e,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return ui(this,void 0,void 0,(function(){var e;return ci(this,(function(n){switch(n.label){case 0:return e=Lu(t),Nu("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,Bp(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}(),cg=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),hg=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new bf,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return ui(this,void 0,void 0,(function(){return ci(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Lo=function(){return ui(this,void 0,void 0,(function(){return ci(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}}))}))},t.prototype.Ho=function(){return ui(this,void 0,void 0,(function(){var t,e,n,r;return ci(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new wm(JSON.parse(r),t.length+n)]}}))}))},t.prototype.Zo=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.Jo=function(){return ui(this,void 0,void 0,(function(){var t,e;return ci(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.Xo=function(t){return ui(this,void 0,void 0,(function(){var e;return ci(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return ui(this,void 0,void 0,(function(){var t,e;return ci(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return ui(this,void 0,void 0,(function(){var e,n=this;return ci(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new ku(Cu.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return ui(this,void 0,void 0,(function(){var n,r,i,o,a,s;return ci(this,(function(u){switch(u.label){case 0:return n=Lu(t),r=Nl(n.R)+"/documents",i={documents:e.map((function(t){return Cl(n.R,t)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){Ru(!!e.found),e.found.name,e.found.updateTime;var n=kl(t,e.found.name),r=Il(e.found.updateTime),i=new Ec({mapValue:{fields:e.found.fields}});return Cc.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Ru(!!e.missing),Ru(!!e.readTime);var n=kl(t,e.missing),r=Il(e.readTime);return Cc.newNoDocument(n,r)}(t,e):Pu()}(n.R,t);a.set(e.key.toString(),e)})),s=[],[2,(e.forEach((function(t){var e=a.get(t.toString());Ru(!!e),s.push(e)})),s)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Vh(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return ui(this,void 0,void 0,(function(){var t,e=this;return ci(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=uc.fromPath(n);e.mutations.push(new qh(r,e.precondition(r)))})),[4,function(t,e){return ui(this,void 0,void 0,(function(){var n,r,i;return ci(this,(function(o){switch(o.label){case 0:return n=Lu(t),r=Nl(n.R)+"/documents",i={writes:e.map((function(t){return Pl(n.R,t)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Pu();e=qu.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new ku(Cu.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?kh.updateTime(e):kh.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(qu.min()))throw new ku(Cu.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return kh.updateTime(e)}return kh.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),lg=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Np(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return ui(t,void 0,void 0,(function(){var t,e,n=this;return ci(this,(function(r){return t=new hg(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!oc(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Hh(e)}return!1},t}(),fg=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=hp.UNAUTHENTICATED,this.clientId=Bu.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,(function(t){return ui(r,void 0,void 0,(function(){return ci(this,(function(e){switch(e.label){case 0:return Nu("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}}))}))}))}return t.prototype.getConfiguration=function(){return ui(this,void 0,void 0,(function(){return ci(this,(function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new ku(Cu.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new bf;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return ui(t,void 0,void 0,(function(){var t,n;return ci(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=um(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function dg(t,e){return ui(this,void 0,void 0,(function(){var n,r,i=this;return ci(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Nu("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener((function(t){return ui(i,void 0,void 0,(function(){return ci(this,(function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,Ud(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}}))}))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function pg(t,e){return ui(this,void 0,void 0,(function(){var n,r;return ci(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,mg(t)];case 1:return n=i.sent(),Nu("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener((function(t){return function(t,e){return ui(this,void 0,void 0,(function(){var n,r;return ci(this,(function(i){switch(i.label){case 0:return(n=Lu(t)).asyncQueue.verifyOperationInProgress(),Nu("RemoteStore","RemoteStore received new credentials"),r=Hp(n),n.Or.add(3),[4,Bp(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,Mp(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,t)})),t.onlineComponents=e,[2]}}))}))}function mg(t){return ui(this,void 0,void 0,(function(){return ci(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Nu("FirestoreClient","Using default OfflineComponentProvider"),[4,dg(t,new og)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function gg(t){return ui(this,void 0,void 0,(function(){return ci(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Nu("FirestoreClient","Using default OnlineComponentProvider"),[4,pg(t,new ug)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function vg(t){return mg(t).then((function(t){return t.persistence}))}function yg(t){return mg(t).then((function(t){return t.localStore}))}function bg(t){return gg(t).then((function(t){return t.remoteStore}))}function wg(t){return gg(t).then((function(t){return t.syncEngine}))}function Ag(t){return ui(this,void 0,void 0,(function(){var e,n;return ci(this,(function(r){switch(r.label){case 0:return[4,gg(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=_m.bind(null,e.syncEngine),n.onUnlisten=Dm.bind(null,e.syncEngine),n)]}}))}))}function Ig(t,e,n){var r=this;void 0===n&&(n={});var i=new bf;return t.asyncQueue.enqueueAndForget((function(){return ui(r,void 0,void 0,(function(){var r;return ci(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new cg({next:function(o){e.enqueueAndForget((function(){return mm(t,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new ku(Cu.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new ku(Cu.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new bm(Qc(n.path),o,{includeMetadataChanges:!0,so:!0});return pm(t,a)},[4,Ag(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}function Eg(t,e,n){var r=this;void 0===n&&(n={});var i=new bf;return t.asyncQueue.enqueueAndForget((function(){return ui(r,void 0,void 0,(function(){var r;return ci(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new cg({next:function(n){e.enqueueAndForget((function(){return mm(t,a)})),n.fromCache&&"server"===r.source?i.reject(new ku(Cu.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new bm(n,o,{includeMetadataChanges:!0,so:!0});return pm(t,a)},[4,Ag(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}var Tg=function(t,e,n,r,i,o,a,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},Cg=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),kg=new Map,Sg=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},_g=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable((function(){return e(hp.UNAUTHENTICATED)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Ng=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable((function(){return e(n.token.user)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Dg=function(){function t(t){var e=this;this.currentUser=hp.UNAUTHENTICATED,this.oc=new bf,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable((function(){return e.changeListener(e.currentUser)}))};var n=function(t){Nu("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit((function(t){return n(t)})),setTimeout((function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(Nu("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}}),0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(Nu("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Ru("string"==typeof n.accessToken),new Sg(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable((function(){return ui(n,void 0,void 0,(function(){return ci(this,(function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}}))}))}))},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Ru(null===t||"string"==typeof t),new hp(t)},t}(),xg=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=hp.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),Og=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new xg(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable((function(){return e(hp.FIRST_PARTY)}))},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Pg(t,e,n){if(!n)throw new ku(Cu.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Rg(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ku(Cu.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Lg(t,e,n,r){if(!0===e&&!0===r)throw new ku(Cu.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Mg(t){if(!uc.isDocumentKey(t))throw new ku(Cu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Bg(t){if(uc.isDocumentKey(t))throw new ku(Cu.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function jg(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Pu()}function Fg(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ku(Cu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=jg(t);throw new ku(Cu.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Ug(t,e){if(e<=0)throw new ku(Cu.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Vg=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new ku(Cu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ku(Cu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Lg("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),qg=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vg({}),this._settingsFrozen=!1,t instanceof Cg?(this._databaseId=t,this._credentials=new _g):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new ku(Cu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cg(t.options.projectId)}(t),this._credentials=new Dg(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new ku(Cu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new ku(Cu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vg(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new _g;switch(t.type){case"gapi":var e=t.client;return Ru(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Og(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new ku(Cu.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=kg.get(this))&&(Nu("ComponentProvider","Removing Datastore"),kg.delete(this),t.terminate()),Promise.resolve();var t},t}(),zg=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Kg(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Hg=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Kg=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Qc(r))||this)._path=r,i.type="collection",i}return si(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new zg(this.firestore,null,new uc(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Hg);function Gg(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=rn(t),Pg("collection","path",e),t instanceof qg)return Bg(n=Wu.fromString.apply(Wu,hi([e],r))),new Kg(t,null,n);if(!(t instanceof zg||t instanceof Kg))throw new ku(Cu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Bg(n=Wu.fromString.apply(Wu,hi([t.path],r)).child(Wu.fromString(e))),new Kg(t.firestore,null,n)}function Wg(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=rn(t),1===arguments.length&&(e=Bu.u()),Pg("doc","path",e),t instanceof qg)return Mg(n=Wu.fromString.apply(Wu,hi([e],r))),new zg(t,null,new uc(n));if(!(t instanceof zg||t instanceof Kg))throw new ku(Cu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Mg(n=t._path.child(Wu.fromString.apply(Wu,hi([e],r)))),new zg(t.firestore,t instanceof Kg?t.converter:null,new uc(n))}function Qg(t,e){return t=rn(t),e=rn(e),(t instanceof zg||t instanceof Kg)&&(e instanceof zg||e instanceof Kg)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Yg(t,e){return t=rn(t),e=rn(e),t instanceof Hg&&e instanceof Hg&&t.firestore===e.firestore&&rh(t._query,e._query)&&t.converter===e.converter}var Xg=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Np(this,"async_queue_retry"),this.Ic=function(){var e=Sp();e&&Nu("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Sp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=Sp();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new bf;return this.Rc((function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.wc.push(t),e.bc()}))},t.prototype.bc=function(){return ui(this,void 0,void 0,(function(){var t,e=this;return ci(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Cf(t=n.sent()))throw t;return Nu("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return e.bc()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Rc=function(t){var e=this,n=this.dc.then((function(){return e.gc=!0,t().catch((function(t){throw e.yc=t,e.gc=!1,Du("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.gc=!1,t}))}));return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var i=sm.createAndSchedule(this,t,e,n,(function(t){return r.vc(t)}));return this.mc.push(i),i},t.prototype.Ac=function(){this.yc&&Pu()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return ui(this,void 0,void 0,(function(){var t;return ci(this,(function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then((function(){e.mc.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Pc()}))},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function $g(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new bf,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var Jg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new Xg,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return si(e,t),e.prototype._terminate=function(){return this._firestoreClient||tv(this),this._firestoreClient.terminate()},e}(qg);function Zg(t){return t._firestoreClient||tv(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function tv(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new Tg(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new fg(t._credentials,t._queue,r)}function ev(t,e,n){var r=this,i=new bf;return t.asyncQueue.enqueue((function(){return ui(r,void 0,void 0,(function(){var r;return ci(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,dg(t,n)];case 1:return o.sent(),[4,pg(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Cu.FAILED_PRECONDITION||t.code===Cu.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function nv(t){if(t._initialized||t._terminated)throw new ku(Cu.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var rv=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new ku(Cu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yu(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),iv=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t($u.fromBase64String(e))}catch(e){throw new ku(Cu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t($u.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),ov=function(t){this._methodName=t},av=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new ku(Cu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ku(Cu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return ju(this._lat,t._lat)||ju(this._long,t._long)},t}(),sv=/^__.*__$/,uv=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Lh(t,this.data,this.fieldMask,e,this.fieldTransforms):new Rh(t,this.data,e,this.fieldTransforms)},t}(),cv=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Lh(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function hv(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pu()}}var lv=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Fc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,kc:!1});return r.$c(t),r},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,kc:!1});return r.Cc(),r},t.prototype.Mc=function(t){return this.xc({path:void 0,kc:!0})},t.prototype.Lc=function(t){return xv(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(hv(this.Nc)&&sv.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),fv=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||_p(t)}return t.prototype.Uc=function(t,e,n,r){return void 0===r&&(r=!1),new lv({Nc:t,methodName:e,qc:n,path:Yu.emptyPath(),kc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function dv(t){var e=t._freezeSettings(),n=_p(t._databaseId);return new fv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function pv(t,e,n,r,i,o){void 0===o&&(o={});var a=t.Uc(o.merge||o.mergeFields?2:0,e,n,i);Sv("Data must be an object, but it was:",a,r);var s,u,c=Cv(r,a);if(o.merge)s=new Xu(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var h=[],l=0,f=o.mergeFields;l<f.length;l++){var d=_v(e,f[l],n);if(!a.contains(d))throw new ku(Cu.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Ov(h,d)||h.push(d)}s=new Xu(h),u=a.fieldTransforms.filter((function(t){return s.covers(t.field)}))}else s=null,u=a.fieldTransforms;return new uv(new Ec(c),s,u)}var mv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return si(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw 1===t.Nc?t.Lc(this._methodName+"() can only appear at the top level of your update data"):t.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(ov);function gv(t,e,n){return new lv({Nc:3,qc:e.settings.qc,methodName:t._methodName,kc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var vv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return si(e,t),e.prototype._toFieldTransform=function(t){return new Th(t.path,new gh)},e.prototype.isEqual=function(t){return t instanceof e},e}(ov),yv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return si(e,t),e.prototype._toFieldTransform=function(t){var e=gv(this,t,!0),n=this.Kc.map((function(t){return Tv(t,e)})),r=new vh(n);return new Th(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ov),bv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return si(e,t),e.prototype._toFieldTransform=function(t){var e=gv(this,t,!0),n=this.Kc.map((function(t){return Tv(t,e)})),r=new bh(n);return new Th(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ov),wv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return si(e,t),e.prototype._toFieldTransform=function(t){var e=new Ah(t.R,lh(t.R,this.Qc));return new Th(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(ov);function Av(t,e,n,r){var i=t.Uc(1,e,n);Sv("Data must be an object, but it was:",i,r);var o=[],a=Ec.empty();Hu(r,(function(t,r){var s=Dv(e,t,n);r=rn(r);var u=i.Oc(s);if(r instanceof mv)o.push(s);else{var c=Tv(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new Xu(o);return new cv(a,s,i.fieldTransforms)}function Iv(t,e,n,r,i,o){var a=t.Uc(1,e,n),s=[_v(e,r,n)],u=[i];if(o.length%2!=0)throw new ku(Cu.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(_v(e,o[c])),u.push(o[c+1]);for(var h=[],l=Ec.empty(),f=s.length-1;f>=0;--f)if(!Ov(h,s[f])){var d=s[f],p=u[f];p=rn(p);var m=a.Oc(d);if(p instanceof mv)h.push(d);else{var g=Tv(p,m);null!=g&&(h.push(d),l.set(d,g))}}var v=new Xu(h);return new cv(l,v,a.fieldTransforms)}function Ev(t,e,n,r){return void 0===r&&(r=!1),Tv(n,t.Uc(r?4:3,e))}function Tv(t,e){if(kv(t=rn(t)))return Sv("Unsupported field value:",e,t),Cv(t,e);if(t instanceof ov)return function(t,e){if(!hv(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.kc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=Tv(o[i],e.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=rn(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return lh(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Vu.fromDate(t);return{timestampValue:bl(e.R,n)}}if(t instanceof Vu)return n=new Vu(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:bl(e.R,n)};if(t instanceof av)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof iv)return{bytesValue:wl(e.R,t._byteString)};if(t instanceof zg){n=e.databaseId;var r=t.firestore._databaseId;if(!r.isEqual(n))throw e.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:El(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+jg(t))}(t,e)}function Cv(t,e){var n={};return Ku(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hu(t,(function(t,r){var i=Tv(r,e.Fc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function kv(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Vu||t instanceof av||t instanceof iv||t instanceof zg||t instanceof ov)}function Sv(t,e,n){if(!kv(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=jg(n);throw"an object"===r?e.Lc(t+" a custom object"):e.Lc(t+" "+r)}}function _v(t,e,n){if((e=rn(e))instanceof rv)return e._internalPath;if("string"==typeof e)return Dv(t,e);throw xv("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Nv=new RegExp("[~\\*/\\[\\]]");function Dv(t,e,n){if(e.search(Nv)>=0)throw xv("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(rv.bind.apply(rv,hi([void 0],e.split(".")))))._internalPath}catch(r){throw xv("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function xv(t,e,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new ku(Cu.INVALID_ARGUMENT,(s+=". ")+t+u)}function Ov(t,e){return t.some((function(t){return t.isEqual(e)}))}var Pv=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new zg(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Rv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Lv("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Rv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return si(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Pv);function Lv(t,e){return"string"==typeof e?Dv(t,e):e instanceof rv?e._internalPath:e._delegate._internalPath}var Mv=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Bv=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this)._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return si(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new jv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Lv("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Pv),jv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return si(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Bv),Fv=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Mv(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new jv(n._firestore,n._userDataWriter,r.key,r,new Mv(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ku(Cu.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){return{type:"added",doc:new jv(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Mv(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new jv(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Mv(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Uv(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Uv(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pu()}}function Vv(t,e){return t instanceof Bv&&e instanceof Bv?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Fv&&e instanceof Fv&&t._firestore===e._firestore&&Yg(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function qv(t){if(Xc(t)&&0===t.explicitOrderBy.length)throw new ku(Cu.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var zv=function(){};function Hv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Kv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).jc=e,i.Wc=n,i.Gc=r,i.type="where",i}return si(e,t),e.prototype._apply=function(t){var e=dv(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new ku(Cu.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Jv(a,o);for(var u=[],c=0,h=a;c<h.length;c++){var l=h[c];u.push($v(r,t,l))}s={arrayValue:{values:u}}}else s=$v(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Jv(a,o),s=Ev(n,"where",a,"in"===o||"not-in"===o);var f=xc.create(i,o,s);return function(t,e){if(e.g()){var n=Jc(t);if(null!==n&&!n.isEqual(e.field))throw new ku(Cu.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=$c(t);null!==r&&Zv(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new ku(Cu.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new ku(Cu.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t._query,0,e,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Hg(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new Gc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(zv),Gv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jc=e,r.zc=n,r.type="orderBy",r}return si(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new ku(Cu.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new ku(Cu.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new qc(e,n);return function(t,e){if(null===$c(t)){var n=Jc(t);null!==n&&Zv(0,n,e.field)}}(t,r),r}(t._query,this.jc,this.zc);return new Hg(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Gc(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(zv),Wv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return si(e,t),e.prototype._apply=function(t){return new Hg(t.firestore,t.converter,nh(t._query,this.Hc,this.Jc))},e}(zv),Qv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return si(e,t),e.prototype._apply=function(t){var e=Xv(t,this.type,this.Yc,this.Xc);return new Hg(t.firestore,t.converter,function(t,e){return new Gc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(zv),Yv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return si(e,t),e.prototype._apply=function(t){var e=Xv(t,this.type,this.Yc,this.Xc);return new Hg(t.firestore,t.converter,function(t,e){return new Gc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(zv);function Xv(t,e,n,r){if(n[0]=rn(n[0]),n[0]instanceof Pv)return function(t,e,n,r,i){if(!r)throw new ku(Cu.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=th(t);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(gc(e,r.key));else{var c=r.data.field(u.field);if(nc(c))throw new ku(Cu.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var h=u.field.canonicalString();throw new ku(Cu.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+h+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Uc(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=dv(t.firestore);return function(t,e,n,r,i,o){var a=t.explicitOrderBy;if(i.length>a.length)throw new ku(Cu.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new ku(Cu.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Zc(t)&&-1!==c.indexOf("/"))throw new ku(Cu.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var h=t.path.child(Wu.fromString(c));if(!uc.isDocumentKey(h))throw new ku(Cu.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+h+"' is not because it contains an odd number of segments.");var l=new uc(h);s.push(gc(e,l))}else{var f=Ev(n,r,c);s.push(f)}}return new Uc(s,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function $v(t,e,n){if("string"==typeof(n=rn(n))){if(""===n)throw new ku(Cu.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Zc(e)&&-1!==n.indexOf("/"))throw new ku(Cu.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Wu.fromString(n));if(!uc.isDocumentKey(r))throw new ku(Cu.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return gc(t,new uc(r))}if(n instanceof zg)return gc(t,n._key);throw new ku(Cu.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+jg(n)+".")}function Jv(t,e){if(!Array.isArray(t)||0===t.length)throw new ku(Cu.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new ku(Cu.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Zv(t,e,n){if(!n.isEqual(e))throw new ku(Cu.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var ty=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),cc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return tc(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ec(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Pu()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Hu(t.fields,(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new av(tc(t.latitude),tc(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=rc(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(ic(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Zu(t);return new Vu(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Wu.fromString(t);Ru(Ql(n));var r=new Cg(n.get(1),n.get(3)),i=new uc(n.popFirst(5));return r.isEqual(e)||Du("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function ey(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var ny=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return si(e,t),e.prototype.convertBytes=function(t){return new iv(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new zg(this.firestore,null,e)},e}(ty),ry=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=dv(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=iy(t,this._firestore),i=ey(r.converter,e,n),o=pv(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,kh.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=iy(t,this._firestore);return o="string"==typeof(e=rn(e))||e instanceof rv?Iv(this._dataReader,"WriteBatch.update",a._key,e,n,r):Av(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(o.toMutation(a._key,kh.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=iy(t,this._firestore);return this._mutations=this._mutations.concat(new Vh(e._key,kh.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new ku(Cu.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function iy(t,e){if((t=rn(t)).firestore!==e)throw new ku(Cu.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var oy=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return si(e,t),e.prototype.convertBytes=function(t){return new iv(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new zg(this.firestore,null,e)},e}(ty);function ay(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Fg(t,zg);var o=Fg(t.firestore,Jg),a=dv(o);return uy(o,[("string"==typeof(e=rn(e))||e instanceof rv?Iv(a,"updateDoc",t._key,e,n,r):Av(a,"updateDoc",t._key,e)).toMutation(t._key,kh.exists(!0))])}function sy(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=rn(t);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||$g(i[s])||(a=i[s],s++);var u,c,h,l={includeMetadataChanges:a.includeMetadataChanges};if($g(i[s])){var f=i[s];i[s]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof zg)c=Fg(t.firestore,Jg),h=Qc(t._key.path),u={next:function(e){i[s]&&i[s](cy(c,t,e))},error:i[s+1],complete:i[s+2]};else{var d=Fg(t,Hg);c=Fg(d.firestore,Jg),h=d._query;var p=new oy(c);u={next:function(t){i[s]&&i[s](new Fv(c,p,d,t))},error:i[s+1],complete:i[s+2]},qv(t._query)}return function(t,e,n,r){var i=this,o=new cg(r),a=new bm(e,o,n);return t.asyncQueue.enqueueAndForget((function(){return ui(i,void 0,void 0,(function(){var e;return ci(this,(function(n){switch(n.label){case 0:return e=pm,[4,Ag(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),t.asyncQueue.enqueueAndForget((function(){return ui(i,void 0,void 0,(function(){var e;return ci(this,(function(n){switch(n.label){case 0:return e=mm,[4,Ag(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))}))}}(Zg(c),h,l,u)}function uy(t,e){return function(t,e){var n=this,r=new bf;return t.asyncQueue.enqueueAndForget((function(){return ui(n,void 0,void 0,(function(){var n;return ci(this,(function(i){switch(i.label){case 0:return n=xm,[4,wg(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(Zg(t),e)}function cy(t,e,n){var r=n.docs.get(e._key),i=new oy(t);return new Bv(t,i,e._key,r,new Mv(n.hasPendingWrites,n.fromCache),e.converter)}var hy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return si(e,t),e.prototype.get=function(e){var n=this,r=iy(e,this._firestore),i=new oy(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new Bv(n._firestore,i,r._key,t._document,new Mv(!1,!1),r.converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=dv(t)}return t.prototype.get=function(t){var e=this,n=iy(t,this._firestore),r=new ny(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return Pu();var i=t[0];if(i.isFoundDocument())return new Pv(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Pv(e._firestore,r,n._key,null,n.converter);throw Pu()}))},t.prototype.set=function(t,e,n){var r=iy(t,this._firestore),i=ey(r.converter,e,n),o=pv(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=iy(t,this._firestore);return o="string"==typeof(e=rn(e))||e instanceof rv?Iv(this._dataReader,"Transaction.update",a._key,e,n,r):Av(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,o),this},t.prototype.delete=function(t){var e=iy(t,this._firestore);return this._transaction.delete(e._key),this},t}());function ly(){if("undefined"==typeof Uint8Array)throw new ku(Cu.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function fy(){if("undefined"==typeof atob)throw new ku(Cu.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var dy=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return fy(),new t(iv.fromBase64String(e))},t.fromUint8Array=function(e){return ly(),new t(iv.fromUint8Array(e))},t.prototype.toBase64=function(){return fy(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return ly(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),py=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){nv(t=Fg(t,Jg));var n=Zg(t),r=t._freezeSettings(),i=new ug;return ev(n,i,new ag(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){nv(t=Fg(t,Jg));var e=Zg(t),n=t._freezeSettings(),r=new ug;return ev(e,r,new sg(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new ku(Cu.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new bf;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return ui(e,void 0,void 0,(function(){var e;return ci(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return ui(this,void 0,void 0,(function(){var e;return ci(this,(function(n){switch(n.label){case 0:return If.yt()?(e=t+"main",[4,If.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Pd(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),my=function(){function t(t,e,n){var r=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Cg||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||xu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=Fg(t,qg))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&xu("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n="demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=je({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Fe.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),Fe.encodeString(JSON.stringify(o),!1),""].join(".")}(r.mockUserToken),a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new ku(Cu.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new Ng(new Sg(o,new hp(a)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return ui(e,void 0,void 0,(function(){var e,n;return ci(this,(function(r){switch(r.label){case 0:return[4,vg(t)];case 1:return e=r.sent(),[4,bg(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Lu(t);return e.Or.delete(0),Mp(e)}(n))]}}))}))}))}(Zg(Fg(this._delegate,Jg)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return ui(e,void 0,void 0,(function(){var e,n;return ci(this,(function(r){switch(r.label){case 0:return[4,vg(t)];case 1:return e=r.sent(),[4,bg(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return ui(this,void 0,void 0,(function(){var e;return ci(this,(function(n){switch(n.label){case 0:return(e=Lu(t)).Or.add(0),[4,Bp(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Zg(Fg(this._delegate,Jg)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Lg("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new bf;return t.asyncQueue.enqueueAndForget((function(){return ui(e,void 0,void 0,(function(){var e;return ci(this,(function(r){switch(r.label){case 0:return e=Bm,[4,wg(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Zg(Fg(this._delegate,Jg)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new cg(e);return t.asyncQueue.enqueueAndForget((function(){return ui(n,void 0,void 0,(function(){var e;return ci(this,(function(n){switch(n.label){case 0:return e=function(t,e){Lu(t).Gr.add(e),e.next()},[4,Ag(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),t.asyncQueue.enqueueAndForget((function(){return ui(n,void 0,void 0,(function(){var e;return ci(this,(function(n){switch(n.label){case 0:return e=function(t,e){Lu(t).Gr.delete(e)},[4,Ag(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(Zg(t=Fg(t,Jg)),$g(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new ku(Cu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Ny(this,Gg(this._delegate,t))}catch(t){throw Ay(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new wy(this,Wg(this._delegate,t))}catch(t){throw Ay(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new ky(this,function(t,e){if(t=Fg(t,qg),Pg("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ku(Cu.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Hg(t,null,function(t){return new Gc(Wu.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw Ay(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new bf;return t.asyncQueue.enqueueAndForget((function(){return ui(n,void 0,void 0,(function(){var n;return ci(this,(function(i){switch(i.label){case 0:return[4,function(t){return gg(t).then((function(t){return t.datastore}))}(t)];case 1:return n=i.sent(),new lg(t.asyncQueue,n,e,r).run(),[2]}}))}))})),r.promise}(Zg(t),(function(n){return e(new hy(t,n))}))}(this._delegate,(function(n){return t(new vy(e,n))}))},t.prototype.batch=function(){var t=this;return Zg(this._delegate),new yy(new ry(this._delegate,(function(e){return uy(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new ku(Cu.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new ku(Cu.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),gy=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return si(e,t),e.prototype.convertBytes=function(t){return new dy(new iv(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return wy.eu(e,this.firestore,null)},e}(ty),vy=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new gy(t)}return t.prototype.get=function(t){var e=this,n=Dy(t);return this._delegate.get(n).then((function(t){return new Ty(e._firestore,new Bv(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))}))},t.prototype.set=function(t,e,n){var r=Dy(t);return n?(Rg("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Dy(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,hi([a,e,n],i)),this},t.prototype.delete=function(t){var e=Dy(t);return this._delegate.delete(e),this},t}(),yy=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Dy(t);return n?(Rg("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Dy(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,hi([a,e,n],i)),this},t.prototype.delete=function(t){var e=Dy(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),by=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new jv(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Cy(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new gy(e),n),i.set(n,o)),o},t}();by.su=new WeakMap;var wy=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new gy(t)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new ku(Cu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new zg(n._delegate,r,new uc(e)))},t.eu=function(e,n,r){return new t(n,new zg(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Ny(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Ny(this.firestore,Gg(this._delegate,t))}catch(t){throw Ay(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=rn(t))instanceof zg&&Qg(this._delegate,t)},t.prototype.set=function(t,e){e=Rg("DocumentReference.set",e);try{return function(t,e,n){t=Fg(t,zg);var r=Fg(t.firestore,Jg),i=ey(t.converter,e,n);return uy(r,[pv(dv(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,kh.none())])}(this._delegate,t,e)}catch(t){throw Ay(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?ay(this._delegate,t):ay.apply(void 0,hi([this._delegate,t,e],n))}catch(t){throw Ay(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return uy(Fg((t=this._delegate).firestore,Jg),[new Vh(t._key,kh.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Iy(e),i=Ey(e,(function(e){return new Ty(t.firestore,new Bv(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}));return sy(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Fg(t,zg);var e=Fg(t.firestore,Jg),n=Zg(e),r=new oy(e);return function(t,e){var n=this,r=new bf;return t.asyncQueue.enqueueAndForget((function(){return ui(n,void 0,void 0,(function(){var n;return ci(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return ui(this,void 0,void 0,(function(){var r,i;return ci(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Lu(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Mn.mn(t,e)}))}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new ku(Cu.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=um(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,yg(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new Bv(e,r,t._key,n,new Mv(null!==n&&n.hasLocalMutations,!0),t.converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Fg(t,zg);var e=Fg(t.firestore,Jg);return Ig(Zg(e),t._key,{source:"server"}).then((function(n){return cy(e,t,n)}))}(this._delegate):function(t){t=Fg(t,zg);var e=Fg(t.firestore,Jg);return Ig(Zg(e),t._key).then((function(n){return cy(e,t,n)}))}(this._delegate)).then((function(t){return new Ty(e.firestore,new Bv(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(by.nu(this.firestore,e)):this._delegate.withConverter(null))},t}();function Ay(t,e,n){return t.message=t.message.replace(e,n),t}function Iy(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!$g(r))return r}return{}}function Ey(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=$g(t[0])?t[0]:$g(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Ty=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new wy(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Vv(this._delegate,t._delegate)},t}(),Cy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return si(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Ty),ky=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new gy(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Hv(this._delegate,function(t,e,n){var r=e,i=Lv("where",t);return new Kv(i,r,n)}(e,n,r)))}catch(e){throw Ay(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Hv(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Lv("orderBy",t);return new Gv(r,n)}(e,n)))}catch(e){throw Ay(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Hv(this._delegate,function(t){return Ug("limit",t),new Wv("limit",t,"F")}(e)))}catch(e){throw Ay(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Hv(this._delegate,function(t){return Ug("limitToLast",t),new Wv("limitToLast",t,"L")}(e)))}catch(e){throw Ay(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Hv(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Qv("startAt",t,!0)}.apply(void 0,e)))}catch(e){throw Ay(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Hv(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Qv("startAfter",t,!1)}.apply(void 0,e)))}catch(e){throw Ay(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Hv(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Yv("endBefore",t,!0)}.apply(void 0,e)))}catch(e){throw Ay(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Hv(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Yv("endAt",t,!1)}.apply(void 0,e)))}catch(e){throw Ay(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return Yg(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Fg(t,Hg);var e=Fg(t.firestore,Jg),n=Zg(e),r=new oy(e);return function(t,e){var n=this,r=new bf;return t.asyncQueue.enqueueAndForget((function(){return ui(n,void 0,void 0,(function(){var n;return ci(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return ui(this,void 0,void 0,(function(){var r,i,o,a,s;return ci(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Qd(t,e,!0)];case 1:return s=u.sent(),r=new Tm(e,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=um(a,"Failed to execute query '"+e+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,yg(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new Fv(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Fg(t,Hg);var e=Fg(t.firestore,Jg),n=Zg(e),r=new oy(e);return Eg(n,t._query,{source:"server"}).then((function(n){return new Fv(e,r,t,n)}))}(this._delegate):function(t){t=Fg(t,Hg);var e=Fg(t.firestore,Jg),n=Zg(e),r=new oy(e);return qv(t._query),Eg(n,t._query).then((function(n){return new Fv(e,r,t,n)}))}(this._delegate)).then((function(t){return new _y(e.firestore,new Fv(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Iy(e),i=Ey(e,(function(e){return new _y(t.firestore,new Fv(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return sy(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(by.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(),Sy=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Cy(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),_y=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new ky(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new Cy(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new Sy(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new Cy(n._firestore,r))}))},t.prototype.isEqual=function(t){return Vv(this._delegate,t._delegate)},t}(),Ny=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return si(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new wy(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new wy(this.firestore,void 0===t?Wg(this._delegate):Wg(this._delegate,t))}catch(t){throw Ay(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Fg(t.firestore,Jg),r=Wg(t),i=ey(t.converter,e);return uy(n,[pv(dv(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,kh.exists(!1))]).then((function(){return r}))}(this._delegate,t).then((function(t){return new wy(e.firestore,t)}))},e.prototype.isEqual=function(t){return Qg(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(by.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(ky);function Dy(t){return Fg(t,zg)}var xy,Oy=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(rv.bind.apply(rv,hi([void 0],t)))}return t.documentId=function(){return new t(Yu.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=rn(t))instanceof rv&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Py=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new vv("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new mv("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new yv("arrayUnion",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new bv("arrayRemove",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new wv("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),Ry={Firestore:my,GeoPoint:av,Timestamp:Vu,Blob:dy,Transaction:vy,WriteBatch:yy,DocumentReference:wy,DocumentSnapshot:Ty,Query:ky,QueryDocumentSnapshot:Cy,QuerySnapshot:_y,CollectionReference:Ny,FieldPath:Oy,FieldValue:Py,setLogLevel:function(t){var e;e=t,Su.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new cn("firestore",(function(t){return function(t,e){return new my(t,new Jg(t,e),new py)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Ry)))})(xy=Mn),xy.registerVersion("@firebase/firestore","2.3.10"),Mn.initializeApp({apiKey:"AIzaSyALjb9B3f9Xt0V37H29oUkH8LUWh50P1q8",authDomain:"todolist-82bf5.firebaseapp.com",projectId:"todolist-82bf5",storageBucket:"todolist-82bf5.appspot.com",messagingSenderId:"12575396198",appId:"1:12575396198:web:3950ae4bf2f6c97dcc78a7",measurementId:"G-RN67RX2XWZ"});var Ly=36e5,My={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},By=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,jy=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Fy=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Uy(t){var e,n={},r=t.split(My.dateTimeDelimiter);if(r.length>2)return n;if(/:/.test(r[0])?(n.date=null,e=r[0]):(n.date=r[0],e=r[1],My.timeZoneDelimiter.test(n.date)&&(n.date=t.split(My.timeZoneDelimiter)[0],e=t.substr(n.date.length,t.length))),e){var i=My.timezone.exec(e);i?(n.time=e.replace(i[1],""),n.timezone=i[1]):n.time=e}return n}function Vy(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:null};var i=r[1]&&parseInt(r[1]),o=r[2]&&parseInt(r[2]);return{year:null==o?i:100*o,restDateString:t.slice((r[1]||r[2]).length)}}function qy(t,e){if(null===e)return null;var n=t.match(By);if(!n)return null;var r=!!n[4],i=zy(n[1]),o=zy(n[2])-1,a=zy(n[3]),s=zy(n[4]),u=zy(n[5])-1;if(r)return function(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}(0,s,u)?function(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var i=7*(e-1)+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+i),r}(e,s,u):new Date(NaN);var c=new Date(0);return function(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(Wy[e]||(Qy(t)?29:28))}(e,o,a)&&function(t,e){return e>=1&&e<=(Qy(t)?366:365)}(e,i)?(c.setUTCFullYear(e,o,Math.max(i,a)),c):new Date(NaN)}function zy(t){return t?parseInt(t):1}function Hy(t){var e=t.match(jy);if(!e)return null;var n=Ky(e[1]),r=Ky(e[2]),i=Ky(e[3]);return function(t,e,n){return 24===t?0===e&&0===n:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}(n,r,i)?n*Ly+6e4*r+1e3*i:NaN}function Ky(t){return t&&parseFloat(t.replace(",","."))||0}function Gy(t){if("Z"===t)return 0;var e=t.match(Fy);if(!e)return 0;var n="+"===e[1]?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return function(t,e){return e>=0&&e<=59}(0,i)?n*(r*Ly+6e4*i):NaN}var Wy=[31,null,31,30,31,30,31,31,30,31,30,31];function Qy(t){return t%400==0||t%4==0&&t%100}const Yy=(()=>{const t=t=>{if(ob())return Mn.firestore().collection("projects").where("userId","==",ib()).orderBy("name").get().then((e=>{e.forEach((e=>{Le.populateSideBar(t,[{label:e.data().name,icon1Class:Mt({prefix:"fas",iconName:"folder-open"}).html,icon2Class:Mt({prefix:"fas",iconName:"trash-alt"}).html,projectId:e.id}])}))})).catch((t=>{console.error("Error retrieving projects",t)}))},e=t=>{if(ob())return Mn.firestore().collection("projects").where("userId","==",ib()).orderBy("name").get().then((t=>{const e=[];return t.forEach((t=>{e.push({...t.data(),id:t.id})})),Promise.resolve(e)})).then((e=>Mn.firestore().collection("tasks").get().then((n=>{const r=a(s(n.docs.reduce(((t,e)=>{const n={...e.data()};return n.id=e.id,""!==n.dueDate&&(n.dueDate=n.dueDate.toDate()),t.push(n),t}),[]))),i=document.querySelectorAll("#category-btns h2")[0].textContent;Le.renderContentArea(t,e,r,i)})))).catch((t=>{console.error("Error retrieving projects and tasks",t)}))},n=(t,e,n,r)=>{if(ob())return Mn.firestore().collection("tasks").where("userId","==",ib()).get().then((i=>{if(i.docs.length>0){const o=((t,e,n)=>{const r={start:e,end:n};return t.filter((t=>!(""===t.dueDate||!function(t,e){Bt(2,arguments);var n=e||{},r=jt(t).getTime(),i=jt(n.start).getTime(),o=jt(n.end).getTime();if(!(i<=o))throw new RangeError("Invalid interval");return r>=i&&r<=o}(t.dueDate,r))))})(i.docs.reduce(((t,e)=>{const n=e.data();return n.id=e.id,""!==n.dueDate&&(n.dueDate=n.dueDate.toDate()),t.push(n),t}),[]),e,n);return Mn.firestore().collection("projects").get().then((e=>{const n=e.docs.filter((t=>o.some((e=>e.projectId===t.id)))).map((t=>({...t.data(),id:t.id})));Le.renderContentArea(t,n,o,r)}))}Le.renderContentArea(t,[],[],r)})).catch((t=>{console.error("Error retrieving tasks and projects",t)}))},r=(t,e)=>{if(ob())return Mn.firestore().collection("projects").get().then((t=>{for(let n=0;n<t.docs.length;n++)if(t.docs[n].id===e)return Promise.resolve(t.docs[n].data())})).then((n=>Mn.firestore().collection("tasks").where("projectId","==",e).get().then((r=>{const i=a(s(r.docs.reduce(((t,e)=>{const n=e.data();return n.id=e.id,""!==n.dueDate&&(n.dueDate=n.dueDate.toDate()),t.push(n),t}),[])));Le.renderContentArea(t,[{...n,id:e}],i)})))).catch((t=>{console.error("Error retrieving project and tasks",t)}))},i=()=>{if(!ob())return;const e=document.getElementById("content-area"),n=document.getElementById("projects"),i=document.querySelector("#add-project-input input");return""!==i.value?Mn.firestore().collection("projects").add({name:i.value,userId:ib()}).then((o=>{i.value="",Le.hideProjectInput(),Le.showAddProjectBtn(),Le.clearContainer(n),t(n).then((()=>{c(),h(),Le.clearContainer(e),r(e,o.id).then((()=>{m(),g(),I()}))}))})).catch((t=>{console.error("Error adding new project to database",t)})):void 0},o=()=>{const t=document.getElementById("new-task-name").value;let e=document.getElementById("new-task-due-date").value;""!==e&&(e=function(t,e){Bt(1,arguments);var n=e||{},r=null==n.additionalDigits?2:Qt(n.additionalDigits);if(2!==r&&1!==r&&0!==r)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof t&&"[object String]"!==Object.prototype.toString.call(t))return new Date(NaN);var i,o=Uy(t);if(o.date){var a=Vy(o.date,r);i=qy(a.restDateString,a.year)}if(isNaN(i)||!i)return new Date(NaN);var s,u=i.getTime(),c=0;if(o.time&&(c=Hy(o.time),isNaN(c)||null===c))return new Date(NaN);if(!o.timezone){var h=new Date(u+c),l=new Date(0);return l.setFullYear(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()),l.setHours(h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()),l}return s=Gy(o.timezone),isNaN(s)?new Date(NaN):new Date(u+c+s)}(e));const n=document.querySelectorAll('#new-task-priority-wrapper input[type="radio"]');let r;for(let t=0;t<n.length;t++)n[t].checked&&(r=n[t].value);return{name:t,dueDate:e,priority:r}},a=t=>t.sort(((t,e)=>{if(""===t.dueDate||""===e.dueDate){if(""===t.dueDate&&""===e.dueDate)return 0;if(""===t.dueDate)return 1;if(""===e.dueDate)return-1}return function(t,e){Bt(2,arguments);var n=jt(t),r=jt(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}(t.dueDate,e.dueDate)})),s=t=>t.sort(((t,e)=>{const n=t.priority,r=e.priority;return n===r?0:"high"===n?-1:"low"===n||"medium"===n&&"high"===r||"medium"===n&&"low"===r?1:void 0})),u=()=>{const t=document.getElementById("content-area");document.querySelectorAll("#category-btns li").forEach(((r,i)=>{r.addEventListener("click",(async()=>{switch(Le.clearContainer(t),i){case 0:await e(t);break;case 1:(async t=>{const e=(new Date).setHours(0,0,0,0),r=(new Date).setHours(23,59,59,999),i=document.querySelectorAll("#category-btns h2")[1].textContent;await n(t,e,r,i)})(t);break;case 2:(async t=>{const e=(new Date).setHours(0,0,0,0),r=function(t,e){Bt(2,arguments);var n=jt(t),r=Qt(e);return isNaN(r)?new Date(NaN):r?(n.setDate(n.getDate()+r),n):n}(e,6).setHours(23,59,59,999),i=document.querySelectorAll("#category-btns h2")[2].textContent;await n(t,e,r,i)})(t);break;default:throw new Error("Category event cannot be created")}m(),g(),I()}))}))},c=()=>{const t=document.getElementById("content-area");document.querySelectorAll("#projects li").forEach((e=>{e.addEventListener("click",(async e=>{Le.clearContainer(t);const{projectId:n}=e.currentTarget.dataset;await r(t,n),m(),g(),I()}))}))},h=()=>{const t=document.querySelectorAll(".delete-project"),n=document.getElementById("content-area");t.forEach((t=>{t.addEventListener("click",(async t=>{const{projectId:r}=t.currentTarget.dataset;await(t=>{if(ob())return Mn.firestore().collection("projects").get().then((e=>{for(let n=0;e.docs.length;n++)if(e.docs[n].id===t)return Promise.resolve(e.docs[n].ref)})).then((t=>t.delete())).then((()=>(console.log("Project successfully deleted"),Mn.firestore().collection("tasks").where("projectId","==",t).get()))).then((t=>{const e=[];return t.forEach((t=>{e.push(t.ref.delete())})),Promise.all(e)})).then((()=>{console.log("Project's tasks successfully deleted")})).catch((t=>{console.error("Error deleting project",t)}))})(r);const i=document.querySelector(`#projects li[data-project-id="${r}"]`);Le.deleteElement(i),Le.clearContainer(n),await e(n),m(),g(),I()}))}))},l=()=>{document.getElementById("new-task-date-reset").addEventListener("click",b)},f=()=>{const t=document.getElementById("new-task-validate");w(t)},d=()=>{const t=document.getElementById("new-task-cancel");A(t)},p=()=>{const t=document.querySelectorAll(".task-add-btn"),e=document.querySelectorAll(".task-edit-btn");v(t),v(e)},m=()=>{document.querySelectorAll(".task-add-btn").forEach((t=>{t.addEventListener("click",(async t=>{const e=t.target.dataset.projectId,n=document.querySelector(`#content-area ul[data-project-id="${e}"]`);Le.createNewTask(n,e),l(),f(),d(),p()}))}))},g=()=>{document.querySelectorAll(".task-edit-btn").forEach((t=>{t.addEventListener("click",(async t=>{const e=t.currentTarget.dataset.taskId,n=document.querySelector(`li[data-task-id="${e}"]`);Le.clearContainer(n),await(t=>{if(!ob())return;const{taskId:e}=t.dataset;return Mn.firestore().collection("tasks").get().then((n=>{n.forEach((n=>{if(n.id===e){Le.clearContainer(t);const r={...n.data()};""!==r.dueDate&&(r.dueDate=r.dueDate.toDate()),Le.renderNewTask(t,{...r,id:e})}}))})).catch((t=>{console.error("Error retrieving task",t)}))})(n),l(),f(),d(),p()}))}))},v=t=>{t.forEach((t=>t.disabled=!0))},y=t=>{document.getElementById("new-task-name")||t.forEach((t=>t.disabled=!1))},b=()=>{document.getElementById("new-task-due-date").value=""},w=t=>{if(document.getElementById("new-task-container")){const e="click";t.addEventListener(e,(async()=>{await(()=>{if(!ob())return;const t=document.getElementById("new-task-container"),{projectId:e}=t.dataset,{name:n,dueDate:r,priority:i}=o();if(""===n)return;const u=document.querySelector(`#content-area ul[data-project-id="${e}"]`);return Mn.firestore().collection("tasks").add({name:n,dueDate:r,priority:i,projectId:e,userId:ib()}).then((()=>Mn.firestore().collection("tasks").where("projectId","==",e).get())).then((e=>{const n=a(s(e.docs.reduce(((t,e)=>{const n=e.data();return n.id=e.id,""!==n.dueDate&&(n.dueDate=n.dueDate.toDate()),t.push(n),t}),[])));Le.clearContainer(u),Le.deleteElement(t),Le.renderTaskList(u,n)})).catch((t=>{console.error("Error adding new task",t)}))})();const t=document.querySelectorAll(".task-add-btn"),e=document.querySelectorAll(".task-edit-btn");y(t),y(e),g(),I()}))}else{const e="click";t.addEventListener(e,(async()=>{await(()=>{if(!ob())return;const t=document.getElementById("edit-task-container"),{taskId:e}=t.dataset,{name:n,dueDate:r,priority:i}=o();return Mn.firestore().collection("tasks").get().then((o=>{o.forEach((o=>{if(o.id===e)return o.ref.update({name:n,dueDate:r,priority:i}).then((()=>{console.log("Task successfully updated"),Le.clearContainer(t),Le.renderTask(t,{name:n,dueDate:r,priority:i,id:e})}))}))})).catch((t=>{console.error("Error updating task",t)}))})();const t=document.querySelectorAll(".task-add-btn"),e=document.querySelectorAll(".task-edit-btn");y(t),y(e),g(),I()}))}},A=t=>{const e=document.getElementById("new-task-container"),n="click",r=document.querySelectorAll(".task-add-btn"),i=document.querySelectorAll(".task-edit-btn");e?t.addEventListener(n,(async()=>{Le.deleteElement(e),y(r),y(i),g(),I()})):t.addEventListener(n,(async()=>{await(()=>{if(!ob())return;const t=document.getElementById("edit-task-container"),{taskId:e}=t.dataset;return Mn.firestore().collection("tasks").get().then((n=>{n.forEach((n=>{if(n.id===e){Le.clearContainer(t);const e=n.data();""!==e.dueDate&&(e.dueDate=e.dueDate.toDate()),Le.renderTask(t,{...e,id:n.id})}}))})).catch((t=>{console.error("Error retrieving task",t)}))})(),y(r),y(i),g(),I()}))},I=()=>{document.querySelectorAll(".check-mark").forEach((t=>{t.addEventListener("click",(async t=>{const{taskId:e}=t.currentTarget.dataset;await(t=>{if(ob())return Mn.firestore().collection("tasks").get().then((e=>{e.forEach((e=>{e.id===t&&e.ref.delete().then((()=>{console.log("Task successfully deleted")}))}))})).catch((t=>{console.error("Error deleting task",t)}))})(e);const n=document.querySelector(`#content-area li[data-task-id="${e}"]`);Le.fadeOut(n,350)}))}))};return{renderMain:t=>{Le.renderMain(t)},renderProjects:t,renderCategories:t=>{const e=[{label:"All tasks",icon1Class:Mt({prefix:"fas",iconName:"inbox"}).html},{label:"Today",icon1Class:Mt({prefix:"fas",iconName:"calendar-day"}).html},{label:"Next 7 days",icon1Class:Mt({prefix:"fas",iconName:"calendar-week"}).html}];Le.populateSideBar(t,e)},renderAllTasks:e,assignInitialEvents:()=>{(()=>{const t=document.getElementById("hamburger-logo"),e=document.getElementById("content-area"),n=document.getElementById("side-bar"),r="click";t.addEventListener(r,(()=>{n.classList.toggle("slide-in")})),e.addEventListener(r,(()=>{n.classList.remove("slide-in")}))})(),u(),c(),h(),(()=>{const t=document.getElementById("add-project-container"),e="click";t.addEventListener(e,(()=>{Le.hideAddProjectBtn(),Le.showProjectInput();const t=document.getElementById("project-validate");t.addEventListener(e,i),document.getElementById("project-cancel").addEventListener(e,(()=>{document.querySelector("#add-project-input input").value="",Le.hideProjectInput(),Le.showAddProjectBtn(),t.removeEventListener(e,i)}))}))})(),m(),g(),I()},createProjectEvents:c,createDeleteProjectEvent:h,createAddTaskEvent:m,createUpdateTaskEvent:g,createDeleteTaskEvent:I}})(),Xy=document.querySelector("body");Yy.renderMain(Xy);const $y=document.getElementById("category-btns"),Jy=document.getElementById("projects"),Zy=document.getElementById("content-area");Yy.renderCategories($y);const tb=document.querySelector(".sign-in-btn"),eb=document.querySelector(".sign-out-btn"),nb=document.getElementById("profile-pic"),rb=document.getElementById("user-name"),ib=()=>Mn.auth().currentUser.uid,ob=()=>!!Mn.auth().currentUser;Mn.auth().onAuthStateChanged((t=>{if(t){var e=Mn.auth().currentUser.photoURL,n=Mn.auth().currentUser.displayName;nb.style.backgroundImage="url("+e+")",rb.textContent=n,eb.classList.remove("hide"),tb.classList.add("hide"),Promise.all([Yy.renderProjects(Jy),Yy.renderAllTasks(Zy)]).then((()=>{Yy.createProjectEvents(),Yy.createDeleteProjectEvent(),Yy.createAddTaskEvent(),Yy.createUpdateTaskEvent(),Yy.createDeleteTaskEvent()}))}else eb.classList.add("hide"),tb.classList.remove("hide"),Le.clearContainer(Zy),Le.clearContainer(Jy)})),ob()?Promise.all([Yy.renderProjects(Jy),Yy.renderAllTasks(Zy)]).then((()=>{Yy.assignInitialEvents()})):Yy.assignInitialEvents(),tb.addEventListener("click",(()=>{var t=new Mn.auth.GoogleAuthProvider;Mn.auth().signInWithPopup(t)})),eb.addEventListener("click",(()=>{Mn.auth().signOut()}))})()})();
//# sourceMappingURL=bundle.js.map